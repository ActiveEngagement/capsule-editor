{"version":3,"file":"capsule-editor.es.min.js","sources":["../node_modules/is-buffer/index.js","../node_modules/axios/lib/utils.js","../node_modules/process-es6/browser.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/btoa.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/vue-interface/src/Helpers/Functions/extend.js","../node_modules/vue-interface/src/Helpers/Functions/isNull.js","../node_modules/vue-interface/src/Helpers/Functions/isArray.js","../node_modules/vue-interface/src/Helpers/Functions/isObject.js","../node_modules/vue-interface/src/Helpers/Functions/deepExtend.js","../node_modules/vue-interface/src/Helpers/Functions/isNumber.js","../node_modules/vue-interface/src/Helpers/Functions/isNumeric.js","../node_modules/vue-interface/src/Helpers/Functions/key.js","../node_modules/vue-interface/src/Helpers/Functions/each.js","../node_modules/vue-interface/src/Helpers/Functions/isString.js","../node_modules/vue-interface/src/Helpers/Functions/isFunction.js","../node_modules/vue-interface/src/Helpers/Functions/isBoolean.js","../node_modules/vue-interface/src/Helpers/Functions/isUndefined.js","../node_modules/vue-interface/src/Helpers/Functions/isEmpty.js","../node_modules/vue-interface/src/Helpers/Functions/kebabCase.js","../node_modules/vue-interface/src/Helpers/Functions/mapKeys.js","../node_modules/@fortawesome/fontawesome/index.es.js","../src/LintAddon.js","../node_modules/vue-interface/src/Helpers/Prefix/Prefix.js","../node_modules/vue-interface/src/Mixins/FormControl/FormControl.js","../node_modules/vue-runtime-helpers/normalize-component.js","../node_modules/vue-interface/src/Helpers/Unit/Unit.js","../node_modules/vue-interface/src/Helpers/Uuid/Uuid.js","../node_modules/popper.js/dist/esm/popper.js","../node_modules/@fortawesome/fontawesome-svg-core/index.es.js","../node_modules/@fortawesome/vue-fontawesome/index.es.js","../node_modules/vue-interface/src/Helpers/Transition/Transition.js","../node_modules/vue-interface/src/Helpers/Instantiate/Instantiate.js","../node_modules/vue-interface/src/Plugins/Modal/Modal.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../src/LintState.js","../node_modules/@fortawesome/free-solid-svg-icons/faBug.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/javascript/javascript.js","../node_modules/codemirror/mode/css/css.js","../node_modules/codemirror/mode/htmlmixed/htmlmixed.js","../node_modules/codemirror/addon/fold/xml-fold.js","../node_modules/codemirror/addon/edit/matchtags.js","../node_modules/codemirror/addon/edit/closebrackets.js","../node_modules/codemirror/addon/fold/foldcode.js","../node_modules/codemirror/addon/fold/foldgutter.js","../node_modules/codemirror/addon/fold/brace-fold.js","../node_modules/codemirror/addon/fold/indent-fold.js","../node_modules/codemirror/addon/fold/markdown-fold.js","../node_modules/codemirror/addon/fold/comment-fold.js","../node_modules/codemirror/addon/hint/show-hint.js","../node_modules/codemirror/addon/hint/xml-hint.js","../node_modules/codemirror/addon/hint/html-hint.js","../node_modules/codemirror/addon/merge/merge.js","../node_modules/vue-interface/src/Mixins/Colorable/Colorable.js","../node_modules/vue-interface/src/Mixins/MergeClasses/MergeClasses.js","../src/EditorField.vue","../src/Icons/alt.js","../src/Icons/ctrl.js","../src/Icons/shift.js","../node_modules/vue-interface/src/Mixins/Variant/Variant.js","../node_modules/vue-interface/src/Components/Badge/Badge.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarBrand.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarCollapse.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarText.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarTogglerIcon.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarToggler.vue","../node_modules/vue-interface/src/Components/Navbar/Navbar.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationError.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationLink.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationItem.vue","../node_modules/vue-interface/src/Components/Navigation/Navigation.vue","../node_modules/vue-interface/src/Mixins/Proxy/Proxy.js","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuItem.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuHeader.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuDivider.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenu.vue","../node_modules/vue-interface/src/Mixins/Sizeable/Sizeable.js","../node_modules/vue-interface/src/Components/Btn/Btn.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnGroup.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnGroupToggle.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnToolbar.vue","../node_modules/vue-interface/src/Components/BtnDropdown/BtnDropdown.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationDropdown.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarNav.vue","../src/EditorHotkey.vue","../src/EditorToolbarMenuItem.vue","../node_modules/@fortawesome/free-solid-svg-icons/faCog.js","../node_modules/vue-interface/src/Components/ActivityIndicator/Types/BaseType.vue","../node_modules/vue-interface/src/Components/ActivityIndicator/Types/Dots.vue","../node_modules/vue-interface/src/Components/ActivityIndicator/Types/Spinner.vue","../node_modules/vue-interface/src/Components/ActivityIndicator/ActivityIndicator.vue","../node_modules/vue-interface/src/Components/BtnActivity/BtnActivity.vue","../src/EditorToolbar.vue","../node_modules/vue-interface/src/Mixins/Screenreaders/Screenreaders.js","../node_modules/vue-interface/src/Components/HelpText/HelpText.vue","../node_modules/vue-interface/src/Components/FormGroup/FormGroup.vue","../node_modules/vue-interface/src/Components/FormLabel/FormLabel.vue","../node_modules/vue-interface/src/Components/FormControl/FormControl.vue","../node_modules/vue-interface/src/Components/FormFeedback/FormFeedback.vue","../node_modules/vue-interface/src/Components/InputField/InputField.vue","../src/Editor.vue","../node_modules/vue-interface/src/Components/Modal/ModalBody.vue","../node_modules/vue-interface/src/Components/Modal/ModalDialog.vue","../node_modules/vue-interface/src/Components/Modal/ModalTitle.vue","../node_modules/vue-interface/src/Components/Modal/ModalHeader.vue","../node_modules/vue-interface/src/Components/Modal/ModalFooter.vue","../node_modules/vue-interface/src/Components/Modal/ModalContent.vue","../node_modules/vue-interface/src/Components/Modal/ModalBackdrop.vue","../node_modules/vue-interface/src/Mixins/Triggerable/Triggerable.js","../node_modules/vue-interface/src/Components/Modal/Modal.vue","../src/main.js"],"sourcesContent":["/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","export default function extend(...args) {\n    return Object.assign(...args);\n}\n","export default function isNull(value) {\n    return value === null;\n}\n","export default function isArray(value) {\n    return Array.isArray(value);\n}\n","import isNull from './isNull';\nimport isArray from './isArray';\n\nexport default function isObject(value) {\n    return (typeof value === 'object') && !isNull(value) && !isArray(value);\n}\n","import extend from './extend';\nimport isObject from './isObject';\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n*/\nexport default function deepExtend(target, ...sources) {\n    if(!sources.length) return target;\n\n    const source = sources.shift();\n\n    if(isObject(target) && isObject(source)) {\n        for(const key in source) {\n            if(isObject(source[key])) {\n                if(!target[key]) extend(target, { [key]: {} });\n                deepExtend(target[key], source[key]);\n            }\n            else {\n                extend(target, { [key]: source[key] });\n            }\n        }\n    }\n\n    return deepExtend(target, ...sources);\n}\n","export default function isNumber(value) {\n    return (typeof value === 'number') || (\n        value ? value.toString() === '[object Number]' : false\n    );\n}\n","import isArray from './isArray';\nimport isNumber from './isNumber';\n\nexport default function isNumeric(value) {\n    return isNumber(value) || (\n        !!value && !isArray(value) && !!value.toString().match(/^-?[\\d.,]+$/)\n    );\n}\n","import isNumeric from './isNumeric';\n\nexport default function key(value) {\n    return isNumeric(value) ? parseFloat(value) : value;\n}\n","import key from './key';\n\nexport default function each(subject, fn) {\n    for(const i in subject) {\n        fn(subject[i], key(i));\n    }\n}\n","export default function isString(value) {\n    return typeof value === 'string';\n}\n","export default function isFunction(value) {\n    return value instanceof Function;\n}\n","export default function isBoolean(value) {\n    return value === true || value === false;\n}\n","export default function isUndefined(value) {\n    return typeof value === 'undefined';\n}\n","import isNull from './isNull';\nimport isArray from './isArray';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\n\nexport default function isEmpty(value) {\n    if(isArray(value)) {\n        return value.length === 0;\n    }\n    else if(isObject(value)) {\n        return Object.keys(value).length === 0;\n    }\n\n    return value === '' || isNull(value) || isUndefined(value);\n}\n","export default function kebabCase(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2')\n        .replace(/\\s+/g, '-')\n        .replace(/_/g, '-')\n        .toLowerCase();\n}\n","import each from './each';\n\nexport default function mapKeys(object, fn) {\n    const mapped = {};\n\n    each(object, (value, key) => {\n        mapped[fn(value, key)] = value;\n    });\n\n    return mapped;\n}\n","/*!\n * Font Awesome Free 5.0.13 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\nvar noop = function noop() {};\n\nvar _WINDOW = {};\nvar _DOCUMENT = {};\nvar _MUTATION_OBSERVER$1 = null;\nvar _PERFORMANCE = { mark: noop, measure: noop };\n\ntry {\n  if (typeof window !== 'undefined') _WINDOW = window;\n  if (typeof document !== 'undefined') _DOCUMENT = document;\n  if (typeof MutationObserver !== 'undefined') _MUTATION_OBSERVER$1 = MutationObserver;\n  if (typeof performance !== 'undefined') _PERFORMANCE = performance;\n} catch (e) {}\n\nvar _ref = _WINDOW.navigator || {};\nvar _ref$userAgent = _ref.userAgent;\nvar userAgent = _ref$userAgent === undefined ? '' : _ref$userAgent;\n\nvar WINDOW = _WINDOW;\nvar DOCUMENT = _DOCUMENT;\nvar MUTATION_OBSERVER = _MUTATION_OBSERVER$1;\nvar PERFORMANCE = _PERFORMANCE;\nvar IS_BROWSER = !!WINDOW.document;\nvar IS_DOM = !!DOCUMENT.documentElement && !!DOCUMENT.head && typeof DOCUMENT.addEventListener === 'function' && typeof DOCUMENT.createElement === 'function';\nvar IS_IE = ~userAgent.indexOf('MSIE') || ~userAgent.indexOf('Trident/');\n\nvar NAMESPACE_IDENTIFIER = '___FONT_AWESOME___';\nvar UNITS_IN_GRID = 16;\nvar DEFAULT_FAMILY_PREFIX = 'fa';\nvar DEFAULT_REPLACEMENT_CLASS = 'svg-inline--fa';\nvar DATA_FA_I2SVG = 'data-fa-i2svg';\nvar DATA_FA_PSEUDO_ELEMENT = 'data-fa-pseudo-element';\nvar HTML_CLASS_I2SVG_BASE_CLASS = 'fontawesome-i2svg';\n\nvar PRODUCTION = function () {\n  try {\n    return process.env.NODE_ENV === 'production';\n  } catch (e) {\n    return false;\n  }\n}();\n\nvar oneToTen = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar oneToTwenty = oneToTen.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\n\nvar ATTRIBUTES_WATCHED_FOR_MUTATION = ['class', 'data-prefix', 'data-icon', 'data-fa-transform', 'data-fa-mask'];\n\nvar RESERVED_CLASSES = ['xs', 'sm', 'lg', 'fw', 'ul', 'li', 'border', 'pull-left', 'pull-right', 'spin', 'pulse', 'rotate-90', 'rotate-180', 'rotate-270', 'flip-horizontal', 'flip-vertical', 'stack', 'stack-1x', 'stack-2x', 'inverse', 'layers', 'layers-text', 'layers-counter'].concat(oneToTen.map(function (n) {\n  return n + 'x';\n})).concat(oneToTwenty.map(function (n) {\n  return 'w-' + n;\n}));\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar initial = WINDOW.FontAwesomeConfig || {};\nvar initialKeys = Object.keys(initial);\n\nvar _default = _extends({\n  familyPrefix: DEFAULT_FAMILY_PREFIX,\n  replacementClass: DEFAULT_REPLACEMENT_CLASS,\n  autoReplaceSvg: true,\n  autoAddCss: true,\n  autoA11y: true,\n  searchPseudoElements: false,\n  observeMutations: true,\n  keepOriginalSource: true,\n  measurePerformance: false,\n  showMissingIcons: true\n}, initial);\n\nif (!_default.autoReplaceSvg) _default.observeMutations = false;\n\nvar config$1 = _extends({}, _default);\n\nWINDOW.FontAwesomeConfig = config$1;\n\nfunction update(newConfig) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$asNewDefault = params.asNewDefault,\n      asNewDefault = _params$asNewDefault === undefined ? false : _params$asNewDefault;\n\n  var validKeys = Object.keys(config$1);\n  var ok = asNewDefault ? function (k) {\n    return ~validKeys.indexOf(k) && !~initialKeys.indexOf(k);\n  } : function (k) {\n    return ~validKeys.indexOf(k);\n  };\n\n  Object.keys(newConfig).forEach(function (configKey) {\n    if (ok(configKey)) config$1[configKey] = newConfig[configKey];\n  });\n}\n\nfunction auto(value) {\n  update({\n    autoReplaceSvg: value,\n    observeMutations: value\n  });\n}\n\nvar w = WINDOW || {};\n\nif (!w[NAMESPACE_IDENTIFIER]) w[NAMESPACE_IDENTIFIER] = {};\nif (!w[NAMESPACE_IDENTIFIER].styles) w[NAMESPACE_IDENTIFIER].styles = {};\nif (!w[NAMESPACE_IDENTIFIER].hooks) w[NAMESPACE_IDENTIFIER].hooks = {};\nif (!w[NAMESPACE_IDENTIFIER].shims) w[NAMESPACE_IDENTIFIER].shims = [];\n\nvar namespace = w[NAMESPACE_IDENTIFIER];\n\nvar functions = [];\nvar listener = function listener() {\n  DOCUMENT.removeEventListener('DOMContentLoaded', listener);\n  loaded = 1;\n  functions.map(function (fn) {\n    return fn();\n  });\n};\n\nvar loaded = false;\n\nif (IS_DOM) {\n  loaded = (DOCUMENT.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(DOCUMENT.readyState);\n\n  if (!loaded) DOCUMENT.addEventListener('DOMContentLoaded', listener);\n}\n\nvar domready = function (fn) {\n  if (!IS_DOM) return;\n  loaded ? setTimeout(fn, 0) : functions.push(fn);\n};\n\nvar d = UNITS_IN_GRID;\n\nvar meaninglessTransform = {\n  size: 16,\n  x: 0,\n  y: 0,\n  rotate: 0,\n  flipX: false,\n  flipY: false\n};\n\nfunction isReserved(name) {\n  return ~RESERVED_CLASSES.indexOf(name);\n}\n\nfunction bunker(fn) {\n  try {\n    fn();\n  } catch (e) {\n    if (!PRODUCTION) {\n      throw e;\n    }\n  }\n}\n\nfunction insertCss(css) {\n  if (!css || !IS_DOM) {\n    return;\n  }\n\n  var style = DOCUMENT.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n\n  var headChildren = DOCUMENT.head.childNodes;\n  var beforeChild = null;\n\n  for (var i = headChildren.length - 1; i > -1; i--) {\n    var child = headChildren[i];\n    var tagName = (child.tagName || '').toUpperCase();\n    if (['STYLE', 'LINK'].indexOf(tagName) > -1) {\n      beforeChild = child;\n    }\n  }\n\n  DOCUMENT.head.insertBefore(style, beforeChild);\n\n  return css;\n}\n\nvar _uniqueId = 0;\n\nfunction nextUniqueId() {\n  _uniqueId++;\n\n  return _uniqueId;\n}\n\nfunction toArray(obj) {\n  var array = [];\n\n  for (var i = (obj || []).length >>> 0; i--;) {\n    array[i] = obj[i];\n  }\n\n  return array;\n}\n\nfunction classArray(node) {\n  if (node.classList) {\n    return toArray(node.classList);\n  } else {\n    return (node.getAttribute('class') || '').split(' ').filter(function (i) {\n      return i;\n    });\n  }\n}\n\nfunction getIconName(familyPrefix, cls) {\n  var parts = cls.split('-');\n  var prefix = parts[0];\n  var iconName = parts.slice(1).join('-');\n\n  if (prefix === familyPrefix && iconName !== '' && !isReserved(iconName)) {\n    return iconName;\n  } else {\n    return null;\n  }\n}\n\nfunction htmlEscape(str) {\n  return ('' + str).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nfunction joinAttributes(attributes) {\n  return Object.keys(attributes || {}).reduce(function (acc, attributeName) {\n    return acc + (attributeName + '=\"' + htmlEscape(attributes[attributeName]) + '\" ');\n  }, '').trim();\n}\n\nfunction joinStyles(styles) {\n  return Object.keys(styles || {}).reduce(function (acc, styleName) {\n    return acc + (styleName + ': ' + styles[styleName] + ';');\n  }, '');\n}\n\nfunction transformIsMeaningful(transform) {\n  return transform.size !== meaninglessTransform.size || transform.x !== meaninglessTransform.x || transform.y !== meaninglessTransform.y || transform.rotate !== meaninglessTransform.rotate || transform.flipX || transform.flipY;\n}\n\nfunction transformForSvg(_ref) {\n  var transform = _ref.transform,\n      containerWidth = _ref.containerWidth,\n      iconWidth = _ref.iconWidth;\n\n  var outer = {\n    transform: 'translate(' + containerWidth / 2 + ' 256)'\n  };\n  var innerTranslate = 'translate(' + transform.x * 32 + ', ' + transform.y * 32 + ') ';\n  var innerScale = 'scale(' + transform.size / 16 * (transform.flipX ? -1 : 1) + ', ' + transform.size / 16 * (transform.flipY ? -1 : 1) + ') ';\n  var innerRotate = 'rotate(' + transform.rotate + ' 0 0)';\n  var inner = {\n    transform: innerTranslate + ' ' + innerScale + ' ' + innerRotate\n  };\n  var path = {\n    transform: 'translate(' + iconWidth / 2 * -1 + ' -256)'\n  };\n  return {\n    outer: outer,\n    inner: inner,\n    path: path\n  };\n}\n\nfunction transformForCss(_ref2) {\n  var transform = _ref2.transform,\n      _ref2$width = _ref2.width,\n      width = _ref2$width === undefined ? UNITS_IN_GRID : _ref2$width,\n      _ref2$height = _ref2.height,\n      height = _ref2$height === undefined ? UNITS_IN_GRID : _ref2$height,\n      _ref2$startCentered = _ref2.startCentered,\n      startCentered = _ref2$startCentered === undefined ? false : _ref2$startCentered;\n\n  var val = '';\n\n  if (startCentered && IS_IE) {\n    val += 'translate(' + (transform.x / d - width / 2) + 'em, ' + (transform.y / d - height / 2) + 'em) ';\n  } else if (startCentered) {\n    val += 'translate(calc(-50% + ' + transform.x / d + 'em), calc(-50% + ' + transform.y / d + 'em)) ';\n  } else {\n    val += 'translate(' + transform.x / d + 'em, ' + transform.y / d + 'em) ';\n  }\n\n  val += 'scale(' + transform.size / d * (transform.flipX ? -1 : 1) + ', ' + transform.size / d * (transform.flipY ? -1 : 1) + ') ';\n  val += 'rotate(' + transform.rotate + 'deg) ';\n\n  return val;\n}\n\nvar ALL_SPACE = {\n  x: 0,\n  y: 0,\n  width: '100%',\n  height: '100%'\n};\n\nvar makeIconMasking = function (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      mask = _ref.mask,\n      transform = _ref.transform;\n  var mainWidth = main.width,\n      mainPath = main.icon;\n  var maskWidth = mask.width,\n      maskPath = mask.icon;\n\n\n  var trans = transformForSvg({ transform: transform, containerWidth: maskWidth, iconWidth: mainWidth });\n\n  var maskRect = {\n    tag: 'rect',\n    attributes: _extends({}, ALL_SPACE, {\n      fill: 'white'\n    })\n  };\n  var maskInnerGroup = {\n    tag: 'g',\n    attributes: _extends({}, trans.inner),\n    children: [{ tag: 'path', attributes: _extends({}, mainPath.attributes, trans.path, { fill: 'black' }) }]\n  };\n  var maskOuterGroup = {\n    tag: 'g',\n    attributes: _extends({}, trans.outer),\n    children: [maskInnerGroup]\n  };\n  var maskId = 'mask-' + nextUniqueId();\n  var clipId = 'clip-' + nextUniqueId();\n  var maskTag = {\n    tag: 'mask',\n    attributes: _extends({}, ALL_SPACE, {\n      id: maskId,\n      maskUnits: 'userSpaceOnUse',\n      maskContentUnits: 'userSpaceOnUse'\n    }),\n    children: [maskRect, maskOuterGroup]\n  };\n  var defs = {\n    tag: 'defs',\n    children: [{ tag: 'clipPath', attributes: { id: clipId }, children: [maskPath] }, maskTag]\n  };\n\n  children.push(defs, { tag: 'rect', attributes: _extends({ fill: 'currentColor', 'clip-path': 'url(#' + clipId + ')', mask: 'url(#' + maskId + ')' }, ALL_SPACE) });\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n};\n\nvar makeIconStandard = function (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      transform = _ref.transform,\n      styles = _ref.styles;\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  if (transformIsMeaningful(transform)) {\n    var trans = transformForSvg({ transform: transform, containerWidth: main.width, iconWidth: main.width });\n    children.push({\n      tag: 'g',\n      attributes: _extends({}, trans.outer),\n      children: [{\n        tag: 'g',\n        attributes: _extends({}, trans.inner),\n        children: [{\n          tag: main.icon.tag,\n          children: main.icon.children,\n          attributes: _extends({}, main.icon.attributes, trans.path)\n        }]\n      }]\n    });\n  } else {\n    children.push(main.icon);\n  }\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n};\n\nvar asIcon = function (_ref) {\n  var children = _ref.children,\n      main = _ref.main,\n      mask = _ref.mask,\n      attributes = _ref.attributes,\n      styles = _ref.styles,\n      transform = _ref.transform;\n\n  if (transformIsMeaningful(transform) && main.found && !mask.found) {\n    var width = main.width,\n        height = main.height;\n\n    var offset = {\n      x: width / height / 2,\n      y: 0.5\n    };\n    attributes['style'] = joinStyles(_extends({}, styles, {\n      'transform-origin': offset.x + transform.x / 16 + 'em ' + (offset.y + transform.y / 16) + 'em'\n    }));\n  }\n\n  return [{\n    tag: 'svg',\n    attributes: attributes,\n    children: children\n  }];\n};\n\nvar asSymbol = function (_ref) {\n  var prefix = _ref.prefix,\n      iconName = _ref.iconName,\n      children = _ref.children,\n      attributes = _ref.attributes,\n      symbol = _ref.symbol;\n\n  var id = symbol === true ? prefix + '-' + config$1.familyPrefix + '-' + iconName : symbol;\n\n  return [{\n    tag: 'svg',\n    attributes: {\n      style: 'display: none;'\n    },\n    children: [{\n      tag: 'symbol',\n      attributes: _extends({}, attributes, { id: id }),\n      children: children\n    }]\n  }];\n};\n\nfunction makeInlineSvgAbstract(params) {\n  var _params$icons = params.icons,\n      main = _params$icons.main,\n      mask = _params$icons.mask,\n      prefix = params.prefix,\n      iconName = params.iconName,\n      transform = params.transform,\n      symbol = params.symbol,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable = params.watchable,\n      watchable = _params$watchable === undefined ? false : _params$watchable;\n\n  var _ref = mask.found ? mask : main,\n      width = _ref.width,\n      height = _ref.height;\n\n  var widthClass = 'fa-w-' + Math.ceil(width / height * 16);\n  var attrClass = [config$1.replacementClass, iconName ? config$1.familyPrefix + '-' + iconName : '', widthClass].concat(extra.classes).join(' ');\n\n  var content = {\n    children: [],\n    attributes: _extends({}, extra.attributes, {\n      'data-prefix': prefix,\n      'data-icon': iconName,\n      'class': attrClass,\n      'role': 'img',\n      'xmlns': 'http://www.w3.org/2000/svg',\n      'viewBox': '0 0 ' + width + ' ' + height\n    })\n  };\n\n  if (watchable) {\n    content.attributes[DATA_FA_I2SVG] = '';\n  }\n\n  if (title) content.children.push({ tag: 'title', attributes: { id: content.attributes['aria-labelledby'] || 'title-' + nextUniqueId() }, children: [title] });\n\n  var args = _extends({}, content, {\n    prefix: prefix,\n    iconName: iconName,\n    main: main,\n    mask: mask,\n    transform: transform,\n    symbol: symbol,\n    styles: extra.styles\n  });\n\n  var _ref2 = mask.found && main.found ? makeIconMasking(args) : makeIconStandard(args),\n      children = _ref2.children,\n      attributes = _ref2.attributes;\n\n  args.children = children;\n  args.attributes = attributes;\n\n  if (symbol) {\n    return asSymbol(args);\n  } else {\n    return asIcon(args);\n  }\n}\n\nfunction makeLayersTextAbstract(params) {\n  var content = params.content,\n      width = params.width,\n      height = params.height,\n      transform = params.transform,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable2 = params.watchable,\n      watchable = _params$watchable2 === undefined ? false : _params$watchable2;\n\n\n  var attributes = _extends({}, extra.attributes, title ? { 'title': title } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  if (watchable) {\n    attributes[DATA_FA_I2SVG] = '';\n  }\n\n  var styles = _extends({}, extra.styles);\n\n  if (transformIsMeaningful(transform)) {\n    styles['transform'] = transformForCss({ transform: transform, startCentered: true, width: width, height: height });\n    styles['-webkit-transform'] = styles['transform'];\n  }\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({ tag: 'span', attributes: { class: 'sr-only' }, children: [title] });\n  }\n\n  return val;\n}\n\nvar noop$2 = function noop() {};\nvar p = config$1.measurePerformance && PERFORMANCE && PERFORMANCE.mark && PERFORMANCE.measure ? PERFORMANCE : { mark: noop$2, measure: noop$2 };\nvar preamble = 'FA \"5.0.13\"';\n\nvar begin = function begin(name) {\n  p.mark(preamble + ' ' + name + ' begins');\n  return function () {\n    return end(name);\n  };\n};\n\nvar end = function end(name) {\n  p.mark(preamble + ' ' + name + ' ends');\n  p.measure(preamble + ' ' + name, preamble + ' ' + name + ' begins', preamble + ' ' + name + ' ends');\n};\n\nvar perf = { begin: begin, end: end };\n\n'use strict';\n\n/**\n * Internal helper to bind a function known to have 4 arguments\n * to a given context.\n */\nvar bindInternal4 = function bindInternal4 (func, thisContext) {\n  return function (a, b, c, d) {\n    return func.call(thisContext, a, b, c, d);\n  };\n};\n\n'use strict';\n\n\n\n/**\n * # Reduce\n *\n * A fast object `.reduce()` implementation.\n *\n * @param  {Object}   subject      The object to reduce over.\n * @param  {Function} fn           The reducer function.\n * @param  {mixed}    initialValue The initial value for the reducer, defaults to subject[0].\n * @param  {Object}   thisContext  The context for the reducer.\n * @return {mixed}                 The final result.\n */\nvar reduce = function fastReduceObject (subject, fn, initialValue, thisContext) {\n  var keys = Object.keys(subject),\n      length = keys.length,\n      iterator = thisContext !== undefined ? bindInternal4(fn, thisContext) : fn,\n      i, key, result;\n\n  if (initialValue === undefined) {\n    i = 1;\n    result = subject[keys[0]];\n  }\n  else {\n    i = 0;\n    result = initialValue;\n  }\n\n  for (; i < length; i++) {\n    key = keys[i];\n    result = iterator(result, subject[key], key, subject);\n  }\n\n  return result;\n};\n\nvar styles$2 = namespace.styles;\nvar shims = namespace.shims;\n\n\nvar _byUnicode = {};\nvar _byLigature = {};\nvar _byOldName = {};\n\nvar build = function build() {\n  var lookup = function lookup(reducer) {\n    return reduce(styles$2, function (o, style, prefix) {\n      o[prefix] = reduce(style, reducer, {});\n      return o;\n    }, {});\n  };\n\n  _byUnicode = lookup(function (acc, icon, iconName) {\n    acc[icon[3]] = iconName;\n\n    return acc;\n  });\n\n  _byLigature = lookup(function (acc, icon, iconName) {\n    var ligatures = icon[2];\n\n    acc[iconName] = iconName;\n\n    ligatures.forEach(function (ligature) {\n      acc[ligature] = iconName;\n    });\n\n    return acc;\n  });\n\n  var hasRegular = 'far' in styles$2;\n\n  _byOldName = reduce(shims, function (acc, shim) {\n    var oldName = shim[0];\n    var prefix = shim[1];\n    var iconName = shim[2];\n\n    if (prefix === 'far' && !hasRegular) {\n      prefix = 'fas';\n    }\n\n    acc[oldName] = { prefix: prefix, iconName: iconName };\n\n    return acc;\n  }, {});\n};\n\nbuild();\n\nfunction byUnicode(prefix, unicode) {\n  return _byUnicode[prefix][unicode];\n}\n\nfunction byLigature(prefix, ligature) {\n  return _byLigature[prefix][ligature];\n}\n\nfunction byOldName(name) {\n  return _byOldName[name] || { prefix: null, iconName: null };\n}\n\nvar styles$1 = namespace.styles;\n\n\nvar emptyCanonicalIcon = function emptyCanonicalIcon() {\n  return { prefix: null, iconName: null, rest: [] };\n};\n\nfunction getCanonicalIcon(values) {\n  return values.reduce(function (acc, cls) {\n    var iconName = getIconName(config$1.familyPrefix, cls);\n\n    if (styles$1[cls]) {\n      acc.prefix = cls;\n    } else if (iconName) {\n      var shim = acc.prefix === 'fa' ? byOldName(iconName) : {};\n\n      acc.iconName = shim.iconName || iconName;\n      acc.prefix = shim.prefix || acc.prefix;\n    } else if (cls !== config$1.replacementClass && cls.indexOf('fa-w-') !== 0) {\n      acc.rest.push(cls);\n    }\n\n    return acc;\n  }, emptyCanonicalIcon());\n}\n\nfunction iconFromMapping(mapping, prefix, iconName) {\n  if (mapping && mapping[prefix] && mapping[prefix][iconName]) {\n    return {\n      prefix: prefix,\n      iconName: iconName,\n      icon: mapping[prefix][iconName]\n    };\n  }\n}\n\nfunction toHtml(abstractNodes) {\n  var tag = abstractNodes.tag,\n      _abstractNodes$attrib = abstractNodes.attributes,\n      attributes = _abstractNodes$attrib === undefined ? {} : _abstractNodes$attrib,\n      _abstractNodes$childr = abstractNodes.children,\n      children = _abstractNodes$childr === undefined ? [] : _abstractNodes$childr;\n\n\n  if (typeof abstractNodes === 'string') {\n    return htmlEscape(abstractNodes);\n  } else {\n    return '<' + tag + ' ' + joinAttributes(attributes) + '>' + children.map(toHtml).join('') + '</' + tag + '>';\n  }\n}\n\nvar noop$1 = function noop() {};\n\nfunction isWatched(node) {\n  var i2svg = node.getAttribute ? node.getAttribute(DATA_FA_I2SVG) : null;\n\n  return typeof i2svg === 'string';\n}\n\nfunction getMutator() {\n  if (config$1.autoReplaceSvg === true) {\n    return mutators.replace;\n  }\n\n  var mutator = mutators[config$1.autoReplaceSvg];\n\n  return mutator || mutators.replace;\n}\n\nvar mutators = {\n  replace: function replace(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n    var newOuterHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n\n    if (node.parentNode && node.outerHTML) {\n      node.outerHTML = newOuterHTML + (config$1.keepOriginalSource && node.tagName.toLowerCase() !== 'svg' ? '<!-- ' + node.outerHTML + ' -->' : '');\n    } else if (node.parentNode) {\n      var newNode = document.createElement('span');\n      node.parentNode.replaceChild(newNode, node);\n      newNode.outerHTML = newOuterHTML;\n    }\n  },\n  nest: function nest(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n\n    // If we already have a replaced node we do not want to continue nesting within it.\n    // Short-circuit to the standard replacement\n    if (~classArray(node).indexOf(config$1.replacementClass)) {\n      return mutators.replace(mutation);\n    }\n\n    var forSvg = new RegExp(config$1.familyPrefix + '-.*');\n\n    delete abstract[0].attributes.style;\n\n    var splitClasses = abstract[0].attributes.class.split(' ').reduce(function (acc, cls) {\n      if (cls === config$1.replacementClass || cls.match(forSvg)) {\n        acc.toSvg.push(cls);\n      } else {\n        acc.toNode.push(cls);\n      }\n\n      return acc;\n    }, { toNode: [], toSvg: [] });\n\n    abstract[0].attributes.class = splitClasses.toSvg.join(' ');\n\n    var newInnerHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n    node.setAttribute('class', splitClasses.toNode.join(' '));\n    node.setAttribute(DATA_FA_I2SVG, '');\n    node.innerHTML = newInnerHTML;\n  }\n};\n\nfunction perform(mutations, callback) {\n  var callbackFunction = typeof callback === 'function' ? callback : noop$1;\n\n  if (mutations.length === 0) {\n    callbackFunction();\n  } else {\n    var frame = WINDOW.requestAnimationFrame || function (op) {\n      return op();\n    };\n\n    frame(function () {\n      var mutator = getMutator();\n      var mark = perf.begin('mutate');\n\n      mutations.map(mutator);\n\n      mark();\n\n      callbackFunction();\n    });\n  }\n}\n\nvar disabled = false;\n\nfunction disableObservation(operation) {\n  disabled = true;\n  operation();\n  disabled = false;\n}\n\nvar mo = null;\n\nfunction observe(options) {\n  if (!MUTATION_OBSERVER) return;\n\n  var treeCallback = options.treeCallback,\n      nodeCallback = options.nodeCallback,\n      pseudoElementsCallback = options.pseudoElementsCallback;\n\n\n  mo = new MUTATION_OBSERVER(function (objects) {\n    if (disabled) return;\n\n    toArray(objects).forEach(function (mutationRecord) {\n      if (mutationRecord.type === 'childList' && mutationRecord.addedNodes.length > 0 && !isWatched(mutationRecord.addedNodes[0])) {\n        if (config$1.searchPseudoElements) {\n          pseudoElementsCallback(mutationRecord.target);\n        }\n\n        treeCallback(mutationRecord.target);\n      }\n\n      if (mutationRecord.type === 'attributes' && mutationRecord.target.parentNode && config$1.searchPseudoElements) {\n        pseudoElementsCallback(mutationRecord.target.parentNode);\n      }\n\n      if (mutationRecord.type === 'attributes' && isWatched(mutationRecord.target) && ~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(mutationRecord.attributeName)) {\n        if (mutationRecord.attributeName === 'class') {\n          var _getCanonicalIcon = getCanonicalIcon(classArray(mutationRecord.target)),\n              prefix = _getCanonicalIcon.prefix,\n              iconName = _getCanonicalIcon.iconName;\n\n          if (prefix) mutationRecord.target.setAttribute('data-prefix', prefix);\n          if (iconName) mutationRecord.target.setAttribute('data-icon', iconName);\n        } else {\n          nodeCallback(mutationRecord.target);\n        }\n      }\n    });\n  });\n\n  if (!IS_DOM) return;\n\n  mo.observe(DOCUMENT.getElementsByTagName('body')[0], {\n    childList: true, attributes: true, characterData: true, subtree: true\n  });\n}\n\nfunction disconnect() {\n  if (!mo) return;\n\n  mo.disconnect();\n}\n\nvar styleParser = function (node) {\n  var style = node.getAttribute('style');\n\n  var val = [];\n\n  if (style) {\n    val = style.split(';').reduce(function (acc, style) {\n      var styles = style.split(':');\n      var prop = styles[0];\n      var value = styles.slice(1);\n\n      if (prop && value.length > 0) {\n        acc[prop] = value.join(':').trim();\n      }\n\n      return acc;\n    }, {});\n  }\n\n  return val;\n};\n\nfunction toHex(unicode) {\n  var result = '';\n\n  for (var i = 0; i < unicode.length; i++) {\n    var hex = unicode.charCodeAt(i).toString(16);\n    result += ('000' + hex).slice(-4);\n  }\n\n  return result;\n}\n\nvar classParser = function (node) {\n  var existingPrefix = node.getAttribute('data-prefix');\n  var existingIconName = node.getAttribute('data-icon');\n  var innerText = node.innerText !== undefined ? node.innerText.trim() : '';\n\n  var val = getCanonicalIcon(classArray(node));\n\n  if (existingPrefix && existingIconName) {\n    val.prefix = existingPrefix;\n    val.iconName = existingIconName;\n  }\n\n  if (val.prefix && innerText.length > 1) {\n    val.iconName = byLigature(val.prefix, node.innerText);\n  } else if (val.prefix && innerText.length === 1) {\n    val.iconName = byUnicode(val.prefix, toHex(node.innerText));\n  }\n\n  return val;\n};\n\nvar parseTransformString = function parseTransformString(transformString) {\n  var transform = {\n    size: 16,\n    x: 0,\n    y: 0,\n    flipX: false,\n    flipY: false,\n    rotate: 0\n  };\n\n  if (!transformString) {\n    return transform;\n  } else {\n    return transformString.toLowerCase().split(' ').reduce(function (acc, n) {\n      var parts = n.toLowerCase().split('-');\n      var first = parts[0];\n      var rest = parts.slice(1).join('-');\n\n      if (first && rest === 'h') {\n        acc.flipX = true;\n        return acc;\n      }\n\n      if (first && rest === 'v') {\n        acc.flipY = true;\n        return acc;\n      }\n\n      rest = parseFloat(rest);\n\n      if (isNaN(rest)) {\n        return acc;\n      }\n\n      switch (first) {\n        case 'grow':\n          acc.size = acc.size + rest;\n          break;\n        case 'shrink':\n          acc.size = acc.size - rest;\n          break;\n        case 'left':\n          acc.x = acc.x - rest;\n          break;\n        case 'right':\n          acc.x = acc.x + rest;\n          break;\n        case 'up':\n          acc.y = acc.y - rest;\n          break;\n        case 'down':\n          acc.y = acc.y + rest;\n          break;\n        case 'rotate':\n          acc.rotate = acc.rotate + rest;\n          break;\n      }\n\n      return acc;\n    }, transform);\n  }\n};\n\nvar transformParser = function (node) {\n  return parseTransformString(node.getAttribute('data-fa-transform'));\n};\n\nvar symbolParser = function (node) {\n  var symbol = node.getAttribute('data-fa-symbol');\n\n  return symbol === null ? false : symbol === '' ? true : symbol;\n};\n\nvar attributesParser = function (node) {\n  var extraAttributes = toArray(node.attributes).reduce(function (acc, attr) {\n    if (acc.name !== 'class' && acc.name !== 'style') {\n      acc[attr.name] = attr.value;\n    }\n    return acc;\n  }, {});\n\n  var title = node.getAttribute('title');\n\n  if (config$1.autoA11y) {\n    if (title) {\n      extraAttributes['aria-labelledby'] = config$1.replacementClass + '-title-' + nextUniqueId();\n    } else {\n      extraAttributes['aria-hidden'] = 'true';\n    }\n  }\n\n  return extraAttributes;\n};\n\nvar maskParser = function (node) {\n  var mask = node.getAttribute('data-fa-mask');\n\n  if (!mask) {\n    return emptyCanonicalIcon();\n  } else {\n    return getCanonicalIcon(mask.split(' ').map(function (i) {\n      return i.trim();\n    }));\n  }\n};\n\nfunction parseMeta(node) {\n  var _classParser = classParser(node),\n      iconName = _classParser.iconName,\n      prefix = _classParser.prefix,\n      extraClasses = _classParser.rest;\n\n  var extraStyles = styleParser(node);\n  var transform = transformParser(node);\n  var symbol = symbolParser(node);\n  var extraAttributes = attributesParser(node);\n  var mask = maskParser(node);\n\n  return {\n    iconName: iconName,\n    title: node.getAttribute('title'),\n    prefix: prefix,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    extra: {\n      classes: extraClasses,\n      styles: extraStyles,\n      attributes: extraAttributes\n    }\n  };\n}\n\nfunction MissingIcon(error) {\n  this.name = 'MissingIcon';\n  this.message = error || 'Icon unavailable';\n  this.stack = new Error().stack;\n}\n\nMissingIcon.prototype = Object.create(Error.prototype);\nMissingIcon.prototype.constructor = MissingIcon;\n\nvar FILL = { fill: 'currentColor' };\nvar ANIMATION_BASE = {\n  attributeType: 'XML',\n  repeatCount: 'indefinite',\n  dur: '2s'\n};\nvar RING = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    d: 'M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z'\n  })\n};\nvar OPACITY_ANIMATE = _extends({}, ANIMATION_BASE, {\n  attributeName: 'opacity'\n});\nvar DOT = {\n  tag: 'circle',\n  attributes: _extends({}, FILL, {\n    cx: '256',\n    cy: '364',\n    r: '28'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, ANIMATION_BASE, { attributeName: 'r', values: '28;14;28;28;14;28;' }) }, { tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '1;0;1;1;0;1;' }) }]\n};\nvar QUESTION = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    opacity: '1',\n    d: 'M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '1;0;0;0;0;1;' }) }]\n};\nvar EXCLAMATION = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    opacity: '0',\n    d: 'M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '0;0;1;1;0;0;' }) }]\n};\n\nvar missing = { tag: 'g', children: [RING, DOT, QUESTION, EXCLAMATION] };\n\nvar styles = namespace.styles;\n\nvar LAYERS_TEXT_CLASSNAME = 'fa-layers-text';\nvar FONT_FAMILY_PATTERN = /Font Awesome 5 (Solid|Regular|Light|Brands)/;\nvar STYLE_TO_PREFIX = {\n  'Solid': 'fas',\n  'Regular': 'far',\n  'Light': 'fal',\n  'Brands': 'fab'\n};\n\nfunction findIcon(iconName, prefix) {\n  var val = {\n    found: false,\n    width: 512,\n    height: 512,\n    icon: missing\n  };\n\n  if (iconName && prefix && styles[prefix] && styles[prefix][iconName]) {\n    var icon = styles[prefix][iconName];\n    var width = icon[0];\n    var height = icon[1];\n    var vectorData = icon.slice(4);\n\n    val = {\n      found: true,\n      width: width,\n      height: height,\n      icon: { tag: 'path', attributes: { fill: 'currentColor', d: vectorData[0] } }\n    };\n  } else if (iconName && prefix && !config$1.showMissingIcons) {\n    throw new MissingIcon('Icon is missing for prefix ' + prefix + ' with icon name ' + iconName);\n  }\n\n  return val;\n}\n\nfunction generateSvgReplacementMutation(node, nodeMeta) {\n  var iconName = nodeMeta.iconName,\n      title = nodeMeta.title,\n      prefix = nodeMeta.prefix,\n      transform = nodeMeta.transform,\n      symbol = nodeMeta.symbol,\n      mask = nodeMeta.mask,\n      extra = nodeMeta.extra;\n\n\n  return [node, makeInlineSvgAbstract({\n    icons: {\n      main: findIcon(iconName, prefix),\n      mask: findIcon(mask.iconName, mask.prefix)\n    },\n    prefix: prefix,\n    iconName: iconName,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateLayersText(node, nodeMeta) {\n  var title = nodeMeta.title,\n      transform = nodeMeta.transform,\n      extra = nodeMeta.extra;\n\n\n  var width = null;\n  var height = null;\n\n  if (IS_IE) {\n    var computedFontSize = parseInt(getComputedStyle(node).fontSize, 10);\n    var boundingClientRect = node.getBoundingClientRect();\n    width = boundingClientRect.width / computedFontSize;\n    height = boundingClientRect.height / computedFontSize;\n  }\n\n  if (config$1.autoA11y && !title) {\n    extra.attributes['aria-hidden'] = 'true';\n  }\n\n  return [node, makeLayersTextAbstract({\n    content: node.innerHTML,\n    width: width,\n    height: height,\n    transform: transform,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateMutation(node) {\n  var nodeMeta = parseMeta(node);\n\n  if (~nodeMeta.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)) {\n    return generateLayersText(node, nodeMeta);\n  } else {\n    return generateSvgReplacementMutation(node, nodeMeta);\n  }\n}\n\nfunction remove(node) {\n  if (typeof node.remove === 'function') {\n    node.remove();\n  } else if (node && node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\n\nfunction searchPseudoElements(root) {\n  if (!IS_DOM) return;\n\n  var end = perf.begin('searchPseudoElements');\n\n  disableObservation(function () {\n    toArray(root.querySelectorAll('*')).forEach(function (node) {\n      [':before', ':after'].forEach(function (pos) {\n        var styles = WINDOW.getComputedStyle(node, pos);\n        var fontFamily = styles.getPropertyValue('font-family').match(FONT_FAMILY_PATTERN);\n        var children = toArray(node.children);\n        var pseudoElement = children.filter(function (c) {\n          return c.getAttribute(DATA_FA_PSEUDO_ELEMENT) === pos;\n        })[0];\n\n        if (pseudoElement) {\n          if (pseudoElement.nextSibling && pseudoElement.nextSibling.textContent.indexOf(DATA_FA_PSEUDO_ELEMENT) > -1) {\n            remove(pseudoElement.nextSibling);\n          }\n          remove(pseudoElement);\n          pseudoElement = null;\n        }\n\n        if (fontFamily && !pseudoElement) {\n          var content = styles.getPropertyValue('content');\n          var i = DOCUMENT.createElement('i');\n          i.setAttribute('class', '' + STYLE_TO_PREFIX[fontFamily[1]]);\n          i.setAttribute(DATA_FA_PSEUDO_ELEMENT, pos);\n          i.innerText = content.length === 3 ? content.substr(1, 1) : content;\n          if (pos === ':before') {\n            node.insertBefore(i, node.firstChild);\n          } else {\n            node.appendChild(i);\n          }\n        }\n      });\n    });\n  });\n\n  end();\n}\n\nfunction onTree(root) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!IS_DOM) return;\n\n  var htmlClassList = DOCUMENT.documentElement.classList;\n  var hclAdd = function hclAdd(suffix) {\n    return htmlClassList.add(HTML_CLASS_I2SVG_BASE_CLASS + '-' + suffix);\n  };\n  var hclRemove = function hclRemove(suffix) {\n    return htmlClassList.remove(HTML_CLASS_I2SVG_BASE_CLASS + '-' + suffix);\n  };\n  var prefixes = Object.keys(styles);\n  var prefixesDomQuery = ['.' + LAYERS_TEXT_CLASSNAME + ':not([' + DATA_FA_I2SVG + '])'].concat(prefixes.map(function (p) {\n    return '.' + p + ':not([' + DATA_FA_I2SVG + '])';\n  })).join(', ');\n\n  if (prefixesDomQuery.length === 0) {\n    return;\n  }\n\n  var candidates = toArray(root.querySelectorAll(prefixesDomQuery));\n\n  if (candidates.length > 0) {\n    hclAdd('pending');\n    hclRemove('complete');\n  } else {\n    return;\n  }\n\n  var mark = perf.begin('onTree');\n\n  var mutations = candidates.reduce(function (acc, node) {\n    try {\n      var mutation = generateMutation(node);\n\n      if (mutation) {\n        acc.push(mutation);\n      }\n    } catch (e) {\n      if (!PRODUCTION) {\n        if (e instanceof MissingIcon) {\n          console.error(e);\n        }\n      }\n    }\n\n    return acc;\n  }, []);\n\n  mark();\n\n  perform(mutations, function () {\n    hclAdd('active');\n    hclAdd('complete');\n    hclRemove('pending');\n\n    if (typeof callback === 'function') callback();\n  });\n}\n\nfunction onNode(node) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  var mutation = generateMutation(node);\n\n  if (mutation) {\n    perform([mutation], callback);\n  }\n}\n\nvar baseStyles = \"svg:not(:root).svg-inline--fa {\\n  overflow: visible; }\\n\\n.svg-inline--fa {\\n  display: inline-block;\\n  font-size: inherit;\\n  height: 1em;\\n  overflow: visible;\\n  vertical-align: -.125em; }\\n  .svg-inline--fa.fa-lg {\\n    vertical-align: -.225em; }\\n  .svg-inline--fa.fa-w-1 {\\n    width: 0.0625em; }\\n  .svg-inline--fa.fa-w-2 {\\n    width: 0.125em; }\\n  .svg-inline--fa.fa-w-3 {\\n    width: 0.1875em; }\\n  .svg-inline--fa.fa-w-4 {\\n    width: 0.25em; }\\n  .svg-inline--fa.fa-w-5 {\\n    width: 0.3125em; }\\n  .svg-inline--fa.fa-w-6 {\\n    width: 0.375em; }\\n  .svg-inline--fa.fa-w-7 {\\n    width: 0.4375em; }\\n  .svg-inline--fa.fa-w-8 {\\n    width: 0.5em; }\\n  .svg-inline--fa.fa-w-9 {\\n    width: 0.5625em; }\\n  .svg-inline--fa.fa-w-10 {\\n    width: 0.625em; }\\n  .svg-inline--fa.fa-w-11 {\\n    width: 0.6875em; }\\n  .svg-inline--fa.fa-w-12 {\\n    width: 0.75em; }\\n  .svg-inline--fa.fa-w-13 {\\n    width: 0.8125em; }\\n  .svg-inline--fa.fa-w-14 {\\n    width: 0.875em; }\\n  .svg-inline--fa.fa-w-15 {\\n    width: 0.9375em; }\\n  .svg-inline--fa.fa-w-16 {\\n    width: 1em; }\\n  .svg-inline--fa.fa-w-17 {\\n    width: 1.0625em; }\\n  .svg-inline--fa.fa-w-18 {\\n    width: 1.125em; }\\n  .svg-inline--fa.fa-w-19 {\\n    width: 1.1875em; }\\n  .svg-inline--fa.fa-w-20 {\\n    width: 1.25em; }\\n  .svg-inline--fa.fa-pull-left {\\n    margin-right: .3em;\\n    width: auto; }\\n  .svg-inline--fa.fa-pull-right {\\n    margin-left: .3em;\\n    width: auto; }\\n  .svg-inline--fa.fa-border {\\n    height: 1.5em; }\\n  .svg-inline--fa.fa-li {\\n    width: 2em; }\\n  .svg-inline--fa.fa-fw {\\n    width: 1.25em; }\\n\\n.fa-layers svg.svg-inline--fa {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0; }\\n\\n.fa-layers {\\n  display: inline-block;\\n  height: 1em;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: -.125em;\\n  width: 1em; }\\n  .fa-layers svg.svg-inline--fa {\\n    -webkit-transform-origin: center center;\\n            transform-origin: center center; }\\n\\n.fa-layers-text, .fa-layers-counter {\\n  display: inline-block;\\n  position: absolute;\\n  text-align: center; }\\n\\n.fa-layers-text {\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center; }\\n\\n.fa-layers-counter {\\n  background-color: #ff253a;\\n  border-radius: 1em;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #fff;\\n  height: 1.5em;\\n  line-height: 1;\\n  max-width: 5em;\\n  min-width: 1.5em;\\n  overflow: hidden;\\n  padding: .25em;\\n  right: 0;\\n  text-overflow: ellipsis;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right; }\\n\\n.fa-layers-bottom-right {\\n  bottom: 0;\\n  right: 0;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom right;\\n          transform-origin: bottom right; }\\n\\n.fa-layers-bottom-left {\\n  bottom: 0;\\n  left: 0;\\n  right: auto;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom left;\\n          transform-origin: bottom left; }\\n\\n.fa-layers-top-right {\\n  right: 0;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right; }\\n\\n.fa-layers-top-left {\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top left;\\n          transform-origin: top left; }\\n\\n.fa-lg {\\n  font-size: 1.33333em;\\n  line-height: 0.75em;\\n  vertical-align: -.0667em; }\\n\\n.fa-xs {\\n  font-size: .75em; }\\n\\n.fa-sm {\\n  font-size: .875em; }\\n\\n.fa-1x {\\n  font-size: 1em; }\\n\\n.fa-2x {\\n  font-size: 2em; }\\n\\n.fa-3x {\\n  font-size: 3em; }\\n\\n.fa-4x {\\n  font-size: 4em; }\\n\\n.fa-5x {\\n  font-size: 5em; }\\n\\n.fa-6x {\\n  font-size: 6em; }\\n\\n.fa-7x {\\n  font-size: 7em; }\\n\\n.fa-8x {\\n  font-size: 8em; }\\n\\n.fa-9x {\\n  font-size: 9em; }\\n\\n.fa-10x {\\n  font-size: 10em; }\\n\\n.fa-fw {\\n  text-align: center;\\n  width: 1.25em; }\\n\\n.fa-ul {\\n  list-style-type: none;\\n  margin-left: 2.5em;\\n  padding-left: 0; }\\n  .fa-ul > li {\\n    position: relative; }\\n\\n.fa-li {\\n  left: -2em;\\n  position: absolute;\\n  text-align: center;\\n  width: 2em;\\n  line-height: inherit; }\\n\\n.fa-border {\\n  border: solid 0.08em #eee;\\n  border-radius: .1em;\\n  padding: .2em .25em .15em; }\\n\\n.fa-pull-left {\\n  float: left; }\\n\\n.fa-pull-right {\\n  float: right; }\\n\\n.fa.fa-pull-left,\\n.fas.fa-pull-left,\\n.far.fa-pull-left,\\n.fal.fa-pull-left,\\n.fab.fa-pull-left {\\n  margin-right: .3em; }\\n\\n.fa.fa-pull-right,\\n.fas.fa-pull-right,\\n.far.fa-pull-right,\\n.fal.fa-pull-right,\\n.fab.fa-pull-right {\\n  margin-left: .3em; }\\n\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n          animation: fa-spin 2s infinite linear; }\\n\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n          animation: fa-spin 1s infinite steps(8); }\\n\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg); } }\\n\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg); } }\\n\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n          transform: rotate(90deg); }\\n\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n          transform: rotate(180deg); }\\n\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n          transform: rotate(270deg); }\\n\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n          transform: scale(-1, 1); }\\n\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n          transform: scale(1, -1); }\\n\\n.fa-flip-horizontal.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(-1, -1);\\n          transform: scale(-1, -1); }\\n\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  -webkit-filter: none;\\n          filter: none; }\\n\\n.fa-stack {\\n  display: inline-block;\\n  height: 2em;\\n  position: relative;\\n  width: 2em; }\\n\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0; }\\n\\n.svg-inline--fa.fa-stack-1x {\\n  height: 1em;\\n  width: 1em; }\\n\\n.svg-inline--fa.fa-stack-2x {\\n  height: 2em;\\n  width: 2em; }\\n\\n.fa-inverse {\\n  color: #fff; }\\n\\n.sr-only {\\n  border: 0;\\n  clip: rect(0, 0, 0, 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  width: 1px; }\\n\\n.sr-only-focusable:active, .sr-only-focusable:focus {\\n  clip: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  position: static;\\n  width: auto; }\\n\";\n\nvar css = function () {\n  var dfp = DEFAULT_FAMILY_PREFIX;\n  var drc = DEFAULT_REPLACEMENT_CLASS;\n  var fp = config$1.familyPrefix;\n  var rc = config$1.replacementClass;\n  var s = baseStyles;\n\n  if (fp !== dfp || rc !== drc) {\n    var dPatt = new RegExp('\\\\.' + dfp + '\\\\-', 'g');\n    var rPatt = new RegExp('\\\\.' + drc, 'g');\n\n    s = s.replace(dPatt, '.' + fp + '-').replace(rPatt, '.' + rc);\n  }\n\n  return s;\n};\n\nfunction define(prefix, icons) {\n  var normalized = Object.keys(icons).reduce(function (acc, iconName) {\n    var icon = icons[iconName];\n    var expanded = !!icon.icon;\n\n    if (expanded) {\n      acc[icon.iconName] = icon.icon;\n    } else {\n      acc[iconName] = icon;\n    }\n    return acc;\n  }, {});\n\n  if (typeof namespace.hooks.addPack === 'function') {\n    namespace.hooks.addPack(prefix, normalized);\n  } else {\n    namespace.styles[prefix] = _extends({}, namespace.styles[prefix] || {}, normalized);\n  }\n\n  /**\n   * Font Awesome 4 used the prefix of `fa` for all icons. With the introduction\n   * of new styles we needed to differentiate between them. Prefix `fa` is now an alias\n   * for `fas` so we'll easy the upgrade process for our users by automatically defining\n   * this as well.\n   */\n  if (prefix === 'fas') {\n    define('fa', icons);\n  }\n}\n\nvar Library = function () {\n  function Library() {\n    classCallCheck(this, Library);\n\n    this.definitions = {};\n  }\n\n  createClass(Library, [{\n    key: 'add',\n    value: function add() {\n      var _this = this;\n\n      for (var _len = arguments.length, definitions = Array(_len), _key = 0; _key < _len; _key++) {\n        definitions[_key] = arguments[_key];\n      }\n\n      var additions = definitions.reduce(this._pullDefinitions, {});\n\n      Object.keys(additions).forEach(function (key) {\n        _this.definitions[key] = _extends({}, _this.definitions[key] || {}, additions[key]);\n        define(key, additions[key]);\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.definitions = {};\n    }\n  }, {\n    key: '_pullDefinitions',\n    value: function _pullDefinitions(additions, definition) {\n      var normalized = definition.prefix && definition.iconName && definition.icon ? { 0: definition } : definition;\n\n      Object.keys(normalized).map(function (key) {\n        var _normalized$key = normalized[key],\n            prefix = _normalized$key.prefix,\n            iconName = _normalized$key.iconName,\n            icon = _normalized$key.icon;\n\n\n        if (!additions[prefix]) additions[prefix] = {};\n\n        additions[prefix][iconName] = icon;\n      });\n\n      return additions;\n    }\n  }]);\n  return Library;\n}();\n\nfunction prepIcon(icon) {\n  var width = icon[0];\n  var height = icon[1];\n  var vectorData = icon.slice(4);\n\n  return {\n    found: true,\n    width: width,\n    height: height,\n    icon: { tag: 'path', attributes: { fill: 'currentColor', d: vectorData[0] } }\n  };\n}\n\nvar _cssInserted = false;\n\nfunction ensureCss() {\n  if (!config$1.autoAddCss) {\n    return;\n  }\n\n  if (!_cssInserted) {\n    insertCss(css());\n  }\n\n  _cssInserted = true;\n}\n\nfunction apiObject(val, abstractCreator) {\n  Object.defineProperty(val, 'abstract', {\n    get: abstractCreator\n  });\n\n  Object.defineProperty(val, 'html', {\n    get: function get() {\n      return val.abstract.map(function (a) {\n        return toHtml(a);\n      });\n    }\n  });\n\n  Object.defineProperty(val, 'node', {\n    get: function get() {\n      if (!IS_DOM) return;\n\n      var container = DOCUMENT.createElement('div');\n      container.innerHTML = val.html;\n      return container.children;\n    }\n  });\n\n  return val;\n}\n\nfunction findIconDefinition(params) {\n  var _params$prefix = params.prefix,\n      prefix = _params$prefix === undefined ? 'fa' : _params$prefix,\n      iconName = params.iconName;\n\n\n  if (!iconName) return;\n\n  return iconFromMapping(library.definitions, prefix, iconName) || iconFromMapping(namespace.styles, prefix, iconName);\n}\n\nfunction resolveIcons(next) {\n  return function (maybeIconDefinition) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var iconDefinition = (maybeIconDefinition || {}).icon ? maybeIconDefinition : findIconDefinition(maybeIconDefinition || {});\n\n    var mask = params.mask;\n\n\n    if (mask) {\n      mask = (mask || {}).icon ? mask : findIconDefinition(mask || {});\n    }\n\n    return next(iconDefinition, _extends({}, params, { mask: mask }));\n  };\n}\n\nvar library = new Library();\n\nvar noAuto = function noAuto() {\n  auto(false);\n  disconnect();\n};\n\nvar dom = {\n  i2svg: function i2svg() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (IS_DOM) {\n      ensureCss();\n\n      var _params$node = params.node,\n          node = _params$node === undefined ? DOCUMENT : _params$node,\n          _params$callback = params.callback,\n          callback = _params$callback === undefined ? function () {} : _params$callback;\n\n\n      if (config$1.searchPseudoElements) {\n        searchPseudoElements(node);\n      }\n\n      onTree(node, callback);\n    }\n  },\n\n  css: css,\n\n  insertCss: function insertCss$$1() {\n    insertCss(css());\n  }\n};\n\nvar parse = {\n  transform: function transform(transformString) {\n    return parseTransformString(transformString);\n  }\n};\n\nvar icon = resolveIcons(function (iconDefinition) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform = params.transform,\n      transform = _params$transform === undefined ? meaninglessTransform : _params$transform,\n      _params$symbol = params.symbol,\n      symbol = _params$symbol === undefined ? false : _params$symbol,\n      _params$mask = params.mask,\n      mask = _params$mask === undefined ? null : _params$mask,\n      _params$title = params.title,\n      title = _params$title === undefined ? null : _params$title,\n      _params$classes = params.classes,\n      classes = _params$classes === undefined ? [] : _params$classes,\n      _params$attributes = params.attributes,\n      attributes = _params$attributes === undefined ? {} : _params$attributes,\n      _params$styles = params.styles,\n      styles = _params$styles === undefined ? {} : _params$styles;\n\n\n  if (!iconDefinition) return;\n\n  var prefix = iconDefinition.prefix,\n      iconName = iconDefinition.iconName,\n      icon = iconDefinition.icon;\n\n\n  return apiObject(_extends({ type: 'icon' }, iconDefinition), function () {\n    ensureCss();\n\n    if (config$1.autoA11y) {\n      if (title) {\n        attributes['aria-labelledby'] = config$1.replacementClass + '-title-' + nextUniqueId();\n      } else {\n        attributes['aria-hidden'] = 'true';\n      }\n    }\n\n    return makeInlineSvgAbstract({\n      icons: {\n        main: prepIcon(icon),\n        mask: mask ? prepIcon(mask.icon) : { found: false, width: null, height: null, icon: {} }\n      },\n      prefix: prefix,\n      iconName: iconName,\n      transform: _extends({}, meaninglessTransform, transform),\n      symbol: symbol,\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: classes\n      }\n    });\n  });\n});\n\nvar text = function text(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform2 = params.transform,\n      transform = _params$transform2 === undefined ? meaninglessTransform : _params$transform2,\n      _params$title2 = params.title,\n      title = _params$title2 === undefined ? null : _params$title2,\n      _params$classes2 = params.classes,\n      classes = _params$classes2 === undefined ? [] : _params$classes2,\n      _params$attributes2 = params.attributes,\n      attributes = _params$attributes2 === undefined ? {} : _params$attributes2,\n      _params$styles2 = params.styles,\n      styles = _params$styles2 === undefined ? {} : _params$styles2;\n\n\n  return apiObject({ type: 'text', content: content }, function () {\n    ensureCss();\n\n    return makeLayersTextAbstract({\n      content: content,\n      transform: _extends({}, meaninglessTransform, transform),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [config$1.familyPrefix + '-layers-text'].concat(toConsumableArray(classes))\n      }\n    });\n  });\n};\n\nvar layer = function layer(assembler) {\n  return apiObject({ type: 'layer' }, function () {\n    ensureCss();\n\n    var children = [];\n\n    assembler(function (args) {\n      Array.isArray(args) ? args.map(function (a) {\n        children = children.concat(a.abstract);\n      }) : children = children.concat(args.abstract);\n    });\n\n    return [{\n      tag: 'span',\n      attributes: { class: config$1.familyPrefix + '-layers' },\n      children: children\n    }];\n  });\n};\n\nvar api$1 = {\n  noAuto: noAuto,\n  dom: dom,\n  library: library,\n  parse: parse,\n  findIconDefinition: findIconDefinition,\n  icon: icon,\n  text: text,\n  layer: layer\n};\n\nvar autoReplace = function autoReplace() {\n  if (IS_DOM && config$1.autoReplaceSvg) api$1.dom.i2svg({ node: DOCUMENT });\n};\n\nfunction bootstrap() {\n  if (IS_BROWSER) {\n    if (!WINDOW.FontAwesome) {\n      WINDOW.FontAwesome = api$1;\n    }\n\n    domready(function () {\n      if (Object.keys(namespace.styles).length > 0) {\n        autoReplace();\n      }\n\n      if (config$1.observeMutations && typeof MutationObserver === 'function') {\n        observe({\n          treeCallback: onTree,\n          nodeCallback: onNode,\n          pseudoElementsCallback: searchPseudoElements\n        });\n      }\n    });\n  }\n\n  namespace.hooks = _extends({}, namespace.hooks, {\n\n    addPack: function addPack(prefix, icons) {\n      namespace.styles[prefix] = _extends({}, namespace.styles[prefix] || {}, icons);\n\n      build();\n      autoReplace();\n    },\n\n    addShims: function addShims(shims) {\n      var _namespace$shims;\n\n      (_namespace$shims = namespace.shims).push.apply(_namespace$shims, toConsumableArray(shims));\n\n      build();\n      autoReplace();\n    }\n  });\n}\n\nObject.defineProperty(api$1, 'config', {\n  get: function get() {\n    return config$1;\n  },\n\n  set: function set(newConfig) {\n    update(newConfig);\n  }\n});\n\nif (IS_DOM) bunker(bootstrap);\n\nvar config = api$1.config;\n\nexport { config, icon, noAuto, layer, text, library, dom, parse, findIconDefinition };\nexport default api$1;\n","import CodeMirror from 'codemirror';\nimport LintState from './LintState';\nimport fontawesome from '@fortawesome/fontawesome';\nimport { faBug } from '@fortawesome/free-solid-svg-icons/faBug';\nimport { isArray } from 'vue-interface/src/Helpers/Functions';\n\nconst UNDERLINE_CLASS = 'CodeMirror-lint-error-underline';\n\nfunction removeExistingErrors(state, errors) {\n    state.lint.cm.clearGutter(state.lint.id);\n\n    (errors || state.lint.errors).forEach(error => {\n        error.open && error.open.clear();\n        error.close && error.close.clear();\n    });\n}\n\n/*\nfunction offset(cm) {\n    let container = document.querySelector('.CodeMirror-lint-tooltip-container');\n\n    if(container) {\n        return container;\n    }\n\n    container = document.createElement('div');\n    container.className = 'CodeMirror-lint-tooltip-container CodeMirror-sizer';\n    container.style.marginLeft = document.querySelector('.CodeMirror-sizer').style.marginLeft;\n    container.style.borderRightWidth = document.querySelector('.CodeMirror-sizer').style.borderRightWidth;\n\n    cm.getWrapperElement().parentNode.insertBefore(container, cm.getWrapperElement().nextSibling);\n\n    return container;\n}\n*/\n\nfunction createTooltip(html, cm) {\n    const div = document.createElement('div');\n\n    div.className = 'CodeMirror-lint-tooltip';\n    div.innerHTML = html;\n\n    return div;\n}\n\nfunction createIcon(error) {\n    const icon = document.createElement('div');\n\n    icon.className = 'CodeMirror-lint-error-icon';\n    icon.innerHTML = fontawesome.icon(faBug).html;\n    icon.title = `${error.line},${error.column} :: ${error.code} ${error.msg} (${error.rule})`;\n    icon.error = error;\n\n    return icon;\n}\n\nfunction addErrors(state) {\n    const range = state.lint.cm.getViewport();\n\n    if(isArray(state.lint.errors)) {\n        state.lint.errors.forEach(error => {\n            state.lint.cm.setGutterMarker(error.line - 1, state.lint.id, createIcon(error));\n\n            error.match = CodeMirror.findMatchingTag(state.lint.cm, {\n                line: error.line - 1,\n                ch: error.column\n            }, range);\n\n            if(error.match) {\n                if(error.match.open) {\n                    error.open = state.lint.cm.markText(error.match.open.from, error.match.open.to, {\n                        className: 'CodeMirror-lint-error-underline'\n                    });\n                }\n\n                if(error.match.close) {\n                    error.close = state.lint.cm.markText(error.match.close.from, error.match.close.to, {\n                        className: UNDERLINE_CLASS\n                    });\n                }\n            }\n        });\n\n        if(state.lint.errors.length && state.lint.errors[0].match) {\n            state.lint.cm.scrollIntoView(\n                state.lint.errors[0].match.open ||\n                state.lint.errors[0].match.close,\n                state.lint.cm.getScrollInfo().clientHeight / 2\n            );\n\n            setTimeout(() => {\n                state.lint.cm.setCursor(\n                    state.lint.errors[0].line - 1,\n                    state.lint.errors[0].column\n                );\n            });\n        }\n    }\n}\n\nfunction onCursorActivity(cm) {\n    if(cm.lintErrorTooltip) {\n        cm.lintErrorTooltip.parentNode.removeChild(cm.lintErrorTooltip);\n        cm.lintErrorTooltip = null;\n    }\n\n    const errors = cm.state.lint.findNearbyErrors(cm.getCursor());\n\n    const ch = errors.reduce((carry, error) => {\n        return carry === null || carry > error.column ? error.column : carry;\n    }, null) - 1;\n\n    const line = errors.reduce((carry, error) => {\n        return carry === null || carry > error.line ? error.line : carry;\n    }, null) - 1;\n\n    const message = errors.reduce((carry, error) => {\n        carry.push(`${error.line},${error.column} :: ${error.code} ${error.msg} (${error.rule})`);\n        return carry;\n    }, []).join('<br>');\n\n    if(errors.length) {\n        cm.lintErrorTooltip = createTooltip(message, cm);\n        cm.addWidget({ ch, line }, cm.lintErrorTooltip, true);\n\n        // const bounds = cm.lintErrorTooltip.getBoundingClientRect();\n        // const offset = bounds.left + bounds.width - cm.getScrollInfo().clientWidth;\n    }\n}\n\nCodeMirror.defineOption('lint', false, function(cm, options, old) {\n    if(old && old !== CodeMirror.Init) {\n        removeExistingErrors(cm.state);\n        cm.off('cursorActivity', onCursorActivity);\n        delete cm.state.lint;\n    }\n\n    if(options) {\n        cm.state.lint = new LintState(cm, options || (options = {}));\n        cm.on('cursorActivity', onCursorActivity);\n        cm.on('inputRead', (cm, event) => {\n            if(event.origin === 'paste') {\n                cm.state.lint.errors = [];\n                cm.lint();\n            }\n        });\n\n        if(options.errors && options.errors.length) {\n            cm.state.lint.errors = options.errors;\n            addErrors(cm.state);\n        }\n    }\n});\n\nCodeMirror.defineExtension('lint', function(data, options) {\n    return new Promise((resolve, reject) => {\n        const existingErrors = this.state.lint.errors;\n\n        this.state.lint\n            .request(data, options)\n            .then(response => {\n                removeExistingErrors(this.state, existingErrors);\n                resolve(this.state.lint);\n            }, error => {\n                removeExistingErrors(this.state, existingErrors);\n\n                this.state.lint.cm.operation(() => {\n                    addErrors(this.state);\n                    reject(error);\n                });\n            });\n    });\n});\n","import {\n    mapKeys,\n    isObject,\n    isBoolean\n} from '../Functions';\n\nexport default function prefix(subject, prefix, delimeter = '-') {\n    const prefixer = (value, key) => {\n        const string = (key || value)\n            .replace(new RegExp(`^${prefix}${delimeter}?`), '');\n\n        return [prefix, string].filter(value => !!value).join(delimeter);\n    };\n\n    if(isBoolean(subject)) {\n        return subject;\n    }\n\n    if(isObject(subject)) {\n        return mapKeys(subject, prefixer);\n    }\n\n    return prefixer(subject);\n}\n","import prefix from '../../Helpers/Prefix';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\nimport { each, isArray, isEmpty, isObject } from '../../Helpers/Functions';\n\nconst emptyClass = 'is-empty';\nconst focusClass = 'has-focus';\nconst changedClass = 'has-changed';\nconst customPrefix = 'custom';\n\nfunction addClass(el, vnode, css) {\n    // el.classList.add(css);\n    vnode.context.$el.classList.add(css);\n}\n\nfunction removeClass(el, vnode, css) {\n    // el.classList.remove(css);\n    vnode.context.$el.classList.remove(css);\n}\n\nfunction addEmptyClass(el, vnode) {\n    if(isEmpty(el.value) || (el.tagName === 'SELECT' && el.selectedIndex === -1)) {\n        addClass(el, vnode, emptyClass);\n    }\n}\n\nexport default {\n\n    inheritAttrs: false,\n\n    mixins: [\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Show type activity indicator.\n         *\n         * @property Boolean\n         */\n        activity: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Is the form control a custom styled component.\n         *\n         * @property Boolean\n         */\n        custom: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * The value of label element. If no value, no label will appear.\n         *\n         * @property String\n         */\n        label: [Number, String],\n\n        /**\n         * The field id attribute value.\n         *\n         * @property String\n         */\n        value: {\n            default: null\n        },\n\n        /**\n         * Add form-group wrapper to input\n         *\n         * @property String\n         */\n        group: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * An inline field validation error.\n         *\n         * @property String|Boolean\n         */\n        error: String,\n\n        /**\n         * An inline field validation errors passed as object with key/value\n         * pairs. If errors passed as an object, the form name will be used for\n         * the key.\n         *\n         * @property Object|Boolean\n         */\n        errors: {\n            type: Object,\n            default() {\n                return {};\n            }\n        },\n\n        /**\n         * Some feedback to add to the field once the field is successfully\n         * valid.\n         *\n         * @property String\n         */\n        feedback: [String, Array],\n\n        /**\n         * An array of event names that correlate with callback functions\n         *\n         * @property Function\n         */\n        bindEvents: {\n            type: Array,\n            default() {\n                return ['focus', 'blur', 'change', 'click', 'keypress', 'keyup', 'keydown', 'progress', 'paste'];\n            }\n        },\n\n        /**\n         * The default class name assigned to the control element\n         *\n         * @property String\n         */\n        defaultControlClass: {\n            type: String,\n            default: 'form-control'\n        },\n\n        /**\n         * Hide the label for browsers, but leave it for screen readers.\n         *\n         * @property String\n         */\n        hideLabel: Boolean,\n\n        /**\n         * The invalid property\n         *\n         * @property String\n         */\n        invalid: Boolean,\n\n        /**\n         * The valid property\n         *\n         * @property String\n         */\n        valid: Boolean,\n\n        /**\n         * Additional margin/padding classes for fine control of spacing\n         *\n         * @property String\n         */\n        spacing: String,\n\n        /**\n         * The size of the form control\n         *\n         * @property String\n         */\n        size: {\n            type: String,\n            default: 'md',\n            validate: value => ['sm', 'md', 'lg'].indexOf(value) !== -1\n        },\n\n        /**\n         * Display the form field inline\n         *\n         * @property String\n         */\n        inline: Boolean,\n\n        /**\n         * Some instructions to appear under the field label\n         *\n         * @property String\n         */\n        helpText: [Number, String],\n\n        /**\n         * The maxlength attribute\n         *\n         * @property String\n         */\n        maxlength: [Number, String]\n\n    },\n\n    directives: {\n        bindEvents: {\n            bind(el, binding, vnode) {\n                function changedValue(el, value) {\n                    addClass(el, vnode, changedClass);\n\n                    if(!isEmpty(value) || (el.selectedIndex && el.selectedIndex > -1)) {\n                        removeClass(el, vnode, emptyClass);\n                    }\n                    else if(!el.classList.contains(changedClass)) {\n                        addClass(el, vnode, emptyClass);\n                    }\n\n                    if(el.tagName === 'SELECT' && el.querySelector('[value=\"\"]')) {\n                        el.querySelector('[value=\"\"]').selected = !value;\n                    }\n                }\n\n                vnode.context.$watch('value', (value) => {\n                    changedValue(vnode.context.$el, value);\n                });\n\n                el.addEventListener('blur', event => {\n                    if(el.classList.contains(emptyClass)) {\n                        removeClass(el, vnode, changedClass);\n                    }\n\n                    removeClass(el, vnode, focusClass);\n                });\n\n                el.addEventListener('input', event => {\n                    changedValue(event.target, event.target.value);\n                });\n\n                // Add/remove the has-focus class from the form control\n                el.addEventListener('focus', event => {\n                    addClass(el, vnode, focusClass);\n                });\n\n                // Bubble the native events up to the vue component.\n                each(vnode.context.bindEvents, name => {\n                    el.addEventListener(name, event => {\n                        vnode.context.$emit(name, event);\n                    });\n                });\n            },\n            inserted(el, binding, vnode) {\n                addEmptyClass(el, vnode);\n\n                if(el.selectedIndex > -1) {\n                    addClass(el, vnode, changedClass);\n                }\n            },\n            update(el, binding, vnode) {\n                addEmptyClass(el, vnode);\n            }\n        }\n    },\n\n    methods: {\n\n        blur() {\n            if(this.getInputField()) {\n                this.getInputField().blur();\n            }\n        },\n\n        focus() {\n            if(this.getInputField()) {\n                this.getInputField().focus();\n            }\n        },\n\n        getInputField() {\n            return this.$el.querySelector(\n                '.form-control, input, select, textarea'\n            );\n        },\n\n        getFieldErrors() {\n            let errors = this.error || this.errors;\n\n            if(isObject(this.errors)) {\n                errors = this.errors[this.$attrs.name || this.$attrs.id];\n            }\n\n            return !errors || isArray(errors) || isObject(errors) ? errors : [errors];\n        }\n\n    },\n\n    computed: {\n\n        controlAttributes() {\n            return Object.keys(this.$attrs)\n                .concat([['class', this.controlClasses]])\n                .reduce((carry, key) => {\n                    if(isArray(key)) {\n                        carry[key[0]] = key[1];\n                    }\n                    else {\n                        carry[key] = this[key] || this.$attrs[key];\n                    }\n\n                    return carry;\n                }, {});\n        },\n\n        controlClass() {\n            return this.custom ? this.customControlClass : (\n                this.defaultControlClass + (this.plaintext ? '-plaintext' : '')\n            );\n        },\n\n        controlSizeClass() {\n            return prefix(this.size, this.controlClass);\n        },\n\n        customControlClass() {\n            return 'custom-control';\n        },\n\n        formGroupClasses() {\n            const name = prefix(this.$options.name, this.custom ? customPrefix : '');\n\n            return this.mergeClasses(name, prefix(this.size, name), {\n                'has-activity': this.activity,\n                'is-valid': !!(this.valid || this.validFeedback),\n                'is-invalid': !!(this.invalid || this.invalidFeedback)\n            });\n        },\n\n        controlClasses() {\n            return this.mergeClasses(\n                this.controlClass,\n                this.colorableClasses,\n                this.controlSizeClass,\n                (this.spacing || ''),\n                ((this.valid || this.validFeedback) ? 'is-valid' : ''),\n                ((this.invalid || this.invalidFeedback) ? 'is-invalid' : '')\n            );\n        },\n\n        hasDefaultSlot() {\n            return !!this.$slots.default;\n        },\n\n        invalidFeedback() {\n            const errors = this.getFieldErrors();\n\n            return this.error || (\n                isArray(errors) ? errors.join('<br>') : errors\n            );\n        },\n\n        validFeedback() {\n            return isArray(this.feedback) ? this.feedback.join('<br>') : this.feedback;\n        }\n\n    }\n\n};\n","export default function normalizeComponent(compiledTemplate, injectStyle, defaultExport, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, isShadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof isShadowMode === 'function') {\n        createInjectorSSR = createInjector;\n        createInjector = isShadowMode;\n        isShadowMode = false;\n    }\n    // Vue.extend constructor export interop\n    const options = typeof defaultExport === 'function' ? defaultExport.options : defaultExport;\n    // render functions\n    if (compiledTemplate && compiledTemplate.render) {\n        options.render = compiledTemplate.render;\n        options.staticRenderFns = compiledTemplate.staticRenderFns;\n        options._compiled = true;\n        // functional template\n        if (isFunctionalTemplate) {\n            options.functional = true;\n        }\n    }\n    // scopedId\n    if (scopeId) {\n        options._scopeId = scopeId;\n    }\n    let hook;\n    if (moduleIdentifier) {\n        // server build\n        hook = function (context) {\n            // 2.3 injection\n            context =\n                context || // cached call\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\n            // 2.2 with runInNewContext: true\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n                context = __VUE_SSR_CONTEXT__;\n            }\n            // inject component styles\n            if (injectStyle) {\n                injectStyle.call(this, createInjectorSSR(context));\n            }\n            // register component module identifier for async chunk inference\n            if (context && context._registeredComponents) {\n                context._registeredComponents.add(moduleIdentifier);\n            }\n        };\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        options._ssrRegister = hook;\n    }\n    else if (injectStyle) {\n        hook = isShadowMode\n            ? function () {\n                injectStyle.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n            }\n            : function (context) {\n                injectStyle.call(this, createInjector(context));\n            };\n    }\n    if (hook) {\n        if (options.functional) {\n            // register for functional component in vue file\n            const originalRender = options.render;\n            options.render = function renderWithStyleInjection(h, context) {\n                hook.call(context);\n                return originalRender(h, context);\n            };\n        }\n        else {\n            // inject component registration as beforeCreate hook\n            const existing = options.beforeCreate;\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n    }\n    return defaultExport;\n}\n","export default function(height) {\n    return isFinite(height) ? height + 'px' : height;\n}\n","export default function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & (0x3) | (0x8));\n        return v.toString(16);\n    });\n}\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.14.6\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop, 10);\n    var marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthOddness = reference.width % 2 === popper.width % 2;\n  var bothOddWidth = reference.width % 2 === 1 && popper.width % 2 === 1;\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthOddness ? Math.round : Math.floor;\n  var verticalToInteger = !shouldRound ? noRound : Math.round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport'\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar noop = function noop() {};\n\nvar _WINDOW = {};\nvar _DOCUMENT = {};\nvar _MUTATION_OBSERVER = null;\nvar _PERFORMANCE = {\n  mark: noop,\n  measure: noop\n};\n\ntry {\n  if (typeof window !== 'undefined') _WINDOW = window;\n  if (typeof document !== 'undefined') _DOCUMENT = document;\n  if (typeof MutationObserver !== 'undefined') _MUTATION_OBSERVER = MutationObserver;\n  if (typeof performance !== 'undefined') _PERFORMANCE = performance;\n} catch (e) {}\n\nvar _ref = _WINDOW.navigator || {},\n    _ref$userAgent = _ref.userAgent,\n    userAgent = _ref$userAgent === void 0 ? '' : _ref$userAgent;\n\nvar WINDOW = _WINDOW;\nvar DOCUMENT = _DOCUMENT;\nvar MUTATION_OBSERVER = _MUTATION_OBSERVER;\nvar PERFORMANCE = _PERFORMANCE;\nvar IS_BROWSER = !!WINDOW.document;\nvar IS_DOM = !!DOCUMENT.documentElement && !!DOCUMENT.head && typeof DOCUMENT.addEventListener === 'function' && typeof DOCUMENT.createElement === 'function';\nvar IS_IE = ~userAgent.indexOf('MSIE') || ~userAgent.indexOf('Trident/');\n\nvar NAMESPACE_IDENTIFIER = '___FONT_AWESOME___';\nvar UNITS_IN_GRID = 16;\nvar DEFAULT_FAMILY_PREFIX = 'fa';\nvar DEFAULT_REPLACEMENT_CLASS = 'svg-inline--fa';\nvar DATA_FA_I2SVG = 'data-fa-i2svg';\nvar DATA_FA_PSEUDO_ELEMENT = 'data-fa-pseudo-element';\nvar DATA_PREFIX = 'data-prefix';\nvar DATA_ICON = 'data-icon';\nvar HTML_CLASS_I2SVG_BASE_CLASS = 'fontawesome-i2svg';\nvar TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS = ['HTML', 'HEAD', 'STYLE', 'SCRIPT'];\nvar PRODUCTION = function () {\n  try {\n    return process.env.NODE_ENV === 'production';\n  } catch (e) {\n    return false;\n  }\n}();\nvar oneToTen = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar oneToTwenty = oneToTen.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\nvar ATTRIBUTES_WATCHED_FOR_MUTATION = ['class', 'data-prefix', 'data-icon', 'data-fa-transform', 'data-fa-mask'];\nvar RESERVED_CLASSES = ['xs', 'sm', 'lg', 'fw', 'ul', 'li', 'border', 'pull-left', 'pull-right', 'spin', 'pulse', 'rotate-90', 'rotate-180', 'rotate-270', 'flip-horizontal', 'flip-vertical', 'stack', 'stack-1x', 'stack-2x', 'inverse', 'layers', 'layers-text', 'layers-counter'].concat(oneToTen.map(function (n) {\n  return \"\".concat(n, \"x\");\n})).concat(oneToTwenty.map(function (n) {\n  return \"w-\".concat(n);\n}));\n\nvar initial = WINDOW.FontAwesomeConfig || {};\n\nfunction getAttrConfig(attr) {\n  var element = DOCUMENT.querySelector('script[' + attr + ']');\n\n  if (element) {\n    return element.getAttribute(attr);\n  }\n}\n\nfunction coerce(val) {\n  // Getting an empty string will occur if the attribute is set on the HTML tag but without a value\n  // We'll assume that this is an indication that it should be toggled to true\n  // For example <script data-search-pseudo-elements src=\"...\"></script>\n  if (val === '') return true;\n  if (val === 'false') return false;\n  if (val === 'true') return true;\n  return val;\n}\n\nif (DOCUMENT && typeof DOCUMENT.querySelector === 'function') {\n  var attrs = [['data-family-prefix', 'familyPrefix'], ['data-replacement-class', 'replacementClass'], ['data-auto-replace-svg', 'autoReplaceSvg'], ['data-auto-add-css', 'autoAddCss'], ['data-auto-a11y', 'autoA11y'], ['data-search-pseudo-elements', 'searchPseudoElements'], ['data-observe-mutations', 'observeMutations'], ['data-keep-original-source', 'keepOriginalSource'], ['data-measure-performance', 'measurePerformance'], ['data-show-missing-icons', 'showMissingIcons']];\n  attrs.forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        attr = _ref2[0],\n        key = _ref2[1];\n\n    var val = coerce(getAttrConfig(attr));\n\n    if (val !== undefined && val !== null) {\n      initial[key] = val;\n    }\n  });\n}\n\nvar _default = _objectSpread({\n  familyPrefix: DEFAULT_FAMILY_PREFIX,\n  replacementClass: DEFAULT_REPLACEMENT_CLASS,\n  autoReplaceSvg: true,\n  autoAddCss: true,\n  autoA11y: true,\n  searchPseudoElements: false,\n  observeMutations: true,\n  keepOriginalSource: true,\n  measurePerformance: false,\n  showMissingIcons: true\n}, initial);\n\nif (!_default.autoReplaceSvg) _default.observeMutations = false;\n\nvar config = _objectSpread({}, _default);\n\nWINDOW.FontAwesomeConfig = config;\n\nvar w = WINDOW || {};\nif (!w[NAMESPACE_IDENTIFIER]) w[NAMESPACE_IDENTIFIER] = {};\nif (!w[NAMESPACE_IDENTIFIER].styles) w[NAMESPACE_IDENTIFIER].styles = {};\nif (!w[NAMESPACE_IDENTIFIER].hooks) w[NAMESPACE_IDENTIFIER].hooks = {};\nif (!w[NAMESPACE_IDENTIFIER].shims) w[NAMESPACE_IDENTIFIER].shims = [];\nvar namespace = w[NAMESPACE_IDENTIFIER];\n\nvar functions = [];\n\nvar listener = function listener() {\n  DOCUMENT.removeEventListener('DOMContentLoaded', listener);\n  loaded = 1;\n  functions.map(function (fn) {\n    return fn();\n  });\n};\n\nvar loaded = false;\n\nif (IS_DOM) {\n  loaded = (DOCUMENT.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(DOCUMENT.readyState);\n  if (!loaded) DOCUMENT.addEventListener('DOMContentLoaded', listener);\n}\n\nfunction domready (fn) {\n  if (!IS_DOM) return;\n  loaded ? setTimeout(fn, 0) : functions.push(fn);\n}\n\nvar d = UNITS_IN_GRID;\nvar meaninglessTransform = {\n  size: 16,\n  x: 0,\n  y: 0,\n  rotate: 0,\n  flipX: false,\n  flipY: false\n};\n\nfunction isReserved(name) {\n  return ~RESERVED_CLASSES.indexOf(name);\n}\nfunction insertCss(css) {\n  if (!css || !IS_DOM) {\n    return;\n  }\n\n  var style = DOCUMENT.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  var headChildren = DOCUMENT.head.childNodes;\n  var beforeChild = null;\n\n  for (var i = headChildren.length - 1; i > -1; i--) {\n    var child = headChildren[i];\n    var tagName = (child.tagName || '').toUpperCase();\n\n    if (['STYLE', 'LINK'].indexOf(tagName) > -1) {\n      beforeChild = child;\n    }\n  }\n\n  DOCUMENT.head.insertBefore(style, beforeChild);\n  return css;\n}\nvar idPool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nfunction nextUniqueId() {\n  var size = 12;\n  var id = '';\n\n  while (size-- > 0) {\n    id += idPool[Math.random() * 62 | 0];\n  }\n\n  return id;\n}\nfunction toArray(obj) {\n  var array = [];\n\n  for (var i = (obj || []).length >>> 0; i--;) {\n    array[i] = obj[i];\n  }\n\n  return array;\n}\nfunction classArray(node) {\n  if (node.classList) {\n    return toArray(node.classList);\n  } else {\n    return (node.getAttribute('class') || '').split(' ').filter(function (i) {\n      return i;\n    });\n  }\n}\nfunction getIconName(familyPrefix, cls) {\n  var parts = cls.split('-');\n  var prefix = parts[0];\n  var iconName = parts.slice(1).join('-');\n\n  if (prefix === familyPrefix && iconName !== '' && !isReserved(iconName)) {\n    return iconName;\n  } else {\n    return null;\n  }\n}\nfunction htmlEscape(str) {\n  return \"\".concat(str).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\nfunction joinAttributes(attributes) {\n  return Object.keys(attributes || {}).reduce(function (acc, attributeName) {\n    return acc + \"\".concat(attributeName, \"=\\\"\").concat(htmlEscape(attributes[attributeName]), \"\\\" \");\n  }, '').trim();\n}\nfunction joinStyles(styles) {\n  return Object.keys(styles || {}).reduce(function (acc, styleName) {\n    return acc + \"\".concat(styleName, \": \").concat(styles[styleName], \";\");\n  }, '');\n}\nfunction transformIsMeaningful(transform) {\n  return transform.size !== meaninglessTransform.size || transform.x !== meaninglessTransform.x || transform.y !== meaninglessTransform.y || transform.rotate !== meaninglessTransform.rotate || transform.flipX || transform.flipY;\n}\nfunction transformForSvg(_ref) {\n  var transform = _ref.transform,\n      containerWidth = _ref.containerWidth,\n      iconWidth = _ref.iconWidth;\n  var outer = {\n    transform: \"translate(\".concat(containerWidth / 2, \" 256)\")\n  };\n  var innerTranslate = \"translate(\".concat(transform.x * 32, \", \").concat(transform.y * 32, \") \");\n  var innerScale = \"scale(\".concat(transform.size / 16 * (transform.flipX ? -1 : 1), \", \").concat(transform.size / 16 * (transform.flipY ? -1 : 1), \") \");\n  var innerRotate = \"rotate(\".concat(transform.rotate, \" 0 0)\");\n  var inner = {\n    transform: \"\".concat(innerTranslate, \" \").concat(innerScale, \" \").concat(innerRotate)\n  };\n  var path = {\n    transform: \"translate(\".concat(iconWidth / 2 * -1, \" -256)\")\n  };\n  return {\n    outer: outer,\n    inner: inner,\n    path: path\n  };\n}\nfunction transformForCss(_ref2) {\n  var transform = _ref2.transform,\n      _ref2$width = _ref2.width,\n      width = _ref2$width === void 0 ? UNITS_IN_GRID : _ref2$width,\n      _ref2$height = _ref2.height,\n      height = _ref2$height === void 0 ? UNITS_IN_GRID : _ref2$height,\n      _ref2$startCentered = _ref2.startCentered,\n      startCentered = _ref2$startCentered === void 0 ? false : _ref2$startCentered;\n  var val = '';\n\n  if (startCentered && IS_IE) {\n    val += \"translate(\".concat(transform.x / d - width / 2, \"em, \").concat(transform.y / d - height / 2, \"em) \");\n  } else if (startCentered) {\n    val += \"translate(calc(-50% + \".concat(transform.x / d, \"em), calc(-50% + \").concat(transform.y / d, \"em)) \");\n  } else {\n    val += \"translate(\".concat(transform.x / d, \"em, \").concat(transform.y / d, \"em) \");\n  }\n\n  val += \"scale(\".concat(transform.size / d * (transform.flipX ? -1 : 1), \", \").concat(transform.size / d * (transform.flipY ? -1 : 1), \") \");\n  val += \"rotate(\".concat(transform.rotate, \"deg) \");\n  return val;\n}\n\nvar ALL_SPACE = {\n  x: 0,\n  y: 0,\n  width: '100%',\n  height: '100%'\n};\nfunction makeIconMasking (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      mask = _ref.mask,\n      transform = _ref.transform;\n  var mainWidth = main.width,\n      mainPath = main.icon;\n  var maskWidth = mask.width,\n      maskPath = mask.icon;\n  var trans = transformForSvg({\n    transform: transform,\n    containerWidth: maskWidth,\n    iconWidth: mainWidth\n  });\n  var maskRect = {\n    tag: 'rect',\n    attributes: _objectSpread({}, ALL_SPACE, {\n      fill: 'white'\n    })\n  };\n  var maskInnerGroup = {\n    tag: 'g',\n    attributes: _objectSpread({}, trans.inner),\n    children: [{\n      tag: 'path',\n      attributes: _objectSpread({}, mainPath.attributes, trans.path, {\n        fill: 'black'\n      })\n    }]\n  };\n  var maskOuterGroup = {\n    tag: 'g',\n    attributes: _objectSpread({}, trans.outer),\n    children: [maskInnerGroup]\n  };\n  var maskId = \"mask-\".concat(nextUniqueId());\n  var clipId = \"clip-\".concat(nextUniqueId());\n  var maskTag = {\n    tag: 'mask',\n    attributes: _objectSpread({}, ALL_SPACE, {\n      id: maskId,\n      maskUnits: 'userSpaceOnUse',\n      maskContentUnits: 'userSpaceOnUse'\n    }),\n    children: [maskRect, maskOuterGroup]\n  };\n  var defs = {\n    tag: 'defs',\n    children: [{\n      tag: 'clipPath',\n      attributes: {\n        id: clipId\n      },\n      children: [maskPath]\n    }, maskTag]\n  };\n  children.push(defs, {\n    tag: 'rect',\n    attributes: _objectSpread({\n      fill: 'currentColor',\n      'clip-path': \"url(#\".concat(clipId, \")\"),\n      mask: \"url(#\".concat(maskId, \")\")\n    }, ALL_SPACE)\n  });\n  return {\n    children: children,\n    attributes: attributes\n  };\n}\n\nfunction makeIconStandard (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      transform = _ref.transform,\n      styles = _ref.styles;\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  if (transformIsMeaningful(transform)) {\n    var trans = transformForSvg({\n      transform: transform,\n      containerWidth: main.width,\n      iconWidth: main.width\n    });\n    children.push({\n      tag: 'g',\n      attributes: _objectSpread({}, trans.outer),\n      children: [{\n        tag: 'g',\n        attributes: _objectSpread({}, trans.inner),\n        children: [{\n          tag: main.icon.tag,\n          children: main.icon.children,\n          attributes: _objectSpread({}, main.icon.attributes, trans.path)\n        }]\n      }]\n    });\n  } else {\n    children.push(main.icon);\n  }\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n}\n\nfunction asIcon (_ref) {\n  var children = _ref.children,\n      main = _ref.main,\n      mask = _ref.mask,\n      attributes = _ref.attributes,\n      styles = _ref.styles,\n      transform = _ref.transform;\n\n  if (transformIsMeaningful(transform) && main.found && !mask.found) {\n    var width = main.width,\n        height = main.height;\n    var offset = {\n      x: width / height / 2,\n      y: 0.5\n    };\n    attributes['style'] = joinStyles(_objectSpread({}, styles, {\n      'transform-origin': \"\".concat(offset.x + transform.x / 16, \"em \").concat(offset.y + transform.y / 16, \"em\")\n    }));\n  }\n\n  return [{\n    tag: 'svg',\n    attributes: attributes,\n    children: children\n  }];\n}\n\nfunction asSymbol (_ref) {\n  var prefix = _ref.prefix,\n      iconName = _ref.iconName,\n      children = _ref.children,\n      attributes = _ref.attributes,\n      symbol = _ref.symbol;\n  var id = symbol === true ? \"\".concat(prefix, \"-\").concat(config.familyPrefix, \"-\").concat(iconName) : symbol;\n  return [{\n    tag: 'svg',\n    attributes: {\n      style: 'display: none;'\n    },\n    children: [{\n      tag: 'symbol',\n      attributes: _objectSpread({}, attributes, {\n        id: id\n      }),\n      children: children\n    }]\n  }];\n}\n\nfunction makeInlineSvgAbstract(params) {\n  var _params$icons = params.icons,\n      main = _params$icons.main,\n      mask = _params$icons.mask,\n      prefix = params.prefix,\n      iconName = params.iconName,\n      transform = params.transform,\n      symbol = params.symbol,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable = params.watchable,\n      watchable = _params$watchable === void 0 ? false : _params$watchable;\n\n  var _ref = mask.found ? mask : main,\n      width = _ref.width,\n      height = _ref.height;\n\n  var widthClass = \"fa-w-\".concat(Math.ceil(width / height * 16));\n  var attrClass = [config.replacementClass, iconName ? \"\".concat(config.familyPrefix, \"-\").concat(iconName) : '', widthClass].filter(function (c) {\n    return extra.classes.indexOf(c) === -1;\n  }).concat(extra.classes).join(' ');\n  var content = {\n    children: [],\n    attributes: _objectSpread({}, extra.attributes, {\n      'data-prefix': prefix,\n      'data-icon': iconName,\n      'class': attrClass,\n      'role': 'img',\n      'xmlns': 'http://www.w3.org/2000/svg',\n      'viewBox': \"0 0 \".concat(width, \" \").concat(height)\n    })\n  };\n\n  if (watchable) {\n    content.attributes[DATA_FA_I2SVG] = '';\n  }\n\n  if (title) content.children.push({\n    tag: 'title',\n    attributes: {\n      id: content.attributes['aria-labelledby'] || \"title-\".concat(nextUniqueId())\n    },\n    children: [title]\n  });\n\n  var args = _objectSpread({}, content, {\n    prefix: prefix,\n    iconName: iconName,\n    main: main,\n    mask: mask,\n    transform: transform,\n    symbol: symbol,\n    styles: extra.styles\n  });\n\n  var _ref2 = mask.found && main.found ? makeIconMasking(args) : makeIconStandard(args),\n      children = _ref2.children,\n      attributes = _ref2.attributes;\n\n  args.children = children;\n  args.attributes = attributes;\n\n  if (symbol) {\n    return asSymbol(args);\n  } else {\n    return asIcon(args);\n  }\n}\nfunction makeLayersTextAbstract(params) {\n  var content = params.content,\n      width = params.width,\n      height = params.height,\n      transform = params.transform,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable2 = params.watchable,\n      watchable = _params$watchable2 === void 0 ? false : _params$watchable2;\n\n  var attributes = _objectSpread({}, extra.attributes, title ? {\n    'title': title\n  } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  if (watchable) {\n    attributes[DATA_FA_I2SVG] = '';\n  }\n\n  var styles = _objectSpread({}, extra.styles);\n\n  if (transformIsMeaningful(transform)) {\n    styles['transform'] = transformForCss({\n      transform: transform,\n      startCentered: true,\n      width: width,\n      height: height\n    });\n    styles['-webkit-transform'] = styles['transform'];\n  }\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({\n      tag: 'span',\n      attributes: {\n        class: 'sr-only'\n      },\n      children: [title]\n    });\n  }\n\n  return val;\n}\nfunction makeLayersCounterAbstract(params) {\n  var content = params.content,\n      title = params.title,\n      extra = params.extra;\n\n  var attributes = _objectSpread({}, extra.attributes, title ? {\n    'title': title\n  } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  var styleString = joinStyles(extra.styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({\n      tag: 'span',\n      attributes: {\n        class: 'sr-only'\n      },\n      children: [title]\n    });\n  }\n\n  return val;\n}\n\nvar noop$1 = function noop() {};\n\nvar p = config.measurePerformance && PERFORMANCE && PERFORMANCE.mark && PERFORMANCE.measure ? PERFORMANCE : {\n  mark: noop$1,\n  measure: noop$1\n};\nvar preamble = \"FA \\\"5.6.3\\\"\";\n\nvar begin = function begin(name) {\n  p.mark(\"\".concat(preamble, \" \").concat(name, \" begins\"));\n  return function () {\n    return end(name);\n  };\n};\n\nvar end = function end(name) {\n  p.mark(\"\".concat(preamble, \" \").concat(name, \" ends\"));\n  p.measure(\"\".concat(preamble, \" \").concat(name), \"\".concat(preamble, \" \").concat(name, \" begins\"), \"\".concat(preamble, \" \").concat(name, \" ends\"));\n};\n\nvar perf = {\n  begin: begin,\n  end: end\n};\n\n/**\n * Internal helper to bind a function known to have 4 arguments\n * to a given context.\n */\n\nvar bindInternal4 = function bindInternal4(func, thisContext) {\n  return function (a, b, c, d) {\n    return func.call(thisContext, a, b, c, d);\n  };\n};\n\n/**\n * # Reduce\n *\n * A fast object `.reduce()` implementation.\n *\n * @param  {Object}   subject      The object to reduce over.\n * @param  {Function} fn           The reducer function.\n * @param  {mixed}    initialValue The initial value for the reducer, defaults to subject[0].\n * @param  {Object}   thisContext  The context for the reducer.\n * @return {mixed}                 The final result.\n */\n\n\nvar reduce = function fastReduceObject(subject, fn, initialValue, thisContext) {\n  var keys = Object.keys(subject),\n      length = keys.length,\n      iterator = thisContext !== undefined ? bindInternal4(fn, thisContext) : fn,\n      i,\n      key,\n      result;\n\n  if (initialValue === undefined) {\n    i = 1;\n    result = subject[keys[0]];\n  } else {\n    i = 0;\n    result = initialValue;\n  }\n\n  for (; i < length; i++) {\n    key = keys[i];\n    result = iterator(result, subject[key], key, subject);\n  }\n\n  return result;\n};\n\nvar styles = namespace.styles,\n    shims = namespace.shims;\nvar _byUnicode = {};\nvar _byLigature = {};\nvar _byOldName = {};\nvar build = function build() {\n  var lookup = function lookup(reducer) {\n    return reduce(styles, function (o, style, prefix) {\n      o[prefix] = reduce(style, reducer, {});\n      return o;\n    }, {});\n  };\n\n  _byUnicode = lookup(function (acc, icon, iconName) {\n    acc[icon[3]] = iconName;\n    return acc;\n  });\n  _byLigature = lookup(function (acc, icon, iconName) {\n    var ligatures = icon[2];\n    acc[iconName] = iconName;\n    ligatures.forEach(function (ligature) {\n      acc[ligature] = iconName;\n    });\n    return acc;\n  });\n  var hasRegular = 'far' in styles;\n  _byOldName = reduce(shims, function (acc, shim) {\n    var oldName = shim[0];\n    var prefix = shim[1];\n    var iconName = shim[2];\n\n    if (prefix === 'far' && !hasRegular) {\n      prefix = 'fas';\n    }\n\n    acc[oldName] = {\n      prefix: prefix,\n      iconName: iconName\n    };\n    return acc;\n  }, {});\n};\nbuild();\nfunction byUnicode(prefix, unicode) {\n  return _byUnicode[prefix][unicode];\n}\nfunction byLigature(prefix, ligature) {\n  return _byLigature[prefix][ligature];\n}\nfunction byOldName(name) {\n  return _byOldName[name] || {\n    prefix: null,\n    iconName: null\n  };\n}\n\nvar styles$1 = namespace.styles;\nvar emptyCanonicalIcon = function emptyCanonicalIcon() {\n  return {\n    prefix: null,\n    iconName: null,\n    rest: []\n  };\n};\nfunction getCanonicalIcon(values) {\n  return values.reduce(function (acc, cls) {\n    var iconName = getIconName(config.familyPrefix, cls);\n\n    if (styles$1[cls]) {\n      acc.prefix = cls;\n    } else if (iconName) {\n      var shim = acc.prefix === 'fa' ? byOldName(iconName) : {};\n      acc.iconName = shim.iconName || iconName;\n      acc.prefix = shim.prefix || acc.prefix;\n    } else if (cls !== config.replacementClass && cls.indexOf('fa-w-') !== 0) {\n      acc.rest.push(cls);\n    }\n\n    return acc;\n  }, emptyCanonicalIcon());\n}\nfunction iconFromMapping(mapping, prefix, iconName) {\n  if (mapping && mapping[prefix] && mapping[prefix][iconName]) {\n    return {\n      prefix: prefix,\n      iconName: iconName,\n      icon: mapping[prefix][iconName]\n    };\n  }\n}\n\nfunction toHtml(abstractNodes) {\n  var tag = abstractNodes.tag,\n      _abstractNodes$attrib = abstractNodes.attributes,\n      attributes = _abstractNodes$attrib === void 0 ? {} : _abstractNodes$attrib,\n      _abstractNodes$childr = abstractNodes.children,\n      children = _abstractNodes$childr === void 0 ? [] : _abstractNodes$childr;\n\n  if (typeof abstractNodes === 'string') {\n    return htmlEscape(abstractNodes);\n  } else {\n    return \"<\".concat(tag, \" \").concat(joinAttributes(attributes), \">\").concat(children.map(toHtml).join(''), \"</\").concat(tag, \">\");\n  }\n}\n\nvar noop$2 = function noop() {};\n\nfunction isWatched(node) {\n  var i2svg = node.getAttribute ? node.getAttribute(DATA_FA_I2SVG) : null;\n  return typeof i2svg === 'string';\n}\n\nfunction getMutator() {\n  if (config.autoReplaceSvg === true) {\n    return mutators.replace;\n  }\n\n  var mutator = mutators[config.autoReplaceSvg];\n  return mutator || mutators.replace;\n}\n\nvar mutators = {\n  replace: function replace(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n    var newOuterHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n\n    if (node.parentNode && node.outerHTML) {\n      node.outerHTML = newOuterHTML + (config.keepOriginalSource && node.tagName.toLowerCase() !== 'svg' ? \"<!-- \".concat(node.outerHTML, \" -->\") : '');\n    } else if (node.parentNode) {\n      var newNode = document.createElement('span');\n      node.parentNode.replaceChild(newNode, node);\n      newNode.outerHTML = newOuterHTML;\n    }\n  },\n  nest: function nest(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1]; // If we already have a replaced node we do not want to continue nesting within it.\n    // Short-circuit to the standard replacement\n\n    if (~classArray(node).indexOf(config.replacementClass)) {\n      return mutators.replace(mutation);\n    }\n\n    var forSvg = new RegExp(\"\".concat(config.familyPrefix, \"-.*\"));\n    delete abstract[0].attributes.style;\n    var splitClasses = abstract[0].attributes.class.split(' ').reduce(function (acc, cls) {\n      if (cls === config.replacementClass || cls.match(forSvg)) {\n        acc.toSvg.push(cls);\n      } else {\n        acc.toNode.push(cls);\n      }\n\n      return acc;\n    }, {\n      toNode: [],\n      toSvg: []\n    });\n    abstract[0].attributes.class = splitClasses.toSvg.join(' ');\n    var newInnerHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n    node.setAttribute('class', splitClasses.toNode.join(' '));\n    node.setAttribute(DATA_FA_I2SVG, '');\n    node.innerHTML = newInnerHTML;\n  }\n};\nfunction perform(mutations, callback) {\n  var callbackFunction = typeof callback === 'function' ? callback : noop$2;\n\n  if (mutations.length === 0) {\n    callbackFunction();\n  } else {\n    var frame = WINDOW.requestAnimationFrame || function (op) {\n      return op();\n    };\n\n    frame(function () {\n      var mutator = getMutator();\n      var mark = perf.begin('mutate');\n      mutations.map(mutator);\n      mark();\n      callbackFunction();\n    });\n  }\n}\nvar disabled = false;\nfunction disableObservation(operation) {\n  disabled = true;\n  operation();\n  disabled = false;\n}\nvar mo = null;\nfunction observe(options) {\n  if (!MUTATION_OBSERVER) {\n    return;\n  }\n\n  if (!config.observeMutations) {\n    return;\n  }\n\n  var treeCallback = options.treeCallback,\n      nodeCallback = options.nodeCallback,\n      pseudoElementsCallback = options.pseudoElementsCallback,\n      _options$observeMutat = options.observeMutationsRoot,\n      observeMutationsRoot = _options$observeMutat === void 0 ? DOCUMENT.body : _options$observeMutat;\n  mo = new MUTATION_OBSERVER(function (objects) {\n    if (disabled) return;\n    toArray(objects).forEach(function (mutationRecord) {\n      if (mutationRecord.type === 'childList' && mutationRecord.addedNodes.length > 0 && !isWatched(mutationRecord.addedNodes[0])) {\n        if (config.searchPseudoElements) {\n          pseudoElementsCallback(mutationRecord.target);\n        }\n\n        treeCallback(mutationRecord.target);\n      }\n\n      if (mutationRecord.type === 'attributes' && mutationRecord.target.parentNode && config.searchPseudoElements) {\n        pseudoElementsCallback(mutationRecord.target.parentNode);\n      }\n\n      if (mutationRecord.type === 'attributes' && isWatched(mutationRecord.target) && ~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(mutationRecord.attributeName)) {\n        if (mutationRecord.attributeName === 'class') {\n          var _getCanonicalIcon = getCanonicalIcon(classArray(mutationRecord.target)),\n              prefix = _getCanonicalIcon.prefix,\n              iconName = _getCanonicalIcon.iconName;\n\n          if (prefix) mutationRecord.target.setAttribute('data-prefix', prefix);\n          if (iconName) mutationRecord.target.setAttribute('data-icon', iconName);\n        } else {\n          nodeCallback(mutationRecord.target);\n        }\n      }\n    });\n  });\n  if (!IS_DOM) return;\n  mo.observe(observeMutationsRoot, {\n    childList: true,\n    attributes: true,\n    characterData: true,\n    subtree: true\n  });\n}\nfunction disconnect() {\n  if (!mo) return;\n  mo.disconnect();\n}\n\nfunction styleParser (node) {\n  var style = node.getAttribute('style');\n  var val = [];\n\n  if (style) {\n    val = style.split(';').reduce(function (acc, style) {\n      var styles = style.split(':');\n      var prop = styles[0];\n      var value = styles.slice(1);\n\n      if (prop && value.length > 0) {\n        acc[prop] = value.join(':').trim();\n      }\n\n      return acc;\n    }, {});\n  }\n\n  return val;\n}\n\nfunction toHex(unicode) {\n  var result = '';\n\n  for (var i = 0; i < unicode.length; i++) {\n    var hex = unicode.charCodeAt(i).toString(16);\n    result += ('000' + hex).slice(-4);\n  }\n\n  return result;\n}\n\nfunction classParser (node) {\n  var existingPrefix = node.getAttribute('data-prefix');\n  var existingIconName = node.getAttribute('data-icon');\n  var innerText = node.innerText !== undefined ? node.innerText.trim() : '';\n  var val = getCanonicalIcon(classArray(node));\n\n  if (existingPrefix && existingIconName) {\n    val.prefix = existingPrefix;\n    val.iconName = existingIconName;\n  }\n\n  if (val.prefix && innerText.length > 1) {\n    val.iconName = byLigature(val.prefix, node.innerText);\n  } else if (val.prefix && innerText.length === 1) {\n    val.iconName = byUnicode(val.prefix, toHex(node.innerText));\n  }\n\n  return val;\n}\n\nvar parseTransformString = function parseTransformString(transformString) {\n  var transform = {\n    size: 16,\n    x: 0,\n    y: 0,\n    flipX: false,\n    flipY: false,\n    rotate: 0\n  };\n\n  if (!transformString) {\n    return transform;\n  } else {\n    return transformString.toLowerCase().split(' ').reduce(function (acc, n) {\n      var parts = n.toLowerCase().split('-');\n      var first = parts[0];\n      var rest = parts.slice(1).join('-');\n\n      if (first && rest === 'h') {\n        acc.flipX = true;\n        return acc;\n      }\n\n      if (first && rest === 'v') {\n        acc.flipY = true;\n        return acc;\n      }\n\n      rest = parseFloat(rest);\n\n      if (isNaN(rest)) {\n        return acc;\n      }\n\n      switch (first) {\n        case 'grow':\n          acc.size = acc.size + rest;\n          break;\n\n        case 'shrink':\n          acc.size = acc.size - rest;\n          break;\n\n        case 'left':\n          acc.x = acc.x - rest;\n          break;\n\n        case 'right':\n          acc.x = acc.x + rest;\n          break;\n\n        case 'up':\n          acc.y = acc.y - rest;\n          break;\n\n        case 'down':\n          acc.y = acc.y + rest;\n          break;\n\n        case 'rotate':\n          acc.rotate = acc.rotate + rest;\n          break;\n      }\n\n      return acc;\n    }, transform);\n  }\n};\nfunction transformParser (node) {\n  return parseTransformString(node.getAttribute('data-fa-transform'));\n}\n\nfunction symbolParser (node) {\n  var symbol = node.getAttribute('data-fa-symbol');\n  return symbol === null ? false : symbol === '' ? true : symbol;\n}\n\nfunction attributesParser (node) {\n  var extraAttributes = toArray(node.attributes).reduce(function (acc, attr) {\n    if (acc.name !== 'class' && acc.name !== 'style') {\n      acc[attr.name] = attr.value;\n    }\n\n    return acc;\n  }, {});\n  var title = node.getAttribute('title');\n\n  if (config.autoA11y) {\n    if (title) {\n      extraAttributes['aria-labelledby'] = \"\".concat(config.replacementClass, \"-title-\").concat(nextUniqueId());\n    } else {\n      extraAttributes['aria-hidden'] = 'true';\n    }\n  }\n\n  return extraAttributes;\n}\n\nfunction maskParser (node) {\n  var mask = node.getAttribute('data-fa-mask');\n\n  if (!mask) {\n    return emptyCanonicalIcon();\n  } else {\n    return getCanonicalIcon(mask.split(' ').map(function (i) {\n      return i.trim();\n    }));\n  }\n}\n\nvar blankMeta = {\n  iconName: null,\n  title: null,\n  prefix: null,\n  transform: meaninglessTransform,\n  symbol: false,\n  mask: null,\n  extra: {\n    classes: [],\n    styles: {},\n    attributes: {}\n  }\n};\nfunction parseMeta(node) {\n  var _classParser = classParser(node),\n      iconName = _classParser.iconName,\n      prefix = _classParser.prefix,\n      extraClasses = _classParser.rest;\n\n  var extraStyles = styleParser(node);\n  var transform = transformParser(node);\n  var symbol = symbolParser(node);\n  var extraAttributes = attributesParser(node);\n  var mask = maskParser(node);\n  return {\n    iconName: iconName,\n    title: node.getAttribute('title'),\n    prefix: prefix,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    extra: {\n      classes: extraClasses,\n      styles: extraStyles,\n      attributes: extraAttributes\n    }\n  };\n}\n\nfunction MissingIcon(error) {\n  this.name = 'MissingIcon';\n  this.message = error || 'Icon unavailable';\n  this.stack = new Error().stack;\n}\nMissingIcon.prototype = Object.create(Error.prototype);\nMissingIcon.prototype.constructor = MissingIcon;\n\nvar FILL = {\n  fill: 'currentColor'\n};\nvar ANIMATION_BASE = {\n  attributeType: 'XML',\n  repeatCount: 'indefinite',\n  dur: '2s'\n};\nvar RING = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    d: 'M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z'\n  })\n};\n\nvar OPACITY_ANIMATE = _objectSpread({}, ANIMATION_BASE, {\n  attributeName: 'opacity'\n});\n\nvar DOT = {\n  tag: 'circle',\n  attributes: _objectSpread({}, FILL, {\n    cx: '256',\n    cy: '364',\n    r: '28'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, ANIMATION_BASE, {\n      attributeName: 'r',\n      values: '28;14;28;28;14;28;'\n    })\n  }, {\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '1;0;1;1;0;1;'\n    })\n  }]\n};\nvar QUESTION = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    opacity: '1',\n    d: 'M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '1;0;0;0;0;1;'\n    })\n  }]\n};\nvar EXCLAMATION = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    opacity: '0',\n    d: 'M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '0;0;1;1;0;0;'\n    })\n  }]\n};\nvar missing = {\n  tag: 'g',\n  children: [RING, DOT, QUESTION, EXCLAMATION]\n};\n\nvar styles$2 = namespace.styles;\nvar LAYERS_TEXT_CLASSNAME = 'fa-layers-text';\nvar FONT_FAMILY_PATTERN = /Font Awesome 5 (Solid|Regular|Light|Brands|Free|Pro)/;\nvar STYLE_TO_PREFIX = {\n  'Solid': 'fas',\n  'Regular': 'far',\n  'Light': 'fal',\n  'Brands': 'fab'\n};\nvar FONT_WEIGHT_TO_PREFIX = {\n  '900': 'fas',\n  '400': 'far',\n  '300': 'fal'\n};\n\nfunction findIcon(iconName, prefix) {\n  var val = {\n    found: false,\n    width: 512,\n    height: 512,\n    icon: missing\n  };\n\n  if (iconName && prefix && styles$2[prefix] && styles$2[prefix][iconName]) {\n    var icon = styles$2[prefix][iconName];\n    var width = icon[0];\n    var height = icon[1];\n    var vectorData = icon.slice(4);\n    val = {\n      found: true,\n      width: width,\n      height: height,\n      icon: {\n        tag: 'path',\n        attributes: {\n          fill: 'currentColor',\n          d: vectorData[0]\n        }\n      }\n    };\n  } else if (iconName && prefix && !config.showMissingIcons) {\n    throw new MissingIcon(\"Icon is missing for prefix \".concat(prefix, \" with icon name \").concat(iconName));\n  }\n\n  return val;\n}\n\nfunction generateSvgReplacementMutation(node, nodeMeta) {\n  var iconName = nodeMeta.iconName,\n      title = nodeMeta.title,\n      prefix = nodeMeta.prefix,\n      transform = nodeMeta.transform,\n      symbol = nodeMeta.symbol,\n      mask = nodeMeta.mask,\n      extra = nodeMeta.extra;\n  return [node, makeInlineSvgAbstract({\n    icons: {\n      main: findIcon(iconName, prefix),\n      mask: findIcon(mask.iconName, mask.prefix)\n    },\n    prefix: prefix,\n    iconName: iconName,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateLayersText(node, nodeMeta) {\n  var title = nodeMeta.title,\n      transform = nodeMeta.transform,\n      extra = nodeMeta.extra;\n  var width = null;\n  var height = null;\n\n  if (IS_IE) {\n    var computedFontSize = parseInt(getComputedStyle(node).fontSize, 10);\n    var boundingClientRect = node.getBoundingClientRect();\n    width = boundingClientRect.width / computedFontSize;\n    height = boundingClientRect.height / computedFontSize;\n  }\n\n  if (config.autoA11y && !title) {\n    extra.attributes['aria-hidden'] = 'true';\n  }\n\n  return [node, makeLayersTextAbstract({\n    content: node.innerHTML,\n    width: width,\n    height: height,\n    transform: transform,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateMutation(node) {\n  var nodeMeta = parseMeta(node);\n\n  if (~nodeMeta.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)) {\n    return generateLayersText(node, nodeMeta);\n  } else {\n    return generateSvgReplacementMutation(node, nodeMeta);\n  }\n}\n\nfunction searchPseudoElements(root) {\n  if (!IS_DOM) return;\n  var end = perf.begin('searchPseudoElements');\n  disableObservation(function () {\n    toArray(root.querySelectorAll('*')).filter(function (n) {\n      return n.parentNode !== document.head && !~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(n.tagName.toUpperCase()) && !n.getAttribute(DATA_FA_PSEUDO_ELEMENT) && (!n.parentNode || n.parentNode.tagName !== 'svg');\n    }).forEach(function (node) {\n      [':before', ':after'].forEach(function (pos) {\n        var children = toArray(node.children);\n        var alreadyProcessedPseudoElement = children.filter(function (c) {\n          return c.getAttribute(DATA_FA_PSEUDO_ELEMENT) === pos;\n        })[0];\n        var styles = WINDOW.getComputedStyle(node, pos);\n        var fontFamily = styles.getPropertyValue('font-family').match(FONT_FAMILY_PATTERN);\n        var fontWeight = styles.getPropertyValue('font-weight');\n\n        if (alreadyProcessedPseudoElement && !fontFamily) {\n          // If we've already processed it but the current computed style does not result in a font-family,\n          // that probably means that a class name that was previously present to make the icon has been\n          // removed. So we now should delete the icon.\n          node.removeChild(alreadyProcessedPseudoElement);\n        } else if (fontFamily) {\n          var content = styles.getPropertyValue('content');\n          var prefix = ~['Light', 'Regular', 'Solid', 'Brands'].indexOf(fontFamily[1]) ? STYLE_TO_PREFIX[fontFamily[1]] : FONT_WEIGHT_TO_PREFIX[fontWeight];\n          var iconName = byUnicode(prefix, toHex(content.length === 3 ? content.substr(1, 1) : content)); // Only convert the pseudo element in this :before/:after position into an icon if we haven't\n          // already done so with the same prefix and iconName\n\n          if (!alreadyProcessedPseudoElement || alreadyProcessedPseudoElement.getAttribute(DATA_PREFIX) !== prefix || alreadyProcessedPseudoElement.getAttribute(DATA_ICON) !== iconName) {\n            if (alreadyProcessedPseudoElement) {\n              // Delete the old one, since we're replacing it with a new one\n              node.removeChild(alreadyProcessedPseudoElement);\n            }\n\n            var extra = blankMeta.extra;\n            extra.attributes[DATA_FA_PSEUDO_ELEMENT] = pos;\n            var abstract = makeInlineSvgAbstract(_objectSpread({}, blankMeta, {\n              icons: {\n                main: findIcon(iconName, prefix),\n                mask: emptyCanonicalIcon()\n              },\n              prefix: prefix,\n              iconName: iconName,\n              extra: extra,\n              watchable: true\n            }));\n            var element = DOCUMENT.createElement('svg');\n\n            if (pos === ':before') {\n              node.insertBefore(element, node.firstChild);\n            } else {\n              node.appendChild(element);\n            }\n\n            element.outerHTML = abstract.map(function (a) {\n              return toHtml(a);\n            }).join('\\n');\n          }\n        }\n      });\n    });\n  });\n  end();\n}\nfunction onTree(root) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (!IS_DOM) return;\n  var htmlClassList = DOCUMENT.documentElement.classList;\n\n  var hclAdd = function hclAdd(suffix) {\n    return htmlClassList.add(\"\".concat(HTML_CLASS_I2SVG_BASE_CLASS, \"-\").concat(suffix));\n  };\n\n  var hclRemove = function hclRemove(suffix) {\n    return htmlClassList.remove(\"\".concat(HTML_CLASS_I2SVG_BASE_CLASS, \"-\").concat(suffix));\n  };\n\n  var prefixes = Object.keys(styles$2);\n  var prefixesDomQuery = [\".\".concat(LAYERS_TEXT_CLASSNAME, \":not([\").concat(DATA_FA_I2SVG, \"])\")].concat(prefixes.map(function (p) {\n    return \".\".concat(p, \":not([\").concat(DATA_FA_I2SVG, \"])\");\n  })).join(', ');\n\n  if (prefixesDomQuery.length === 0) {\n    return;\n  }\n\n  var candidates = toArray(root.querySelectorAll(prefixesDomQuery));\n\n  if (candidates.length > 0) {\n    hclAdd('pending');\n    hclRemove('complete');\n  } else {\n    return;\n  }\n\n  var mark = perf.begin('onTree');\n  var mutations = candidates.reduce(function (acc, node) {\n    try {\n      var mutation = generateMutation(node);\n\n      if (mutation) {\n        acc.push(mutation);\n      }\n    } catch (e) {\n      if (!PRODUCTION) {\n        if (e instanceof MissingIcon) {\n          console.error(e);\n        }\n      }\n    }\n\n    return acc;\n  }, []);\n  mark();\n  perform(mutations, function () {\n    hclAdd('active');\n    hclAdd('complete');\n    hclRemove('pending');\n    if (typeof callback === 'function') callback();\n  });\n}\nfunction onNode(node) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var mutation = generateMutation(node);\n\n  if (mutation) {\n    perform([mutation], callback);\n  }\n}\n\nvar baseStyles = \"svg:not(:root).svg-inline--fa {\\n  overflow: visible;\\n}\\n\\n.svg-inline--fa {\\n  display: inline-block;\\n  font-size: inherit;\\n  height: 1em;\\n  overflow: visible;\\n  vertical-align: -0.125em;\\n}\\n.svg-inline--fa.fa-lg {\\n  vertical-align: -0.225em;\\n}\\n.svg-inline--fa.fa-w-1 {\\n  width: 0.0625em;\\n}\\n.svg-inline--fa.fa-w-2 {\\n  width: 0.125em;\\n}\\n.svg-inline--fa.fa-w-3 {\\n  width: 0.1875em;\\n}\\n.svg-inline--fa.fa-w-4 {\\n  width: 0.25em;\\n}\\n.svg-inline--fa.fa-w-5 {\\n  width: 0.3125em;\\n}\\n.svg-inline--fa.fa-w-6 {\\n  width: 0.375em;\\n}\\n.svg-inline--fa.fa-w-7 {\\n  width: 0.4375em;\\n}\\n.svg-inline--fa.fa-w-8 {\\n  width: 0.5em;\\n}\\n.svg-inline--fa.fa-w-9 {\\n  width: 0.5625em;\\n}\\n.svg-inline--fa.fa-w-10 {\\n  width: 0.625em;\\n}\\n.svg-inline--fa.fa-w-11 {\\n  width: 0.6875em;\\n}\\n.svg-inline--fa.fa-w-12 {\\n  width: 0.75em;\\n}\\n.svg-inline--fa.fa-w-13 {\\n  width: 0.8125em;\\n}\\n.svg-inline--fa.fa-w-14 {\\n  width: 0.875em;\\n}\\n.svg-inline--fa.fa-w-15 {\\n  width: 0.9375em;\\n}\\n.svg-inline--fa.fa-w-16 {\\n  width: 1em;\\n}\\n.svg-inline--fa.fa-w-17 {\\n  width: 1.0625em;\\n}\\n.svg-inline--fa.fa-w-18 {\\n  width: 1.125em;\\n}\\n.svg-inline--fa.fa-w-19 {\\n  width: 1.1875em;\\n}\\n.svg-inline--fa.fa-w-20 {\\n  width: 1.25em;\\n}\\n.svg-inline--fa.fa-pull-left {\\n  margin-right: 0.3em;\\n  width: auto;\\n}\\n.svg-inline--fa.fa-pull-right {\\n  margin-left: 0.3em;\\n  width: auto;\\n}\\n.svg-inline--fa.fa-border {\\n  height: 1.5em;\\n}\\n.svg-inline--fa.fa-li {\\n  width: 2em;\\n}\\n.svg-inline--fa.fa-fw {\\n  width: 1.25em;\\n}\\n\\n.fa-layers svg.svg-inline--fa {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\\n.fa-layers {\\n  display: inline-block;\\n  height: 1em;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: -0.125em;\\n  width: 1em;\\n}\\n.fa-layers svg.svg-inline--fa {\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center;\\n}\\n\\n.fa-layers-counter, .fa-layers-text {\\n  display: inline-block;\\n  position: absolute;\\n  text-align: center;\\n}\\n\\n.fa-layers-text {\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center;\\n}\\n\\n.fa-layers-counter {\\n  background-color: #ff253a;\\n  border-radius: 1em;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #fff;\\n  height: 1.5em;\\n  line-height: 1;\\n  max-width: 5em;\\n  min-width: 1.5em;\\n  overflow: hidden;\\n  padding: 0.25em;\\n  right: 0;\\n  text-overflow: ellipsis;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right;\\n}\\n\\n.fa-layers-bottom-right {\\n  bottom: 0;\\n  right: 0;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom right;\\n          transform-origin: bottom right;\\n}\\n\\n.fa-layers-bottom-left {\\n  bottom: 0;\\n  left: 0;\\n  right: auto;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom left;\\n          transform-origin: bottom left;\\n}\\n\\n.fa-layers-top-right {\\n  right: 0;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right;\\n}\\n\\n.fa-layers-top-left {\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top left;\\n          transform-origin: top left;\\n}\\n\\n.fa-lg {\\n  font-size: 1.3333333333em;\\n  line-height: 0.75em;\\n  vertical-align: -0.0667em;\\n}\\n\\n.fa-xs {\\n  font-size: 0.75em;\\n}\\n\\n.fa-sm {\\n  font-size: 0.875em;\\n}\\n\\n.fa-1x {\\n  font-size: 1em;\\n}\\n\\n.fa-2x {\\n  font-size: 2em;\\n}\\n\\n.fa-3x {\\n  font-size: 3em;\\n}\\n\\n.fa-4x {\\n  font-size: 4em;\\n}\\n\\n.fa-5x {\\n  font-size: 5em;\\n}\\n\\n.fa-6x {\\n  font-size: 6em;\\n}\\n\\n.fa-7x {\\n  font-size: 7em;\\n}\\n\\n.fa-8x {\\n  font-size: 8em;\\n}\\n\\n.fa-9x {\\n  font-size: 9em;\\n}\\n\\n.fa-10x {\\n  font-size: 10em;\\n}\\n\\n.fa-fw {\\n  text-align: center;\\n  width: 1.25em;\\n}\\n\\n.fa-ul {\\n  list-style-type: none;\\n  margin-left: 2.5em;\\n  padding-left: 0;\\n}\\n.fa-ul > li {\\n  position: relative;\\n}\\n\\n.fa-li {\\n  left: -2em;\\n  position: absolute;\\n  text-align: center;\\n  width: 2em;\\n  line-height: inherit;\\n}\\n\\n.fa-border {\\n  border: solid 0.08em #eee;\\n  border-radius: 0.1em;\\n  padding: 0.2em 0.25em 0.15em;\\n}\\n\\n.fa-pull-left {\\n  float: left;\\n}\\n\\n.fa-pull-right {\\n  float: right;\\n}\\n\\n.fa.fa-pull-left,\\n.fas.fa-pull-left,\\n.far.fa-pull-left,\\n.fal.fa-pull-left,\\n.fab.fa-pull-left {\\n  margin-right: 0.3em;\\n}\\n.fa.fa-pull-right,\\n.fas.fa-pull-right,\\n.far.fa-pull-right,\\n.fal.fa-pull-right,\\n.fab.fa-pull-right {\\n  margin-left: 0.3em;\\n}\\n\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n          animation: fa-spin 2s infinite linear;\\n}\\n\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n          animation: fa-spin 1s infinite steps(8);\\n}\\n\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg);\\n  }\\n}\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n          transform: rotate(90deg);\\n}\\n\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n          transform: rotate(180deg);\\n}\\n\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n          transform: rotate(270deg);\\n}\\n\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n          transform: scale(-1, 1);\\n}\\n\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n          transform: scale(1, -1);\\n}\\n\\n.fa-flip-horizontal.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(-1, -1);\\n          transform: scale(-1, -1);\\n}\\n\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  -webkit-filter: none;\\n          filter: none;\\n}\\n\\n.fa-stack {\\n  display: inline-block;\\n  height: 2em;\\n  position: relative;\\n  width: 2.5em;\\n}\\n\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\\n.svg-inline--fa.fa-stack-1x {\\n  height: 1em;\\n  width: 1.25em;\\n}\\n.svg-inline--fa.fa-stack-2x {\\n  height: 2em;\\n  width: 2.5em;\\n}\\n\\n.fa-inverse {\\n  color: #fff;\\n}\\n\\n.sr-only {\\n  border: 0;\\n  clip: rect(0, 0, 0, 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  width: 1px;\\n}\\n\\n.sr-only-focusable:active, .sr-only-focusable:focus {\\n  clip: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  position: static;\\n  width: auto;\\n}\";\n\nfunction css () {\n  var dfp = DEFAULT_FAMILY_PREFIX;\n  var drc = DEFAULT_REPLACEMENT_CLASS;\n  var fp = config.familyPrefix;\n  var rc = config.replacementClass;\n  var s = baseStyles;\n\n  if (fp !== dfp || rc !== drc) {\n    var dPatt = new RegExp(\"\\\\.\".concat(dfp, \"\\\\-\"), 'g');\n    var rPatt = new RegExp(\"\\\\.\".concat(drc), 'g');\n    s = s.replace(dPatt, \".\".concat(fp, \"-\")).replace(rPatt, \".\".concat(rc));\n  }\n\n  return s;\n}\n\nfunction define(prefix, icons) {\n  var normalized = Object.keys(icons).reduce(function (acc, iconName) {\n    var icon = icons[iconName];\n    var expanded = !!icon.icon;\n\n    if (expanded) {\n      acc[icon.iconName] = icon.icon;\n    } else {\n      acc[iconName] = icon;\n    }\n\n    return acc;\n  }, {});\n\n  if (typeof namespace.hooks.addPack === 'function') {\n    namespace.hooks.addPack(prefix, normalized);\n  } else {\n    namespace.styles[prefix] = _objectSpread({}, namespace.styles[prefix] || {}, normalized);\n  }\n  /**\n   * Font Awesome 4 used the prefix of `fa` for all icons. With the introduction\n   * of new styles we needed to differentiate between them. Prefix `fa` is now an alias\n   * for `fas` so we'll easy the upgrade process for our users by automatically defining\n   * this as well.\n   */\n\n\n  if (prefix === 'fas') {\n    define('fa', icons);\n  }\n}\n\nvar Library =\n/*#__PURE__*/\nfunction () {\n  function Library() {\n    _classCallCheck(this, Library);\n\n    this.definitions = {};\n  }\n\n  _createClass(Library, [{\n    key: \"add\",\n    value: function add() {\n      var _this = this;\n\n      for (var _len = arguments.length, definitions = new Array(_len), _key = 0; _key < _len; _key++) {\n        definitions[_key] = arguments[_key];\n      }\n\n      var additions = definitions.reduce(this._pullDefinitions, {});\n      Object.keys(additions).forEach(function (key) {\n        _this.definitions[key] = _objectSpread({}, _this.definitions[key] || {}, additions[key]);\n        define(key, additions[key]);\n        build();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.definitions = {};\n    }\n  }, {\n    key: \"_pullDefinitions\",\n    value: function _pullDefinitions(additions, definition) {\n      var normalized = definition.prefix && definition.iconName && definition.icon ? {\n        0: definition\n      } : definition;\n      Object.keys(normalized).map(function (key) {\n        var _normalized$key = normalized[key],\n            prefix = _normalized$key.prefix,\n            iconName = _normalized$key.iconName,\n            icon = _normalized$key.icon;\n        if (!additions[prefix]) additions[prefix] = {};\n        additions[prefix][iconName] = icon;\n      });\n      return additions;\n    }\n  }]);\n\n  return Library;\n}();\n\nfunction prepIcon(icon) {\n  var width = icon[0];\n  var height = icon[1];\n  var vectorData = icon.slice(4);\n  return {\n    found: true,\n    width: width,\n    height: height,\n    icon: {\n      tag: 'path',\n      attributes: {\n        fill: 'currentColor',\n        d: vectorData[0]\n      }\n    }\n  };\n}\n\nfunction ensureCss() {\n  if (config.autoAddCss && !_cssInserted) {\n    insertCss(css());\n\n    _cssInserted = true;\n  }\n}\n\nfunction apiObject(val, abstractCreator) {\n  Object.defineProperty(val, 'abstract', {\n    get: abstractCreator\n  });\n  Object.defineProperty(val, 'html', {\n    get: function get() {\n      return val.abstract.map(function (a) {\n        return toHtml(a);\n      });\n    }\n  });\n  Object.defineProperty(val, 'node', {\n    get: function get() {\n      if (!IS_DOM) return;\n      var container = DOCUMENT.createElement('div');\n      container.innerHTML = val.html;\n      return container.children;\n    }\n  });\n  return val;\n}\n\nfunction findIconDefinition(params) {\n  var _params$prefix = params.prefix,\n      prefix = _params$prefix === void 0 ? 'fa' : _params$prefix,\n      iconName = params.iconName;\n  if (!iconName) return;\n  return iconFromMapping(library.definitions, prefix, iconName) || iconFromMapping(namespace.styles, prefix, iconName);\n}\n\nfunction resolveIcons(next) {\n  return function (maybeIconDefinition) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var iconDefinition = (maybeIconDefinition || {}).icon ? maybeIconDefinition : findIconDefinition(maybeIconDefinition || {});\n    var mask = params.mask;\n\n    if (mask) {\n      mask = (mask || {}).icon ? mask : findIconDefinition(mask || {});\n    }\n\n    return next(iconDefinition, _objectSpread({}, params, {\n      mask: mask\n    }));\n  };\n}\n\nvar library = new Library();\nvar noAuto = function noAuto() {\n  config.autoReplaceSvg = false;\n  config.observeMutations = false;\n  disconnect();\n};\nvar _cssInserted = false;\nvar dom = {\n  i2svg: function i2svg() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (IS_DOM) {\n      ensureCss();\n      var _params$node = params.node,\n          node = _params$node === void 0 ? DOCUMENT : _params$node,\n          _params$callback = params.callback,\n          callback = _params$callback === void 0 ? function () {} : _params$callback;\n\n      if (config.searchPseudoElements) {\n        searchPseudoElements(node);\n      }\n\n      onTree(node, callback);\n    }\n  },\n  css: css,\n  insertCss: function insertCss$$1() {\n    if (!_cssInserted) {\n      insertCss(css());\n\n      _cssInserted = true;\n    }\n  },\n  watch: function watch() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var autoReplaceSvgRoot = params.autoReplaceSvgRoot,\n        observeMutationsRoot = params.observeMutationsRoot;\n\n    if (config.autoReplaceSvg === false) {\n      config.autoReplaceSvg = true;\n    }\n\n    config.observeMutations = true;\n    domready(function () {\n      autoReplace({\n        autoReplaceSvgRoot: autoReplaceSvgRoot\n      });\n      observe({\n        treeCallback: onTree,\n        nodeCallback: onNode,\n        pseudoElementsCallback: searchPseudoElements,\n        observeMutationsRoot: observeMutationsRoot\n      });\n    });\n  }\n};\nvar parse = {\n  transform: function transform(transformString) {\n    return parseTransformString(transformString);\n  }\n};\nvar icon = resolveIcons(function (iconDefinition) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform = params.transform,\n      transform = _params$transform === void 0 ? meaninglessTransform : _params$transform,\n      _params$symbol = params.symbol,\n      symbol = _params$symbol === void 0 ? false : _params$symbol,\n      _params$mask = params.mask,\n      mask = _params$mask === void 0 ? null : _params$mask,\n      _params$title = params.title,\n      title = _params$title === void 0 ? null : _params$title,\n      _params$classes = params.classes,\n      classes = _params$classes === void 0 ? [] : _params$classes,\n      _params$attributes = params.attributes,\n      attributes = _params$attributes === void 0 ? {} : _params$attributes,\n      _params$styles = params.styles,\n      styles = _params$styles === void 0 ? {} : _params$styles;\n  if (!iconDefinition) return;\n  var prefix = iconDefinition.prefix,\n      iconName = iconDefinition.iconName,\n      icon = iconDefinition.icon;\n  return apiObject(_objectSpread({\n    type: 'icon'\n  }, iconDefinition), function () {\n    ensureCss();\n\n    if (config.autoA11y) {\n      if (title) {\n        attributes['aria-labelledby'] = \"\".concat(config.replacementClass, \"-title-\").concat(nextUniqueId());\n      } else {\n        attributes['aria-hidden'] = 'true';\n      }\n    }\n\n    return makeInlineSvgAbstract({\n      icons: {\n        main: prepIcon(icon),\n        mask: mask ? prepIcon(mask.icon) : {\n          found: false,\n          width: null,\n          height: null,\n          icon: {}\n        }\n      },\n      prefix: prefix,\n      iconName: iconName,\n      transform: _objectSpread({}, meaninglessTransform, transform),\n      symbol: symbol,\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: classes\n      }\n    });\n  });\n});\nvar text = function text(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform2 = params.transform,\n      transform = _params$transform2 === void 0 ? meaninglessTransform : _params$transform2,\n      _params$title2 = params.title,\n      title = _params$title2 === void 0 ? null : _params$title2,\n      _params$classes2 = params.classes,\n      classes = _params$classes2 === void 0 ? [] : _params$classes2,\n      _params$attributes2 = params.attributes,\n      attributes = _params$attributes2 === void 0 ? {} : _params$attributes2,\n      _params$styles2 = params.styles,\n      styles = _params$styles2 === void 0 ? {} : _params$styles2;\n  return apiObject({\n    type: 'text',\n    content: content\n  }, function () {\n    ensureCss();\n    return makeLayersTextAbstract({\n      content: content,\n      transform: _objectSpread({}, meaninglessTransform, transform),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [\"\".concat(config.familyPrefix, \"-layers-text\")].concat(_toConsumableArray(classes))\n      }\n    });\n  });\n};\nvar counter = function counter(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$title3 = params.title,\n      title = _params$title3 === void 0 ? null : _params$title3,\n      _params$classes3 = params.classes,\n      classes = _params$classes3 === void 0 ? [] : _params$classes3,\n      _params$attributes3 = params.attributes,\n      attributes = _params$attributes3 === void 0 ? {} : _params$attributes3,\n      _params$styles3 = params.styles,\n      styles = _params$styles3 === void 0 ? {} : _params$styles3;\n  return apiObject({\n    type: 'counter',\n    content: content\n  }, function () {\n    ensureCss();\n    return makeLayersCounterAbstract({\n      content: content.toString(),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [\"\".concat(config.familyPrefix, \"-layers-counter\")].concat(_toConsumableArray(classes))\n      }\n    });\n  });\n};\nvar layer = function layer(assembler) {\n  return apiObject({\n    type: 'layer'\n  }, function () {\n    ensureCss();\n    var children = [];\n    assembler(function (args) {\n      Array.isArray(args) ? args.map(function (a) {\n        children = children.concat(a.abstract);\n      }) : children = children.concat(args.abstract);\n    });\n    return [{\n      tag: 'span',\n      attributes: {\n        class: \"\".concat(config.familyPrefix, \"-layers\")\n      },\n      children: children\n    }];\n  });\n};\nvar api = {\n  noAuto: noAuto,\n  config: config,\n  dom: dom,\n  library: library,\n  parse: parse,\n  findIconDefinition: findIconDefinition,\n  icon: icon,\n  text: text,\n  counter: counter,\n  layer: layer,\n  toHtml: toHtml\n};\n\nvar autoReplace = function autoReplace() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _params$autoReplaceSv = params.autoReplaceSvgRoot,\n      autoReplaceSvgRoot = _params$autoReplaceSv === void 0 ? DOCUMENT : _params$autoReplaceSv;\n  if (Object.keys(namespace.styles).length > 0 && IS_DOM && config.autoReplaceSvg) api.dom.i2svg({\n    node: autoReplaceSvgRoot\n  });\n};\n\nexport { icon, noAuto, config, toHtml, layer, text, counter, library, dom, parse, findIconDefinition };\n","import { parse, icon, config, text } from '@fortawesome/fontawesome-svg-core';\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar humps = createCommonjsModule(function (module) {\n(function(global) {\n\n  var _processKeys = function(convert, obj, options) {\n    if(!_isObject(obj) || _isDate(obj) || _isRegExp(obj) || _isBoolean(obj) || _isFunction(obj)) {\n      return obj;\n    }\n\n    var output,\n        i = 0,\n        l = 0;\n\n    if(_isArray(obj)) {\n      output = [];\n      for(l=obj.length; i<l; i++) {\n        output.push(_processKeys(convert, obj[i], options));\n      }\n    }\n    else {\n      output = {};\n      for(var key in obj) {\n        if(Object.prototype.hasOwnProperty.call(obj, key)) {\n          output[convert(key, options)] = _processKeys(convert, obj[key], options);\n        }\n      }\n    }\n    return output;\n  };\n\n  // String conversion methods\n\n  var separateWords = function(string, options) {\n    options = options || {};\n    var separator = options.separator || '_';\n    var split = options.split || /(?=[A-Z])/;\n\n    return string.split(split).join(separator);\n  };\n\n  var camelize = function(string) {\n    if (_isNumerical(string)) {\n      return string;\n    }\n    string = string.replace(/[\\-_\\s]+(.)?/g, function(match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n    // Ensure 1st char is always lowercase\n    return string.substr(0, 1).toLowerCase() + string.substr(1);\n  };\n\n  var pascalize = function(string) {\n    var camelized = camelize(string);\n    // Ensure 1st char is always uppercase\n    return camelized.substr(0, 1).toUpperCase() + camelized.substr(1);\n  };\n\n  var decamelize = function(string, options) {\n    return separateWords(string, options).toLowerCase();\n  };\n\n  // Utilities\n  // Taken from Underscore.js\n\n  var toString = Object.prototype.toString;\n\n  var _isFunction = function(obj) {\n    return typeof(obj) === 'function';\n  };\n  var _isObject = function(obj) {\n    return obj === Object(obj);\n  };\n  var _isArray = function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n  var _isDate = function(obj) {\n    return toString.call(obj) == '[object Date]';\n  };\n  var _isRegExp = function(obj) {\n    return toString.call(obj) == '[object RegExp]';\n  };\n  var _isBoolean = function(obj) {\n    return toString.call(obj) == '[object Boolean]';\n  };\n\n  // Performant way to determine if obj coerces to a number\n  var _isNumerical = function(obj) {\n    obj = obj - 0;\n    return obj === obj;\n  };\n\n  // Sets up function which handles processing keys\n  // allowing the convert function to be modified by a callback\n  var _processor = function(convert, options) {\n    var callback = options && 'process' in options ? options.process : options;\n\n    if(typeof(callback) !== 'function') {\n      return convert;\n    }\n\n    return function(string, options) {\n      return callback(string, convert, options);\n    }\n  };\n\n  var humps = {\n    camelize: camelize,\n    decamelize: decamelize,\n    pascalize: pascalize,\n    depascalize: decamelize,\n    camelizeKeys: function(object, options) {\n      return _processKeys(_processor(camelize, options), object);\n    },\n    decamelizeKeys: function(object, options) {\n      return _processKeys(_processor(decamelize, options), object, options);\n    },\n    pascalizeKeys: function(object, options) {\n      return _processKeys(_processor(pascalize, options), object);\n    },\n    depascalizeKeys: function () {\n      return this.decamelizeKeys.apply(this, arguments);\n    }\n  };\n\n  if (typeof undefined === 'function' && undefined.amd) {\n    undefined(humps);\n  } else if ('object' !== 'undefined' && module.exports) {\n    module.exports = humps;\n  } else {\n    global.humps = humps;\n  }\n\n})(commonjsGlobal);\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction styleToObject(style) {\n  return style.split(';').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s;\n  }).reduce(function (acc, pair) {\n    var i = pair.indexOf(':');\n    var prop = humps.camelize(pair.slice(0, i));\n    var value = pair.slice(i + 1).trim();\n\n    acc[prop] = value;\n\n    return acc;\n  }, {});\n}\n\nfunction classToObject(cls) {\n  return cls.split(/\\s+/).reduce(function (acc, c) {\n    acc[c] = true;\n\n    return acc;\n  }, {});\n}\n\nfunction combineClassObjects() {\n  for (var _len = arguments.length, objs = Array(_len), _key = 0; _key < _len; _key++) {\n    objs[_key] = arguments[_key];\n  }\n\n  return objs.reduce(function (acc, obj) {\n    if (Array.isArray(obj)) {\n      acc = acc.concat(obj);\n    } else {\n      acc.push(obj);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction convert(h, element) {\n  var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var children = (element.children || []).map(convert.bind(null, h));\n\n  var mixins = Object.keys(element.attributes || {}).reduce(function (acc, key) {\n    var val = element.attributes[key];\n\n    switch (key) {\n      case 'class':\n        acc['class'] = classToObject(val);\n        break;\n      case 'style':\n        acc['style'] = styleToObject(val);\n        break;\n      default:\n        acc.attrs[key] = val;\n    }\n\n    return acc;\n  }, { 'class': {}, style: {}, attrs: {} });\n\n  var _data$class = data.class,\n      dClass = _data$class === undefined ? {} : _data$class,\n      _data$style = data.style,\n      dStyle = _data$style === undefined ? {} : _data$style,\n      _data$attrs = data.attrs,\n      dAttrs = _data$attrs === undefined ? {} : _data$attrs,\n      remainingData = objectWithoutProperties(data, ['class', 'style', 'attrs']);\n\n\n  if (typeof element === 'string') {\n    return element;\n  } else {\n    return h(element.tag, _extends({\n      class: combineClassObjects(mixins.class, dClass),\n      style: _extends({}, mixins.style, dStyle),\n      attrs: _extends({}, mixins.attrs, dAttrs)\n    }, remainingData, {\n      props: props\n    }), children);\n  }\n}\n\nvar PRODUCTION = false;\n\ntry {\n  PRODUCTION = process.env.NODE_ENV === 'production';\n} catch (e) {}\n\nfunction log () {\n  if (!PRODUCTION && console && typeof console.error === 'function') {\n    var _console;\n\n    (_console = console).error.apply(_console, arguments);\n  }\n}\n\nfunction objectWithKey(key, value) {\n  return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? defineProperty({}, key, value) : {};\n}\n\nfunction classList(props) {\n  var _classes;\n\n  var classes = (_classes = {\n    'fa-spin': props.spin,\n    'fa-pulse': props.pulse,\n    'fa-fw': props.fixedWidth,\n    'fa-border': props.border,\n    'fa-li': props.listItem,\n    'fa-flip-horizontal': props.flip === 'horizontal' || props.flip === 'both',\n    'fa-flip-vertical': props.flip === 'vertical' || props.flip === 'both'\n  }, defineProperty(_classes, 'fa-' + props.size, props.size !== null), defineProperty(_classes, 'fa-rotate-' + props.rotation, props.rotation !== null), defineProperty(_classes, 'fa-pull-' + props.pull, props.pull !== null), _classes);\n\n  return Object.keys(classes).map(function (key) {\n    return classes[key] ? key : null;\n  }).filter(function (key) {\n    return key;\n  });\n}\n\nfunction addStaticClass(to, what) {\n  var val = (to || '').length === 0 ? [] : [to];\n\n  return val.concat(what).join(' ');\n}\n\nfunction normalizeIconArgs(icon$$1) {\n  if (icon$$1 === null) {\n    return null;\n  }\n\n  if ((typeof icon$$1 === 'undefined' ? 'undefined' : _typeof(icon$$1)) === 'object' && icon$$1.prefix && icon$$1.iconName) {\n    return icon$$1;\n  }\n\n  if (Array.isArray(icon$$1) && icon$$1.length === 2) {\n    return { prefix: icon$$1[0], iconName: icon$$1[1] };\n  }\n\n  if (typeof icon$$1 === 'string') {\n    return { prefix: 'fas', iconName: icon$$1 };\n  }\n}\n\nvar FontAwesomeIcon = {\n  name: 'FontAwesomeIcon',\n\n  functional: true,\n\n  props: {\n    border: {\n      type: Boolean,\n      default: false\n    },\n    fixedWidth: {\n      type: Boolean,\n      default: false\n    },\n    flip: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['horizontal', 'vertical', 'both'].indexOf(value) > -1;\n      }\n    },\n    icon: {\n      type: [Object, Array, String],\n      required: true\n    },\n    mask: {\n      type: [Object, Array, String],\n      default: null\n    },\n    listItem: {\n      type: Boolean,\n      default: false\n    },\n    pull: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['right', 'left'].indexOf(value) > -1;\n      }\n    },\n    pulse: {\n      type: Boolean,\n      default: false\n    },\n    rotation: {\n      type: Number,\n      default: null,\n      validator: function validator(value) {\n        return [90, 180, 270].indexOf(value) > -1;\n      }\n    },\n    size: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['lg', 'xs', 'sm', '1x', '2x', '3x', '4x', '5x', '6x', '7x', '8x', '9x', '10x'].indexOf(value) > -1;\n      }\n    },\n    spin: {\n      type: Boolean,\n      default: false\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    },\n    symbol: {\n      type: [Boolean, String],\n      default: false\n    },\n    title: {\n      type: String,\n      default: null\n    }\n  },\n\n  render: function render(createElement, context) {\n    var props = context.props;\n    var iconArgs = props.icon,\n        maskArgs = props.mask,\n        symbol = props.symbol,\n        title = props.title;\n\n    var icon$$1 = normalizeIconArgs(iconArgs);\n    var classes = objectWithKey('classes', classList(props));\n    var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n    var mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n\n    var renderedIcon = icon(icon$$1, _extends({}, classes, transform, mask, { symbol: symbol, title: title }));\n\n    if (!renderedIcon) {\n      return log('Could not find one or more icon(s)', icon$$1, mask);\n    }\n\n    var abstract = renderedIcon.abstract;\n\n    var convertCurry = convert.bind(null, createElement);\n\n    return convertCurry(abstract[0], {}, context.data);\n  }\n};\n\nvar FontAwesomeLayers = {\n  name: 'FontAwesomeLayers',\n\n  functional: true,\n\n  props: {\n    fixedWidth: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  render: function render(createElement, context) {\n    var familyPrefix = config.familyPrefix;\n    var staticClass = context.data.staticClass;\n\n\n    var classes = [familyPrefix + '-layers'].concat(toConsumableArray(context.props.fixedWidth ? [familyPrefix + '-fw'] : []));\n\n    return createElement('div', _extends({}, context.data, {\n      staticClass: addStaticClass(staticClass, classes)\n    }), context.children);\n  }\n};\n\nvar FontAwesomeLayersText = {\n  name: 'FontAwesomeLayersText',\n\n  functional: true,\n\n  props: {\n    value: {\n      type: [String, Number],\n      default: ''\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    }\n  },\n\n  render: function render(createElement, context) {\n    var props = context.props;\n\n    var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n\n    var renderedText = text(props.value.toString(), _extends({}, transform));\n\n    var abstract = renderedText.abstract;\n\n\n    var convertCurry = convert.bind(null, createElement);\n\n    return convertCurry(abstract[0], {}, context.data);\n  }\n};\n\nexport { FontAwesomeIcon, FontAwesomeLayers, FontAwesomeLayersText };\n","function duration(el) {\n    const duration = getComputedStyle(el).transitionDuration;\n    const numeric = parseFloat(duration, 10) || 0;\n    const unit = duration.match(/m?s/);\n\n    switch (unit[0]) {\n    case 's':\n        return numeric * 1000;\n    case 'ms':\n        return numeric;\n    }\n}\n\nexport default function transition(el) {\n    return new Promise((resolve, reject) => {\n        try {\n            const delay = duration(el);\n\n            setTimeout(() => {\n                resolve(delay);\n            }, delay);\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\n","import { isObject, isString } from '../Functions';\n\nexport default function instantiate(Vue, Component, options) {\n    if(Component instanceof Vue) {\n        return Component;\n    }\n\n    if(isObject(Component)) {\n        Component = Vue.extend(Component);\n    }\n    else if(isString(Component)) {\n        Component = Vue.extend({\n            functional: true,\n            render(h, context) {\n                return this._v(Component);\n            }\n        });\n    }\n\n    return new Component(options);\n}\n","import Modal from '../../Components/Modal';\nimport instantiate from '../../Helpers/Instantiate';\nimport { each, isObject, isFunction, deepExtend } from '../../Helpers/Functions';\n\nexport default function(Vue, options) {\n    Vue.prototype.$modal = function(Component, options) {\n        if(!isObject(options)) {\n            options = {};\n        }\n\n        console.log(options.modal);\n\n        const instance = instantiate(Vue, Modal, options.modal);\n\n        instance.$content = instantiate(Vue, Component, options.content);\n        instance.$slots.default = [instance.$content.$mount()._vnode];\n        instance.$mount(\n            document.body.appendChild(document.createElement('div'))\n        );\n\n        if(options.content && options.content.on) {\n            each(options.content.on, (fn, key) => {\n                instance.$content.$on(key, fn);\n            });\n        }\n\n        return instance;\n    };\n\n    Vue.prototype.$alert = function(title, Component, options) {\n        return new Promise((resolve, reject) => {\n            const modal = this.$modal(Component, deepExtend({\n                modal: {\n                    propsData: {\n                        title: title,\n                        type: 'alert'\n                    }\n                }\n            }, options));\n\n            modal.$on('confirm', event => {\n                modal.close();\n            });\n\n            modal.$on('close', event => {\n                resolve(modal);\n            });\n        });\n    };\n\n    Vue.prototype.$confirm = function(title, Component, options) {\n        return new Promise((resolve, reject) => {\n            const modal = this.$modal(Component || title, deepExtend({\n                modal: {\n                    propsData: {\n                        title: Component ? title : null,\n                        type: 'confirm'\n                    }\n                }\n            }, options));\n\n            modal.$on('cancel', event => {\n                reject(modal);\n            });\n\n            modal.$on('confirm', event => {\n                resolve(modal.close());\n            });\n        });\n    };\n\n    Vue.prototype.$prompt = function(title, Component, options, predicate) {\n        return new Promise((resolve, reject) => {\n            if(isFunction(options)) {\n                predicate = options;\n                options = {};\n            }\n            else if(isObject(options) && isFunction(options.predicate)) {\n                predicate = options.predicate;\n            }\n            else if(!isFunction(predicate)) {\n                predicate = () => true;\n            }\n\n            const modal = this.$modal(Component, deepExtend({\n                modal: {\n                    propsData: {\n                        title: title,\n                        type: 'prompt'\n                    }\n                }\n            }, options));\n\n            modal.$on('cancel', event => {\n                reject(modal);\n            });\n\n            modal.$on('confirm', event => {\n                const succeed = () => resolve(modal.close());\n                const fail = () => reject(modal.close());\n\n                if(predicate(modal, succeed, fail) === true) {\n                    succeed();\n                }\n            });\n        });\n    };\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {this.id = null;};\n  Delayed.prototype.set = function (ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    input.init(d);\n  }\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range$$1;\n    try {range$$1 = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range$$1 || range$$1.parentElement() != te) { return false }\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n      var this$1 = this;\n\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n      var this$1 = this;\n\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this$1.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map$$1[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = true; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top || y >= coords.bottom;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[cm.options.gutters[i]] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range$$1 = doc.sel.ranges[i];\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range$$1.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range$$1.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range$$1, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range$$1.from(), sTo = range$$1.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (height < 2) { height = textHeight(display); }\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm);\n      return true\n    }\n    return false\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this$1.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(cm) {\n    var width = cm.display.gutters.offsetWidth;\n    cm.display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function updateGutters(cm) {\n    var gutters = cm.display.gutters, specs = cm.options.gutters;\n    removeChildren(gutters);\n    var i = 0;\n    for (; i < specs.length; ++i) {\n      var gutterClass = specs[i];\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n      if (gutterClass == \"CodeMirror-linenumbers\") {\n        cm.display.lineGutter = gElt;\n        gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = i ? \"\" : \"none\";\n    updateGutterSpace(cm);\n  }\n\n  // Make sure the gutters options contains the element\n  // \"CodeMirror-linenumbers\" when the lineNumbers option is true.\n  function setGuttersForLineNumbers(options) {\n    var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n    if (found == -1 && options.lineNumbers) {\n      options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n    } else if (found > -1 && !options.lineNumbers) {\n      options.gutters = options.gutters.slice(0);\n      options.gutters.splice(found, 1);\n    }\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n      var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n      var this$1 = this;\n\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n      var this$1 = this;\n\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        var this$1 = this;\n\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n      if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at)\n        { if (op(this$1.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this$1;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n          if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    var this$1 = this;\n\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this$1[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n      var this$1 = this;\n\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n      var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    var this$1 = this;\n\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this$1; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this$1.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range$$1 = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range$$1.head; }\n      else if (start == \"anchor\") { pos = range$$1.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n      else { pos = range$$1.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                           clipPos(this$1, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var this$1 = this;\n\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var this$1 = this;\n\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var this$1 = this;\n\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this$1, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n                span.from == null && lineNo$$1 != from.line ||\n                span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo$$1;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return clipPos(this, Pos(lineNo$$1, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this$1.linked[i];\n        if (link.doc != other) { continue }\n        this$1.linked.splice(i, 1);\n        other.unlinkDoc(this$1);\n        detachSharedMarkers(findSharedMarkers(this$1));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map$$1.fallthrough, handle, context) }\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n      else\n        { ourRange = range$$1; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      e_preventDefault(e);\n      display.input.focus();\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n    var order = getOrder(anchorLine);\n    if (!order) { return range$$1 }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.options.gutters.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.options.gutters[i];\n        signal(cm, type, cm, line, gutter, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      guttersChanged(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm) {\n      setGuttersForLineNumbers(cm.options);\n      guttersChanged(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm) {\n      setGuttersForLineNumbers(cm.options);\n      guttersChanged(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, guttersChanged, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function guttersChanged(cm) {\n    updateGutters(cm);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n    setGuttersForLineNumbers(options);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input);\n    display.wrapper.CodeMirror = this;\n    updateGutters(this);\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this$1, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var paste = cm.state.pasteIncoming || origin == \"paste\";\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(), to = range$$1.to();\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = false;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n      if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n          { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", !!autocorrect);\n    field.setAttribute(\"autocapitalize\", !!autocapitalize);\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function(map$$1) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var this$1 = this;\n\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var this$1 = this;\n\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n          if (!range$$1.empty()) {\n            var from = range$$1.from(), to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this$1, j, how); }\n            var newRanges = this$1.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n            if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var this$1 = this;\n\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range$$1 = this.doc.sel.primary();\n        if (start == null) { pos = range$$1.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range$$1.from() : range$$1.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var this$1 = this;\n\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this$1.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n            { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range$$1) {\n            var other = findPosH(doc, range$$1.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var this$1 = this;\n\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this$1, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this$1, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse)\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n          var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n          if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range$$1 == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {from: Pos(range$$1, 0), to: null};\n        } else if (range$$1.from == null) {\n          range$$1 = {from: range$$1, to: null};\n        }\n        if (!range$$1.to) { range$$1.to = range$$1.from; }\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range$$1 = found[0].find(0)))\n            { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = true;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = true; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      cm.state.pasteIncoming = true;\n      input.focus();\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.43.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","import axios from 'axios';\nimport { isArray } from 'vue-interface/src/Helpers/Functions';\n\nconst GUTTER_ID = 'CodeMirror-lint-errors';\n\nexport default class LintState {\n    constructor(cm, options) {\n        if(typeof options !== 'object') {\n            throw new Error('The options must be a JSON object.');\n        }\n\n        this.cm = cm;\n        this.errors = [];\n        this.options = options;\n    }\n\n    value(key, ...args) {\n        const subject = this.option(key);\n\n        return typeof subject === 'function' ? subject(this.cm, ...args) : subject;\n    }\n\n    option(key, defaultValue) {\n        return this.getOption(key, defaultValue);\n    }\n\n    callback(key, ...args) {\n        const fn = this.option(key);\n\n        if(typeof fn === 'function') {\n            return fn(...args);\n        }\n    }\n\n    setOption(key, value) {\n        this.options[key] = value;\n    }\n\n    getOption(key, defaultValue) {\n        const value = this.options[key];\n\n        return value === undefined ? defaultValue : value;\n    }\n\n    request(data, options) {\n        this.callback('onStart');\n\n        return new Promise((resolve, reject) => {\n            axios.post(\n                this.value('url'),\n                (data || this.value('data')),\n                (options || this.value('options') || this.options)\n            ).then(response => {\n                this.errors = [];\n                this.response = response = this.option('transformResponse')\n                    ? this.callback('transformResponse', response) : response.data;\n\n                resolve(response);\n\n                this.callback('onSuccess', response);\n                this.callback('onComplete', true, response);\n            }, error => {\n                this.response = null;\n                const errors = this.option('transformResponseError')\n                    ? this.callback('transformResponseError', error)\n                    : (error.response.data.errors || error.response.data);\n\n                if(isArray(errors)) {\n                    this.errors = errors;\n                }\n\n                reject(error);\n\n                this.callback('onError', error);\n                this.callback('onComplete', false, error);\n            });\n        });\n    }\n\n    findNearbyErrors(position) {\n        function check(value) {\n            return value && (\n                value.from.line <= position.line &&\n                value.to.line >= position.line\n            ) && (\n                value.from.ch <= position.ch &&\n                value.to.ch >= position.ch\n            );\n        }\n\n        return this.errors.filter(error => {\n            return error.match && (check(error.match.open) || check(error.match.close));\n        });\n    }\n\n    get id() {\n        return this.constructor.id;\n    }\n\n    get cm() {\n        return this.$cm;\n    }\n\n    set cm(value) {\n        this.$cm = value;\n    }\n\n    get options() {\n        return this.$options;\n    }\n\n    set options(value) {\n        this.$options = value;\n    }\n\n    get response() {\n        return this.$response;\n    }\n\n    set response(value) {\n        this.$response = value;\n    }\n\n    get errors() {\n        return this.$errors;\n    }\n\n    set errors(value) {\n        this.$errors = value;\n    }\n\n    get hasGutter() {\n        const gutters = this.cm.getOption('gutters');\n\n        for(var i = 0; i < gutters.length; ++i) {\n            if(gutters[i] === GUTTER_ID) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    static get id() {\n        return GUTTER_ID;\n    }\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'bug';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f188';\nvar svgPathData = 'M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faBug = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\" || value == \"in\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetype, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(isTS ? classfield : functiondef, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/.test(stream.current().toLowerCase())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"caret-color\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"will-change\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function() {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(), range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other)\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\n      else\n        cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function(cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      cm.execCommand(\"goCharLeft\");\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        cm.execCommand(\"goCharRight\");\n      } else if (type == \"skipThree\") {\n        for (var i = 0; i < 3; i++)\n          cm.execCommand(\"goCharRight\");\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        cm.execCommand(\"goCharLeft\");\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        cm.execCommand(\"goCharRight\");\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options) {\n    var widget = getOption(cm, options, \"widget\");\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"change\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"change\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold && marks[i].find().from.line == line) return marks[i];\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    cm.eachLine(from, to, function(line) {\n      var mark = null;\n      if (isFolded(cm, cur)) {\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize)\n          mark = marker(opts.indicatorOpen);\n      }\n      cm.setGutterMarker(line, opts.gutter, mark);\n      ++cur;\n    });\n  }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts.rangeFinder);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"brace\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n  var tokenType;\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0;;) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n\n  var startToken = \"{\", endToken = \"}\", startCh = findOpening(\"{\");\n  if (startCh == null) {\n    startToken = \"[\", endToken = \"]\";\n    startCh = findOpening(\"[\");\n  }\n\n  if (startCh == null) return;\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == tokenType) {\n        if (pos == nextOpen) ++count;\n        else if (!--count) { end = i; endCh = pos; break outer; }\n      }\n      ++pos;\n    }\n  }\n  if (end == null || line == end) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction lineIndent(cm, lineNo) {\n  var text = cm.getLine(lineNo)\n  var spaceTo = text.search(/\\S/)\n  if (spaceTo == -1 || /\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo, spaceTo + 1))))\n    return -1\n  return CodeMirror.countColumn(text, null, cm.getOption(\"tabSize\"))\n}\n\nCodeMirror.registerHelper(\"fold\", \"indent\", function(cm, start) {\n  var myIndent = lineIndent(cm, start.line)\n  if (myIndent < 0) return\n  var lastLineInFold = null\n\n  // Go through lines until we find a line that definitely doesn't belong in\n  // the block we're folding, or to the end.\n  for (var i = start.line + 1, end = cm.lastLine(); i <= end; ++i) {\n    var indent = lineIndent(cm, i)\n    if (indent == -1) {\n    } else if (indent > myIndent) {\n      // Lines with a greater indent are considered part of the block.\n      lastLineInFold = i;\n    } else {\n      // If this line has non-space, non-comment content, and is\n      // indented less or equal to the start line, it is the start of\n      // another block.\n      break;\n    }\n  }\n  if (lastLineInFold) return {\n    from: CodeMirror.Pos(start.line, cm.getLine(start.line).length),\n    to: CodeMirror.Pos(lastLineInFold, cm.getLine(lastLineInFold).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"markdown\", function(cm, start) {\n  var maxDepth = 100;\n\n  function isHeader(lineNo) {\n    var tokentype = cm.getTokenTypeAt(CodeMirror.Pos(lineNo, 0));\n    return tokentype && /\\bheader\\b/.test(tokentype);\n  }\n\n  function headerLevel(lineNo, line, nextLine) {\n    var match = line && line.match(/^#+/);\n    if (match && isHeader(lineNo)) return match[0].length;\n    match = nextLine && nextLine.match(/^[=\\-]+\\s*$/);\n    if (match && isHeader(lineNo + 1)) return nextLine[0] == \"=\" ? 1 : 2;\n    return maxDepth;\n  }\n\n  var firstLine = cm.getLine(start.line), nextLine = cm.getLine(start.line + 1);\n  var level = headerLevel(start.line, firstLine, nextLine);\n  if (level === maxDepth) return undefined;\n\n  var lastLineNo = cm.lastLine();\n  var end = start.line, nextNextLine = cm.getLine(end + 2);\n  while (end < lastLineNo) {\n    if (headerLevel(end + 1, nextLine, nextNextLine) <= level) break;\n    ++end;\n    nextLine = nextNextLine;\n    nextNextLine = cm.getLine(end + 2);\n  }\n\n  return {\n    from: CodeMirror.Pos(start.line, firstLine.length),\n    to: CodeMirror.Pos(end, cm.getLine(end).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerGlobalHelper(\"fold\", \"comment\", function(mode) {\n  return mode.blockCommentStart && mode.blockCommentEnd;\n}, function(cm, start) {\n  var mode = cm.getModeAt(start), startToken = mode.blockCommentStart, endToken = mode.blockCommentEnd;\n  if (!startToken || !endToken) return;\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh;\n  for (var at = start.ch, pass = 0;;) {\n    var found = at <= 0 ? -1 : lineText.lastIndexOf(startToken, at - 1);\n    if (found == -1) {\n      if (pass == 1) return;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < start.ch) return;\n    if (/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1))) &&\n        (found == 0 || lineText.slice(found - endToken.length, found) == endToken ||\n         !/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found))))) {\n      startCh = found + startToken.length;\n      break;\n    }\n    at = found - 1;\n  }\n\n  var depth = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (pos == nextOpen) ++depth;\n      else if (!--depth) { end = i; endCh = pos; break outer; }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\nvar mac = /Mac/.test(navigator.platform);\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    hints.style.left = left + \"px\";\n    hints.style.top = top + \"px\";\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    (completion.options.container || ownerDocument.body).appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function getHints(cm, options) {\n    var tags = options && options.schemaInfo;\n    var quote = (options && options.quoteChar) || '\"';\n    if (!tags) return;\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n    var inner = CodeMirror.innerMode(cm.getMode(), token.state);\n    if (inner.mode.name != \"xml\") return;\n    var result = [], replaceToken = false, prefix;\n    var tag = /\\btag\\b/.test(token.type) && !/>$/.test(token.string);\n    var tagName = tag && /^\\w/.test(token.string), tagStart;\n\n    if (tagName) {\n      var before = cm.getLine(cur.line).slice(Math.max(0, token.start - 2), token.start);\n      var tagType = /<\\/$/.test(before) ? \"close\" : /<$/.test(before) ? \"open\" : null;\n      if (tagType) tagStart = token.start - (tagType == \"close\" ? 2 : 1);\n    } else if (tag && token.string == \"<\") {\n      tagType = \"open\";\n    } else if (tag && token.string == \"</\") {\n      tagType = \"close\";\n    }\n\n    if (!tag && !inner.state.tagName || tagType) {\n      if (tagName)\n        prefix = token.string;\n      replaceToken = tagType;\n      var cx = inner.state.context, curTag = cx && tags[cx.tagName];\n      var childList = cx ? curTag && curTag.children : tags[\"!top\"];\n      if (childList && tagType != \"close\") {\n        for (var i = 0; i < childList.length; ++i) if (!prefix || childList[i].lastIndexOf(prefix, 0) == 0)\n          result.push(\"<\" + childList[i]);\n      } else if (tagType != \"close\") {\n        for (var name in tags)\n          if (tags.hasOwnProperty(name) && name != \"!top\" && name != \"!attrs\" && (!prefix || name.lastIndexOf(prefix, 0) == 0))\n            result.push(\"<\" + name);\n      }\n      if (cx && (!prefix || tagType == \"close\" && cx.tagName.lastIndexOf(prefix, 0) == 0))\n        result.push(\"</\" + cx.tagName + \">\");\n    } else {\n      // Attribute completion\n      var curTag = tags[inner.state.tagName], attrs = curTag && curTag.attrs;\n      var globalAttrs = tags[\"!attrs\"];\n      if (!attrs && !globalAttrs) return;\n      if (!attrs) {\n        attrs = globalAttrs;\n      } else if (globalAttrs) { // Combine tag-local and global attributes\n        var set = {};\n        for (var nm in globalAttrs) if (globalAttrs.hasOwnProperty(nm)) set[nm] = globalAttrs[nm];\n        for (var nm in attrs) if (attrs.hasOwnProperty(nm)) set[nm] = attrs[nm];\n        attrs = set;\n      }\n      if (token.type == \"string\" || token.string == \"=\") { // A value\n        var before = cm.getRange(Pos(cur.line, Math.max(0, cur.ch - 60)),\n                                 Pos(cur.line, token.type == \"string\" ? token.start : token.end));\n        var atName = before.match(/([^\\s\\u00a0=<>\\\"\\']+)=$/), atValues;\n        if (!atName || !attrs.hasOwnProperty(atName[1]) || !(atValues = attrs[atName[1]])) return;\n        if (typeof atValues == 'function') atValues = atValues.call(this, cm); // Functions can be used to supply values for autocomplete widget\n        if (token.type == \"string\") {\n          prefix = token.string;\n          var n = 0;\n          if (/['\"]/.test(token.string.charAt(0))) {\n            quote = token.string.charAt(0);\n            prefix = token.string.slice(1);\n            n++;\n          }\n          var len = token.string.length;\n          if (/['\"]/.test(token.string.charAt(len - 1))) {\n            quote = token.string.charAt(len - 1);\n            prefix = token.string.substr(n, len - 2);\n          }\n          replaceToken = true;\n        }\n        for (var i = 0; i < atValues.length; ++i) if (!prefix || atValues[i].lastIndexOf(prefix, 0) == 0)\n          result.push(quote + atValues[i] + quote);\n      } else { // An attribute name\n        if (token.type == \"attribute\") {\n          prefix = token.string;\n          replaceToken = true;\n        }\n        for (var attr in attrs) if (attrs.hasOwnProperty(attr) && (!prefix || attr.lastIndexOf(prefix, 0) == 0))\n          result.push(attr);\n      }\n    }\n    return {\n      list: result,\n      from: replaceToken ? Pos(cur.line, tagStart == null ? token.start : tagStart) : cur,\n      to: replaceToken ? Pos(cur.line, token.end) : cur\n    };\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"xml\", getHints);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./xml-hint\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./xml-hint\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var langs = \"ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu\".split(\" \");\n  var targets = [\"_blank\", \"_self\", \"_top\", \"_parent\"];\n  var charsets = [\"ascii\", \"utf-8\", \"utf-16\", \"latin1\", \"latin1\"];\n  var methods = [\"get\", \"post\", \"put\", \"delete\"];\n  var encs = [\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"];\n  var media = [\"all\", \"screen\", \"print\", \"embossed\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\", \"tty\", \"tv\", \"speech\",\n               \"3d-glasses\", \"resolution [>][<][=] [X]\", \"device-aspect-ratio: X/Y\", \"orientation:portrait\",\n               \"orientation:landscape\", \"device-height: [X]\", \"device-width: [X]\"];\n  var s = { attrs: {} }; // Simple tag, reused for a whole lot of tags\n\n  var data = {\n    a: {\n      attrs: {\n        href: null, ping: null, type: null,\n        media: media,\n        target: targets,\n        hreflang: langs\n      }\n    },\n    abbr: s,\n    acronym: s,\n    address: s,\n    applet: s,\n    area: {\n      attrs: {\n        alt: null, coords: null, href: null, target: null, ping: null,\n        media: media, hreflang: langs, type: null,\n        shape: [\"default\", \"rect\", \"circle\", \"poly\"]\n      }\n    },\n    article: s,\n    aside: s,\n    audio: {\n      attrs: {\n        src: null, mediagroup: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"],\n        preload: [\"none\", \"metadata\", \"auto\"],\n        autoplay: [\"\", \"autoplay\"],\n        loop: [\"\", \"loop\"],\n        controls: [\"\", \"controls\"]\n      }\n    },\n    b: s,\n    base: { attrs: { href: null, target: targets } },\n    basefont: s,\n    bdi: s,\n    bdo: s,\n    big: s,\n    blockquote: { attrs: { cite: null } },\n    body: s,\n    br: s,\n    button: {\n      attrs: {\n        form: null, formaction: null, name: null, value: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"autofocus\"],\n        formenctype: encs,\n        formmethod: methods,\n        formnovalidate: [\"\", \"novalidate\"],\n        formtarget: targets,\n        type: [\"submit\", \"reset\", \"button\"]\n      }\n    },\n    canvas: { attrs: { width: null, height: null } },\n    caption: s,\n    center: s,\n    cite: s,\n    code: s,\n    col: { attrs: { span: null } },\n    colgroup: { attrs: { span: null } },\n    command: {\n      attrs: {\n        type: [\"command\", \"checkbox\", \"radio\"],\n        label: null, icon: null, radiogroup: null, command: null, title: null,\n        disabled: [\"\", \"disabled\"],\n        checked: [\"\", \"checked\"]\n      }\n    },\n    data: { attrs: { value: null } },\n    datagrid: { attrs: { disabled: [\"\", \"disabled\"], multiple: [\"\", \"multiple\"] } },\n    datalist: { attrs: { data: null } },\n    dd: s,\n    del: { attrs: { cite: null, datetime: null } },\n    details: { attrs: { open: [\"\", \"open\"] } },\n    dfn: s,\n    dir: s,\n    div: s,\n    dl: s,\n    dt: s,\n    em: s,\n    embed: { attrs: { src: null, type: null, width: null, height: null } },\n    eventsource: { attrs: { src: null } },\n    fieldset: { attrs: { disabled: [\"\", \"disabled\"], form: null, name: null } },\n    figcaption: s,\n    figure: s,\n    font: s,\n    footer: s,\n    form: {\n      attrs: {\n        action: null, name: null,\n        \"accept-charset\": charsets,\n        autocomplete: [\"on\", \"off\"],\n        enctype: encs,\n        method: methods,\n        novalidate: [\"\", \"novalidate\"],\n        target: targets\n      }\n    },\n    frame: s,\n    frameset: s,\n    h1: s, h2: s, h3: s, h4: s, h5: s, h6: s,\n    head: {\n      attrs: {},\n      children: [\"title\", \"base\", \"link\", \"style\", \"meta\", \"script\", \"noscript\", \"command\"]\n    },\n    header: s,\n    hgroup: s,\n    hr: s,\n    html: {\n      attrs: { manifest: null },\n      children: [\"head\", \"body\"]\n    },\n    i: s,\n    iframe: {\n      attrs: {\n        src: null, srcdoc: null, name: null, width: null, height: null,\n        sandbox: [\"allow-top-navigation\", \"allow-same-origin\", \"allow-forms\", \"allow-scripts\"],\n        seamless: [\"\", \"seamless\"]\n      }\n    },\n    img: {\n      attrs: {\n        alt: null, src: null, ismap: null, usemap: null, width: null, height: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"]\n      }\n    },\n    input: {\n      attrs: {\n        alt: null, dirname: null, form: null, formaction: null,\n        height: null, list: null, max: null, maxlength: null, min: null,\n        name: null, pattern: null, placeholder: null, size: null, src: null,\n        step: null, value: null, width: null,\n        accept: [\"audio/*\", \"video/*\", \"image/*\"],\n        autocomplete: [\"on\", \"off\"],\n        autofocus: [\"\", \"autofocus\"],\n        checked: [\"\", \"checked\"],\n        disabled: [\"\", \"disabled\"],\n        formenctype: encs,\n        formmethod: methods,\n        formnovalidate: [\"\", \"novalidate\"],\n        formtarget: targets,\n        multiple: [\"\", \"multiple\"],\n        readonly: [\"\", \"readonly\"],\n        required: [\"\", \"required\"],\n        type: [\"hidden\", \"text\", \"search\", \"tel\", \"url\", \"email\", \"password\", \"datetime\", \"date\", \"month\",\n               \"week\", \"time\", \"datetime-local\", \"number\", \"range\", \"color\", \"checkbox\", \"radio\",\n               \"file\", \"submit\", \"image\", \"reset\", \"button\"]\n      }\n    },\n    ins: { attrs: { cite: null, datetime: null } },\n    kbd: s,\n    keygen: {\n      attrs: {\n        challenge: null, form: null, name: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        keytype: [\"RSA\"]\n      }\n    },\n    label: { attrs: { \"for\": null, form: null } },\n    legend: s,\n    li: { attrs: { value: null } },\n    link: {\n      attrs: {\n        href: null, type: null,\n        hreflang: langs,\n        media: media,\n        sizes: [\"all\", \"16x16\", \"16x16 32x32\", \"16x16 32x32 64x64\"]\n      }\n    },\n    map: { attrs: { name: null } },\n    mark: s,\n    menu: { attrs: { label: null, type: [\"list\", \"context\", \"toolbar\"] } },\n    meta: {\n      attrs: {\n        content: null,\n        charset: charsets,\n        name: [\"viewport\", \"application-name\", \"author\", \"description\", \"generator\", \"keywords\"],\n        \"http-equiv\": [\"content-language\", \"content-type\", \"default-style\", \"refresh\"]\n      }\n    },\n    meter: { attrs: { value: null, min: null, low: null, high: null, max: null, optimum: null } },\n    nav: s,\n    noframes: s,\n    noscript: s,\n    object: {\n      attrs: {\n        data: null, type: null, name: null, usemap: null, form: null, width: null, height: null,\n        typemustmatch: [\"\", \"typemustmatch\"]\n      }\n    },\n    ol: { attrs: { reversed: [\"\", \"reversed\"], start: null, type: [\"1\", \"a\", \"A\", \"i\", \"I\"] } },\n    optgroup: { attrs: { disabled: [\"\", \"disabled\"], label: null } },\n    option: { attrs: { disabled: [\"\", \"disabled\"], label: null, selected: [\"\", \"selected\"], value: null } },\n    output: { attrs: { \"for\": null, form: null, name: null } },\n    p: s,\n    param: { attrs: { name: null, value: null } },\n    pre: s,\n    progress: { attrs: { value: null, max: null } },\n    q: { attrs: { cite: null } },\n    rp: s,\n    rt: s,\n    ruby: s,\n    s: s,\n    samp: s,\n    script: {\n      attrs: {\n        type: [\"text/javascript\"],\n        src: null,\n        async: [\"\", \"async\"],\n        defer: [\"\", \"defer\"],\n        charset: charsets\n      }\n    },\n    section: s,\n    select: {\n      attrs: {\n        form: null, name: null, size: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        multiple: [\"\", \"multiple\"]\n      }\n    },\n    small: s,\n    source: { attrs: { src: null, type: null, media: null } },\n    span: s,\n    strike: s,\n    strong: s,\n    style: {\n      attrs: {\n        type: [\"text/css\"],\n        media: media,\n        scoped: null\n      }\n    },\n    sub: s,\n    summary: s,\n    sup: s,\n    table: s,\n    tbody: s,\n    td: { attrs: { colspan: null, rowspan: null, headers: null } },\n    textarea: {\n      attrs: {\n        dirname: null, form: null, maxlength: null, name: null, placeholder: null,\n        rows: null, cols: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        readonly: [\"\", \"readonly\"],\n        required: [\"\", \"required\"],\n        wrap: [\"soft\", \"hard\"]\n      }\n    },\n    tfoot: s,\n    th: { attrs: { colspan: null, rowspan: null, headers: null, scope: [\"row\", \"col\", \"rowgroup\", \"colgroup\"] } },\n    thead: s,\n    time: { attrs: { datetime: null } },\n    title: s,\n    tr: s,\n    track: {\n      attrs: {\n        src: null, label: null, \"default\": null,\n        kind: [\"subtitles\", \"captions\", \"descriptions\", \"chapters\", \"metadata\"],\n        srclang: langs\n      }\n    },\n    tt: s,\n    u: s,\n    ul: s,\n    \"var\": s,\n    video: {\n      attrs: {\n        src: null, poster: null, width: null, height: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"],\n        preload: [\"auto\", \"metadata\", \"none\"],\n        autoplay: [\"\", \"autoplay\"],\n        mediagroup: [\"movie\"],\n        muted: [\"\", \"muted\"],\n        controls: [\"\", \"controls\"]\n      }\n    },\n    wbr: s\n  };\n\n  var globalAttrs = {\n    accesskey: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n    \"class\": null,\n    contenteditable: [\"true\", \"false\"],\n    contextmenu: null,\n    dir: [\"ltr\", \"rtl\", \"auto\"],\n    draggable: [\"true\", \"false\", \"auto\"],\n    dropzone: [\"copy\", \"move\", \"link\", \"string:\", \"file:\"],\n    hidden: [\"hidden\"],\n    id: null,\n    inert: [\"inert\"],\n    itemid: null,\n    itemprop: null,\n    itemref: null,\n    itemscope: [\"itemscope\"],\n    itemtype: null,\n    lang: [\"en\", \"es\"],\n    spellcheck: [\"true\", \"false\"],\n    autocorrect: [\"true\", \"false\"],\n    autocapitalize: [\"true\", \"false\"],\n    style: null,\n    tabindex: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n    title: null,\n    translate: [\"yes\", \"no\"],\n    onclick: null,\n    rel: [\"stylesheet\", \"alternate\", \"author\", \"bookmark\", \"help\", \"license\", \"next\", \"nofollow\", \"noreferrer\", \"prefetch\", \"prev\", \"search\", \"tag\"]\n  };\n  function populate(obj) {\n    for (var attr in globalAttrs) if (globalAttrs.hasOwnProperty(attr))\n      obj.attrs[attr] = globalAttrs[attr];\n  }\n\n  populate(s);\n  for (var tag in data) if (data.hasOwnProperty(tag) && data[tag] != s)\n    populate(data[tag]);\n\n  CodeMirror.htmlSchema = data;\n  function htmlHint(cm, options) {\n    var local = {schemaInfo: data};\n    if (options) for (var opt in options) local[opt] = options[opt];\n    return CodeMirror.hint.xml(cm, local);\n  }\n  CodeMirror.registerHelper(\"hint\", \"html\", htmlHint);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// declare global: diff_match_patch, DIFF_INSERT, DIFF_DELETE, DIFF_EQUAL\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\")); // Note non-packaged dependency diff_match_patch\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"diff_match_patch\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var Pos = CodeMirror.Pos;\n  var svgNS = \"http://www.w3.org/2000/svg\";\n\n  function DiffView(mv, type) {\n    this.mv = mv;\n    this.type = type;\n    this.classes = type == \"left\"\n      ? {chunk: \"CodeMirror-merge-l-chunk\",\n         start: \"CodeMirror-merge-l-chunk-start\",\n         end: \"CodeMirror-merge-l-chunk-end\",\n         insert: \"CodeMirror-merge-l-inserted\",\n         del: \"CodeMirror-merge-l-deleted\",\n         connect: \"CodeMirror-merge-l-connect\"}\n      : {chunk: \"CodeMirror-merge-r-chunk\",\n         start: \"CodeMirror-merge-r-chunk-start\",\n         end: \"CodeMirror-merge-r-chunk-end\",\n         insert: \"CodeMirror-merge-r-inserted\",\n         del: \"CodeMirror-merge-r-deleted\",\n         connect: \"CodeMirror-merge-r-connect\"};\n  }\n\n  DiffView.prototype = {\n    constructor: DiffView,\n    init: function(pane, orig, options) {\n      this.edit = this.mv.edit;\n      ;(this.edit.state.diffViews || (this.edit.state.diffViews = [])).push(this);\n      this.orig = CodeMirror(pane, copyObj({value: orig, readOnly: !this.mv.options.allowEditingOriginals}, copyObj(options)));\n      if (this.mv.options.connect == \"align\") {\n        if (!this.edit.state.trackAlignable) this.edit.state.trackAlignable = new TrackAlignable(this.edit)\n        this.orig.state.trackAlignable = new TrackAlignable(this.orig)\n      }\n      this.lockButton.title = this.edit.phrase(\"Toggle locked scrolling\");\n\n      this.orig.state.diffViews = [this];\n      var classLocation = options.chunkClassLocation || \"background\";\n      if (Object.prototype.toString.call(classLocation) != \"[object Array]\") classLocation = [classLocation]\n      this.classes.classLocation = classLocation\n\n      this.diff = getDiff(asString(orig), asString(options.value), this.mv.options.ignoreWhitespace);\n      this.chunks = getChunks(this.diff);\n      this.diffOutOfDate = this.dealigned = false;\n      this.needsScrollSync = null\n\n      this.showDifferences = options.showDifferences !== false;\n    },\n    registerEvents: function(otherDv) {\n      this.forceUpdate = registerUpdate(this);\n      setScrollLock(this, true, false);\n      registerScroll(this, otherDv);\n    },\n    setShowDifferences: function(val) {\n      val = val !== false;\n      if (val != this.showDifferences) {\n        this.showDifferences = val;\n        this.forceUpdate(\"full\");\n      }\n    }\n  };\n\n  function ensureDiff(dv) {\n    if (dv.diffOutOfDate) {\n      dv.diff = getDiff(dv.orig.getValue(), dv.edit.getValue(), dv.mv.options.ignoreWhitespace);\n      dv.chunks = getChunks(dv.diff);\n      dv.diffOutOfDate = false;\n      CodeMirror.signal(dv.edit, \"updateDiff\", dv.diff);\n    }\n  }\n\n  var updating = false;\n  function registerUpdate(dv) {\n    var edit = {from: 0, to: 0, marked: []};\n    var orig = {from: 0, to: 0, marked: []};\n    var debounceChange, updatingFast = false;\n    function update(mode) {\n      updating = true;\n      updatingFast = false;\n      if (mode == \"full\") {\n        if (dv.svg) clear(dv.svg);\n        if (dv.copyButtons) clear(dv.copyButtons);\n        clearMarks(dv.edit, edit.marked, dv.classes);\n        clearMarks(dv.orig, orig.marked, dv.classes);\n        edit.from = edit.to = orig.from = orig.to = 0;\n      }\n      ensureDiff(dv);\n      if (dv.showDifferences) {\n        updateMarks(dv.edit, dv.diff, edit, DIFF_INSERT, dv.classes);\n        updateMarks(dv.orig, dv.diff, orig, DIFF_DELETE, dv.classes);\n      }\n\n      if (dv.mv.options.connect == \"align\")\n        alignChunks(dv);\n      makeConnections(dv);\n      if (dv.needsScrollSync != null) syncScroll(dv, dv.needsScrollSync)\n\n      updating = false;\n    }\n    function setDealign(fast) {\n      if (updating) return;\n      dv.dealigned = true;\n      set(fast);\n    }\n    function set(fast) {\n      if (updating || updatingFast) return;\n      clearTimeout(debounceChange);\n      if (fast === true) updatingFast = true;\n      debounceChange = setTimeout(update, fast === true ? 20 : 250);\n    }\n    function change(_cm, change) {\n      if (!dv.diffOutOfDate) {\n        dv.diffOutOfDate = true;\n        edit.from = edit.to = orig.from = orig.to = 0;\n      }\n      // Update faster when a line was added/removed\n      setDealign(change.text.length - 1 != change.to.line - change.from.line);\n    }\n    function swapDoc() {\n      dv.diffOutOfDate = true;\n      dv.dealigned = true;\n      update(\"full\");\n    }\n    dv.edit.on(\"change\", change);\n    dv.orig.on(\"change\", change);\n    dv.edit.on(\"swapDoc\", swapDoc);\n    dv.orig.on(\"swapDoc\", swapDoc);\n    if (dv.mv.options.connect == \"align\") {\n      CodeMirror.on(dv.edit.state.trackAlignable, \"realign\", setDealign)\n      CodeMirror.on(dv.orig.state.trackAlignable, \"realign\", setDealign)\n    }\n    dv.edit.on(\"viewportChange\", function() { set(false); });\n    dv.orig.on(\"viewportChange\", function() { set(false); });\n    update();\n    return update;\n  }\n\n  function registerScroll(dv, otherDv) {\n    dv.edit.on(\"scroll\", function() {\n      syncScroll(dv, true) && makeConnections(dv);\n    });\n    dv.orig.on(\"scroll\", function() {\n      syncScroll(dv, false) && makeConnections(dv);\n      if (otherDv) syncScroll(otherDv, true) && makeConnections(otherDv);\n    });\n  }\n\n  function syncScroll(dv, toOrig) {\n    // Change handler will do a refresh after a timeout when diff is out of date\n    if (dv.diffOutOfDate) {\n      if (dv.lockScroll && dv.needsScrollSync == null) dv.needsScrollSync = toOrig\n      return false\n    }\n    dv.needsScrollSync = null\n    if (!dv.lockScroll) return true;\n    var editor, other, now = +new Date;\n    if (toOrig) { editor = dv.edit; other = dv.orig; }\n    else { editor = dv.orig; other = dv.edit; }\n    // Don't take action if the position of this editor was recently set\n    // (to prevent feedback loops)\n    if (editor.state.scrollSetBy == dv && (editor.state.scrollSetAt || 0) + 250 > now) return false;\n\n    var sInfo = editor.getScrollInfo();\n    if (dv.mv.options.connect == \"align\") {\n      targetPos = sInfo.top;\n    } else {\n      var halfScreen = .5 * sInfo.clientHeight, midY = sInfo.top + halfScreen;\n      var mid = editor.lineAtHeight(midY, \"local\");\n      var around = chunkBoundariesAround(dv.chunks, mid, toOrig);\n      var off = getOffsets(editor, toOrig ? around.edit : around.orig);\n      var offOther = getOffsets(other, toOrig ? around.orig : around.edit);\n      var ratio = (midY - off.top) / (off.bot - off.top);\n      var targetPos = (offOther.top - halfScreen) + ratio * (offOther.bot - offOther.top);\n\n      var botDist, mix;\n      // Some careful tweaking to make sure no space is left out of view\n      // when scrolling to top or bottom.\n      if (targetPos > sInfo.top && (mix = sInfo.top / halfScreen) < 1) {\n        targetPos = targetPos * mix + sInfo.top * (1 - mix);\n      } else if ((botDist = sInfo.height - sInfo.clientHeight - sInfo.top) < halfScreen) {\n        var otherInfo = other.getScrollInfo();\n        var botDistOther = otherInfo.height - otherInfo.clientHeight - targetPos;\n        if (botDistOther > botDist && (mix = botDist / halfScreen) < 1)\n          targetPos = targetPos * mix + (otherInfo.height - otherInfo.clientHeight - botDist) * (1 - mix);\n      }\n    }\n\n    other.scrollTo(sInfo.left, targetPos);\n    other.state.scrollSetAt = now;\n    other.state.scrollSetBy = dv;\n    return true;\n  }\n\n  function getOffsets(editor, around) {\n    var bot = around.after;\n    if (bot == null) bot = editor.lastLine() + 1;\n    return {top: editor.heightAtLine(around.before || 0, \"local\"),\n            bot: editor.heightAtLine(bot, \"local\")};\n  }\n\n  function setScrollLock(dv, val, action) {\n    dv.lockScroll = val;\n    if (val && action != false) syncScroll(dv, DIFF_INSERT) && makeConnections(dv);\n    (val ? CodeMirror.addClass : CodeMirror.rmClass)(dv.lockButton, \"CodeMirror-merge-scrolllock-enabled\");\n  }\n\n  // Updating the marks for editor content\n\n  function removeClass(editor, line, classes) {\n    var locs = classes.classLocation\n    for (var i = 0; i < locs.length; i++) {\n      editor.removeLineClass(line, locs[i], classes.chunk);\n      editor.removeLineClass(line, locs[i], classes.start);\n      editor.removeLineClass(line, locs[i], classes.end);\n    }\n  }\n\n  function clearMarks(editor, arr, classes) {\n    for (var i = 0; i < arr.length; ++i) {\n      var mark = arr[i];\n      if (mark instanceof CodeMirror.TextMarker)\n        mark.clear();\n      else if (mark.parent)\n        removeClass(editor, mark, classes);\n    }\n    arr.length = 0;\n  }\n\n  // FIXME maybe add a margin around viewport to prevent too many updates\n  function updateMarks(editor, diff, state, type, classes) {\n    var vp = editor.getViewport();\n    editor.operation(function() {\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        clearMarks(editor, state.marked, classes);\n        markChanges(editor, diff, type, state.marked, vp.from, vp.to, classes);\n        state.from = vp.from; state.to = vp.to;\n      } else {\n        if (vp.from < state.from) {\n          markChanges(editor, diff, type, state.marked, vp.from, state.from, classes);\n          state.from = vp.from;\n        }\n        if (vp.to > state.to) {\n          markChanges(editor, diff, type, state.marked, state.to, vp.to, classes);\n          state.to = vp.to;\n        }\n      }\n    });\n  }\n\n  function addClass(editor, lineNr, classes, main, start, end) {\n    var locs = classes.classLocation, line = editor.getLineHandle(lineNr);\n    for (var i = 0; i < locs.length; i++) {\n      if (main) editor.addLineClass(line, locs[i], classes.chunk);\n      if (start) editor.addLineClass(line, locs[i], classes.start);\n      if (end) editor.addLineClass(line, locs[i], classes.end);\n    }\n    return line;\n  }\n\n  function markChanges(editor, diff, type, marks, from, to, classes) {\n    var pos = Pos(0, 0);\n    var top = Pos(from, 0), bot = editor.clipPos(Pos(to - 1));\n    var cls = type == DIFF_DELETE ? classes.del : classes.insert;\n    function markChunk(start, end) {\n      var bfrom = Math.max(from, start), bto = Math.min(to, end);\n      for (var i = bfrom; i < bto; ++i)\n        marks.push(addClass(editor, i, classes, true, i == start, i == end - 1));\n      // When the chunk is empty, make sure a horizontal line shows up\n      if (start == end && bfrom == end && bto == end) {\n        if (bfrom)\n          marks.push(addClass(editor, bfrom - 1, classes, false, false, true));\n        else\n          marks.push(addClass(editor, bfrom, classes, false, true, false));\n      }\n    }\n\n    var chunkStart = 0, pending = false;\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i], tp = part[0], str = part[1];\n      if (tp == DIFF_EQUAL) {\n        var cleanFrom = pos.line + (startOfLineClean(diff, i) ? 0 : 1);\n        moveOver(pos, str);\n        var cleanTo = pos.line + (endOfLineClean(diff, i) ? 1 : 0);\n        if (cleanTo > cleanFrom) {\n          if (pending) { markChunk(chunkStart, cleanFrom); pending = false }\n          chunkStart = cleanTo;\n        }\n      } else {\n        pending = true\n        if (tp == type) {\n          var end = moveOver(pos, str, true);\n          var a = posMax(top, pos), b = posMin(bot, end);\n          if (!posEq(a, b))\n            marks.push(editor.markText(a, b, {className: cls}));\n          pos = end;\n        }\n      }\n    }\n    if (pending) markChunk(chunkStart, pos.line + 1);\n  }\n\n  // Updating the gap between editor and original\n\n  function makeConnections(dv) {\n    if (!dv.showDifferences) return;\n\n    if (dv.svg) {\n      clear(dv.svg);\n      var w = dv.gap.offsetWidth;\n      attrs(dv.svg, \"width\", w, \"height\", dv.gap.offsetHeight);\n    }\n    if (dv.copyButtons) clear(dv.copyButtons);\n\n    var vpEdit = dv.edit.getViewport(), vpOrig = dv.orig.getViewport();\n    var outerTop = dv.mv.wrap.getBoundingClientRect().top\n    var sTopEdit = outerTop - dv.edit.getScrollerElement().getBoundingClientRect().top + dv.edit.getScrollInfo().top\n    var sTopOrig = outerTop - dv.orig.getScrollerElement().getBoundingClientRect().top + dv.orig.getScrollInfo().top;\n    for (var i = 0; i < dv.chunks.length; i++) {\n      var ch = dv.chunks[i];\n      if (ch.editFrom <= vpEdit.to && ch.editTo >= vpEdit.from &&\n          ch.origFrom <= vpOrig.to && ch.origTo >= vpOrig.from)\n        drawConnectorsForChunk(dv, ch, sTopOrig, sTopEdit, w);\n    }\n  }\n\n  function getMatchingOrigLine(editLine, chunks) {\n    var editStart = 0, origStart = 0;\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      if (chunk.editTo > editLine && chunk.editFrom <= editLine) return null;\n      if (chunk.editFrom > editLine) break;\n      editStart = chunk.editTo;\n      origStart = chunk.origTo;\n    }\n    return origStart + (editLine - editStart);\n  }\n\n  // Combines information about chunks and widgets/markers to return\n  // an array of lines, in a single editor, that probably need to be\n  // aligned with their counterparts in the editor next to it.\n  function alignableFor(cm, chunks, isOrig) {\n    var tracker = cm.state.trackAlignable\n    var start = cm.firstLine(), trackI = 0\n    var result = []\n    for (var i = 0;; i++) {\n      var chunk = chunks[i]\n      var chunkStart = !chunk ? 1e9 : isOrig ? chunk.origFrom : chunk.editFrom\n      for (; trackI < tracker.alignable.length; trackI += 2) {\n        var n = tracker.alignable[trackI] + 1\n        if (n <= start) continue\n        if (n <= chunkStart) result.push(n)\n        else break\n      }\n      if (!chunk) break\n      result.push(start = isOrig ? chunk.origTo : chunk.editTo)\n    }\n    return result\n  }\n\n  // Given information about alignable lines in two editors, fill in\n  // the result (an array of three-element arrays) to reflect the\n  // lines that need to be aligned with each other.\n  function mergeAlignable(result, origAlignable, chunks, setIndex) {\n    var rI = 0, origI = 0, chunkI = 0, diff = 0\n    outer: for (;; rI++) {\n      var nextR = result[rI], nextO = origAlignable[origI]\n      if (!nextR && nextO == null) break\n\n      var rLine = nextR ? nextR[0] : 1e9, oLine = nextO == null ? 1e9 : nextO\n      while (chunkI < chunks.length) {\n        var chunk = chunks[chunkI]\n        if (chunk.origFrom <= oLine && chunk.origTo > oLine) {\n          origI++\n          rI--\n          continue outer;\n        }\n        if (chunk.editTo > rLine) {\n          if (chunk.editFrom <= rLine) continue outer;\n          break\n        }\n        diff += (chunk.origTo - chunk.origFrom) - (chunk.editTo - chunk.editFrom)\n        chunkI++\n      }\n      if (rLine == oLine - diff) {\n        nextR[setIndex] = oLine\n        origI++\n      } else if (rLine < oLine - diff) {\n        nextR[setIndex] = rLine + diff\n      } else {\n        var record = [oLine - diff, null, null]\n        record[setIndex] = oLine\n        result.splice(rI, 0, record)\n        origI++\n      }\n    }\n  }\n\n  function findAlignedLines(dv, other) {\n    var alignable = alignableFor(dv.edit, dv.chunks, false), result = []\n    if (other) for (var i = 0, j = 0; i < other.chunks.length; i++) {\n      var n = other.chunks[i].editTo\n      while (j < alignable.length && alignable[j] < n) j++\n      if (j == alignable.length || alignable[j] != n) alignable.splice(j++, 0, n)\n    }\n    for (var i = 0; i < alignable.length; i++)\n      result.push([alignable[i], null, null])\n\n    mergeAlignable(result, alignableFor(dv.orig, dv.chunks, true), dv.chunks, 1)\n    if (other)\n      mergeAlignable(result, alignableFor(other.orig, other.chunks, true), other.chunks, 2)\n\n    return result\n  }\n\n  function alignChunks(dv, force) {\n    if (!dv.dealigned && !force) return;\n    if (!dv.orig.curOp) return dv.orig.operation(function() {\n      alignChunks(dv, force);\n    });\n\n    dv.dealigned = false;\n    var other = dv.mv.left == dv ? dv.mv.right : dv.mv.left;\n    if (other) {\n      ensureDiff(other);\n      other.dealigned = false;\n    }\n    var linesToAlign = findAlignedLines(dv, other);\n\n    // Clear old aligners\n    var aligners = dv.mv.aligners;\n    for (var i = 0; i < aligners.length; i++)\n      aligners[i].clear();\n    aligners.length = 0;\n\n    var cm = [dv.edit, dv.orig], scroll = [];\n    if (other) cm.push(other.orig);\n    for (var i = 0; i < cm.length; i++)\n      scroll.push(cm[i].getScrollInfo().top);\n\n    for (var ln = 0; ln < linesToAlign.length; ln++)\n      alignLines(cm, linesToAlign[ln], aligners);\n\n    for (var i = 0; i < cm.length; i++)\n      cm[i].scrollTo(null, scroll[i]);\n  }\n\n  function alignLines(cm, lines, aligners) {\n    var maxOffset = 0, offset = [];\n    for (var i = 0; i < cm.length; i++) if (lines[i] != null) {\n      var off = cm[i].heightAtLine(lines[i], \"local\");\n      offset[i] = off;\n      maxOffset = Math.max(maxOffset, off);\n    }\n    for (var i = 0; i < cm.length; i++) if (lines[i] != null) {\n      var diff = maxOffset - offset[i];\n      if (diff > 1)\n        aligners.push(padAbove(cm[i], lines[i], diff));\n    }\n  }\n\n  function padAbove(cm, line, size) {\n    var above = true;\n    if (line > cm.lastLine()) {\n      line--;\n      above = false;\n    }\n    var elt = document.createElement(\"div\");\n    elt.className = \"CodeMirror-merge-spacer\";\n    elt.style.height = size + \"px\"; elt.style.minWidth = \"1px\";\n    return cm.addLineWidget(line, elt, {height: size, above: above, mergeSpacer: true, handleMouseEvents: true});\n  }\n\n  function drawConnectorsForChunk(dv, chunk, sTopOrig, sTopEdit, w) {\n    var flip = dv.type == \"left\";\n    var top = dv.orig.heightAtLine(chunk.origFrom, \"local\", true) - sTopOrig;\n    if (dv.svg) {\n      var topLpx = top;\n      var topRpx = dv.edit.heightAtLine(chunk.editFrom, \"local\", true) - sTopEdit;\n      if (flip) { var tmp = topLpx; topLpx = topRpx; topRpx = tmp; }\n      var botLpx = dv.orig.heightAtLine(chunk.origTo, \"local\", true) - sTopOrig;\n      var botRpx = dv.edit.heightAtLine(chunk.editTo, \"local\", true) - sTopEdit;\n      if (flip) { var tmp = botLpx; botLpx = botRpx; botRpx = tmp; }\n      var curveTop = \" C \" + w/2 + \" \" + topRpx + \" \" + w/2 + \" \" + topLpx + \" \" + (w + 2) + \" \" + topLpx;\n      var curveBot = \" C \" + w/2 + \" \" + botLpx + \" \" + w/2 + \" \" + botRpx + \" -1 \" + botRpx;\n      attrs(dv.svg.appendChild(document.createElementNS(svgNS, \"path\")),\n            \"d\", \"M -1 \" + topRpx + curveTop + \" L \" + (w + 2) + \" \" + botLpx + curveBot + \" z\",\n            \"class\", dv.classes.connect);\n    }\n    if (dv.copyButtons) {\n      var copy = dv.copyButtons.appendChild(elt(\"div\", dv.type == \"left\" ? \"\\u21dd\" : \"\\u21dc\",\n                                                \"CodeMirror-merge-copy\"));\n      var editOriginals = dv.mv.options.allowEditingOriginals;\n      copy.title = dv.edit.phrase(editOriginals ? \"Push to left\" : \"Revert chunk\");\n      copy.chunk = chunk;\n      copy.style.top = (chunk.origTo > chunk.origFrom ? top : dv.edit.heightAtLine(chunk.editFrom, \"local\") - sTopEdit) + \"px\";\n\n      if (editOriginals) {\n        var topReverse = dv.edit.heightAtLine(chunk.editFrom, \"local\") - sTopEdit;\n        var copyReverse = dv.copyButtons.appendChild(elt(\"div\", dv.type == \"right\" ? \"\\u21dd\" : \"\\u21dc\",\n                                                         \"CodeMirror-merge-copy-reverse\"));\n        copyReverse.title = \"Push to right\";\n        copyReverse.chunk = {editFrom: chunk.origFrom, editTo: chunk.origTo,\n                             origFrom: chunk.editFrom, origTo: chunk.editTo};\n        copyReverse.style.top = topReverse + \"px\";\n        dv.type == \"right\" ? copyReverse.style.left = \"2px\" : copyReverse.style.right = \"2px\";\n      }\n    }\n  }\n\n  function copyChunk(dv, to, from, chunk) {\n    if (dv.diffOutOfDate) return;\n    var origStart = chunk.origTo > from.lastLine() ? Pos(chunk.origFrom - 1) : Pos(chunk.origFrom, 0)\n    var origEnd = Pos(chunk.origTo, 0)\n    var editStart = chunk.editTo > to.lastLine() ? Pos(chunk.editFrom - 1) : Pos(chunk.editFrom, 0)\n    var editEnd = Pos(chunk.editTo, 0)\n    var handler = dv.mv.options.revertChunk\n    if (handler)\n      handler(dv.mv, from, origStart, origEnd, to, editStart, editEnd)\n    else\n      to.replaceRange(from.getRange(origStart, origEnd), editStart, editEnd)\n  }\n\n  // Merge view, containing 0, 1, or 2 diff views.\n\n  var MergeView = CodeMirror.MergeView = function(node, options) {\n    if (!(this instanceof MergeView)) return new MergeView(node, options);\n\n    this.options = options;\n    var origLeft = options.origLeft, origRight = options.origRight == null ? options.orig : options.origRight;\n\n    var hasLeft = origLeft != null, hasRight = origRight != null;\n    var panes = 1 + (hasLeft ? 1 : 0) + (hasRight ? 1 : 0);\n    var wrap = [], left = this.left = null, right = this.right = null;\n    var self = this;\n\n    if (hasLeft) {\n      left = this.left = new DiffView(this, \"left\");\n      var leftPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-left\");\n      wrap.push(leftPane);\n      wrap.push(buildGap(left));\n    }\n\n    var editPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-editor\");\n    wrap.push(editPane);\n\n    if (hasRight) {\n      right = this.right = new DiffView(this, \"right\");\n      wrap.push(buildGap(right));\n      var rightPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-right\");\n      wrap.push(rightPane);\n    }\n\n    (hasRight ? rightPane : editPane).className += \" CodeMirror-merge-pane-rightmost\";\n\n    wrap.push(elt(\"div\", null, null, \"height: 0; clear: both;\"));\n\n    var wrapElt = this.wrap = node.appendChild(elt(\"div\", wrap, \"CodeMirror-merge CodeMirror-merge-\" + panes + \"pane\"));\n    this.edit = CodeMirror(editPane, copyObj(options));\n\n    if (left) left.init(leftPane, origLeft, options);\n    if (right) right.init(rightPane, origRight, options);\n    if (options.collapseIdentical)\n      this.editor().operation(function() {\n        collapseIdenticalStretches(self, options.collapseIdentical);\n      });\n    if (options.connect == \"align\") {\n      this.aligners = [];\n      alignChunks(this.left || this.right, true);\n    }\n    if (left) left.registerEvents(right)\n    if (right) right.registerEvents(left)\n\n\n    var onResize = function() {\n      if (left) makeConnections(left);\n      if (right) makeConnections(right);\n    };\n    CodeMirror.on(window, \"resize\", onResize);\n    var resizeInterval = setInterval(function() {\n      for (var p = wrapElt.parentNode; p && p != document.body; p = p.parentNode) {}\n      if (!p) { clearInterval(resizeInterval); CodeMirror.off(window, \"resize\", onResize); }\n    }, 5000);\n  };\n\n  function buildGap(dv) {\n    var lock = dv.lockButton = elt(\"div\", null, \"CodeMirror-merge-scrolllock\");\n    var lockWrap = elt(\"div\", [lock], \"CodeMirror-merge-scrolllock-wrap\");\n    CodeMirror.on(lock, \"click\", function() { setScrollLock(dv, !dv.lockScroll); });\n    var gapElts = [lockWrap];\n    if (dv.mv.options.revertButtons !== false) {\n      dv.copyButtons = elt(\"div\", null, \"CodeMirror-merge-copybuttons-\" + dv.type);\n      CodeMirror.on(dv.copyButtons, \"click\", function(e) {\n        var node = e.target || e.srcElement;\n        if (!node.chunk) return;\n        if (node.className == \"CodeMirror-merge-copy-reverse\") {\n          copyChunk(dv, dv.orig, dv.edit, node.chunk);\n          return;\n        }\n        copyChunk(dv, dv.edit, dv.orig, node.chunk);\n      });\n      gapElts.unshift(dv.copyButtons);\n    }\n    if (dv.mv.options.connect != \"align\") {\n      var svg = document.createElementNS && document.createElementNS(svgNS, \"svg\");\n      if (svg && !svg.createSVGRect) svg = null;\n      dv.svg = svg;\n      if (svg) gapElts.push(svg);\n    }\n\n    return dv.gap = elt(\"div\", gapElts, \"CodeMirror-merge-gap\");\n  }\n\n  MergeView.prototype = {\n    constructor: MergeView,\n    editor: function() { return this.edit; },\n    rightOriginal: function() { return this.right && this.right.orig; },\n    leftOriginal: function() { return this.left && this.left.orig; },\n    setShowDifferences: function(val) {\n      if (this.right) this.right.setShowDifferences(val);\n      if (this.left) this.left.setShowDifferences(val);\n    },\n    rightChunks: function() {\n      if (this.right) { ensureDiff(this.right); return this.right.chunks; }\n    },\n    leftChunks: function() {\n      if (this.left) { ensureDiff(this.left); return this.left.chunks; }\n    }\n  };\n\n  function asString(obj) {\n    if (typeof obj == \"string\") return obj;\n    else return obj.getValue();\n  }\n\n  // Operations on diffs\n  var dmp;\n  function getDiff(a, b, ignoreWhitespace) {\n    if (!dmp) dmp = new diff_match_patch();\n\n    var diff = dmp.diff_main(a, b);\n    // The library sometimes leaves in empty parts, which confuse the algorithm\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i];\n      if (ignoreWhitespace ? !/[^ \\t]/.test(part[1]) : !part[1]) {\n        diff.splice(i--, 1);\n      } else if (i && diff[i - 1][0] == part[0]) {\n        diff.splice(i--, 1);\n        diff[i][1] += part[1];\n      }\n    }\n    return diff;\n  }\n\n  function getChunks(diff) {\n    var chunks = [];\n    if (!diff.length) return chunks;\n    var startEdit = 0, startOrig = 0;\n    var edit = Pos(0, 0), orig = Pos(0, 0);\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i], tp = part[0];\n      if (tp == DIFF_EQUAL) {\n        var startOff = !startOfLineClean(diff, i) || edit.line < startEdit || orig.line < startOrig ? 1 : 0;\n        var cleanFromEdit = edit.line + startOff, cleanFromOrig = orig.line + startOff;\n        moveOver(edit, part[1], null, orig);\n        var endOff = endOfLineClean(diff, i) ? 1 : 0;\n        var cleanToEdit = edit.line + endOff, cleanToOrig = orig.line + endOff;\n        if (cleanToEdit > cleanFromEdit) {\n          if (i) chunks.push({origFrom: startOrig, origTo: cleanFromOrig,\n                              editFrom: startEdit, editTo: cleanFromEdit});\n          startEdit = cleanToEdit; startOrig = cleanToOrig;\n        }\n      } else {\n        moveOver(tp == DIFF_INSERT ? edit : orig, part[1]);\n      }\n    }\n    if (startEdit <= edit.line || startOrig <= orig.line)\n      chunks.push({origFrom: startOrig, origTo: orig.line + 1,\n                   editFrom: startEdit, editTo: edit.line + 1});\n    return chunks;\n  }\n\n  function endOfLineClean(diff, i) {\n    if (i == diff.length - 1) return true;\n    var next = diff[i + 1][1];\n    if ((next.length == 1 && i < diff.length - 2) || next.charCodeAt(0) != 10) return false;\n    if (i == diff.length - 2) return true;\n    next = diff[i + 2][1];\n    return (next.length > 1 || i == diff.length - 3) && next.charCodeAt(0) == 10;\n  }\n\n  function startOfLineClean(diff, i) {\n    if (i == 0) return true;\n    var last = diff[i - 1][1];\n    if (last.charCodeAt(last.length - 1) != 10) return false;\n    if (i == 1) return true;\n    last = diff[i - 2][1];\n    return last.charCodeAt(last.length - 1) == 10;\n  }\n\n  function chunkBoundariesAround(chunks, n, nInEdit) {\n    var beforeE, afterE, beforeO, afterO;\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      var fromLocal = nInEdit ? chunk.editFrom : chunk.origFrom;\n      var toLocal = nInEdit ? chunk.editTo : chunk.origTo;\n      if (afterE == null) {\n        if (fromLocal > n) { afterE = chunk.editFrom; afterO = chunk.origFrom; }\n        else if (toLocal > n) { afterE = chunk.editTo; afterO = chunk.origTo; }\n      }\n      if (toLocal <= n) { beforeE = chunk.editTo; beforeO = chunk.origTo; }\n      else if (fromLocal <= n) { beforeE = chunk.editFrom; beforeO = chunk.origFrom; }\n    }\n    return {edit: {before: beforeE, after: afterE}, orig: {before: beforeO, after: afterO}};\n  }\n\n  function collapseSingle(cm, from, to) {\n    cm.addLineClass(from, \"wrap\", \"CodeMirror-merge-collapsed-line\");\n    var widget = document.createElement(\"span\");\n    widget.className = \"CodeMirror-merge-collapsed-widget\";\n    widget.title = cm.phrase(\"Identical text collapsed. Click to expand.\");\n    var mark = cm.markText(Pos(from, 0), Pos(to - 1), {\n      inclusiveLeft: true,\n      inclusiveRight: true,\n      replacedWith: widget,\n      clearOnEnter: true\n    });\n    function clear() {\n      mark.clear();\n      cm.removeLineClass(from, \"wrap\", \"CodeMirror-merge-collapsed-line\");\n    }\n    if (mark.explicitlyCleared) clear();\n    CodeMirror.on(widget, \"click\", clear);\n    mark.on(\"clear\", clear);\n    CodeMirror.on(widget, \"click\", clear);\n    return {mark: mark, clear: clear};\n  }\n\n  function collapseStretch(size, editors) {\n    var marks = [];\n    function clear() {\n      for (var i = 0; i < marks.length; i++) marks[i].clear();\n    }\n    for (var i = 0; i < editors.length; i++) {\n      var editor = editors[i];\n      var mark = collapseSingle(editor.cm, editor.line, editor.line + size);\n      marks.push(mark);\n      mark.mark.on(\"clear\", clear);\n    }\n    return marks[0].mark;\n  }\n\n  function unclearNearChunks(dv, margin, off, clear) {\n    for (var i = 0; i < dv.chunks.length; i++) {\n      var chunk = dv.chunks[i];\n      for (var l = chunk.editFrom - margin; l < chunk.editTo + margin; l++) {\n        var pos = l + off;\n        if (pos >= 0 && pos < clear.length) clear[pos] = false;\n      }\n    }\n  }\n\n  function collapseIdenticalStretches(mv, margin) {\n    if (typeof margin != \"number\") margin = 2;\n    var clear = [], edit = mv.editor(), off = edit.firstLine();\n    for (var l = off, e = edit.lastLine(); l <= e; l++) clear.push(true);\n    if (mv.left) unclearNearChunks(mv.left, margin, off, clear);\n    if (mv.right) unclearNearChunks(mv.right, margin, off, clear);\n\n    for (var i = 0; i < clear.length; i++) {\n      if (clear[i]) {\n        var line = i + off;\n        for (var size = 1; i < clear.length - 1 && clear[i + 1]; i++, size++) {}\n        if (size > margin) {\n          var editors = [{line: line, cm: edit}];\n          if (mv.left) editors.push({line: getMatchingOrigLine(line, mv.left.chunks), cm: mv.left.orig});\n          if (mv.right) editors.push({line: getMatchingOrigLine(line, mv.right.chunks), cm: mv.right.orig});\n          var mark = collapseStretch(size, editors);\n          if (mv.options.onCollapse) mv.options.onCollapse(mv, line, size, mark);\n        }\n      }\n    }\n  }\n\n  // General utilities\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) e.className = className;\n    if (style) e.style.cssText = style;\n    if (typeof content == \"string\") e.appendChild(document.createTextNode(content));\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\n    return e;\n  }\n\n  function clear(node) {\n    for (var count = node.childNodes.length; count > 0; --count)\n      node.removeChild(node.firstChild);\n  }\n\n  function attrs(elt) {\n    for (var i = 1; i < arguments.length; i += 2)\n      elt.setAttribute(arguments[i], arguments[i+1]);\n  }\n\n  function copyObj(obj, target) {\n    if (!target) target = {};\n    for (var prop in obj) if (obj.hasOwnProperty(prop)) target[prop] = obj[prop];\n    return target;\n  }\n\n  function moveOver(pos, str, copy, other) {\n    var out = copy ? Pos(pos.line, pos.ch) : pos, at = 0;\n    for (;;) {\n      var nl = str.indexOf(\"\\n\", at);\n      if (nl == -1) break;\n      ++out.line;\n      if (other) ++other.line;\n      at = nl + 1;\n    }\n    out.ch = (at ? 0 : out.ch) + (str.length - at);\n    if (other) other.ch = (at ? 0 : other.ch) + (str.length - at);\n    return out;\n  }\n\n  // Tracks collapsed markers and line widgets, in order to be able to\n  // accurately align the content of two editors.\n\n  var F_WIDGET = 1, F_WIDGET_BELOW = 2, F_MARKER = 4\n\n  function TrackAlignable(cm) {\n    this.cm = cm\n    this.alignable = []\n    this.height = cm.doc.height\n    var self = this\n    cm.on(\"markerAdded\", function(_, marker) {\n      if (!marker.collapsed) return\n      var found = marker.find(1)\n      if (found != null) self.set(found.line, F_MARKER)\n    })\n    cm.on(\"markerCleared\", function(_, marker, _min, max) {\n      if (max != null && marker.collapsed)\n        self.check(max, F_MARKER, self.hasMarker)\n    })\n    cm.on(\"markerChanged\", this.signal.bind(this))\n    cm.on(\"lineWidgetAdded\", function(_, widget, lineNo) {\n      if (widget.mergeSpacer) return\n      if (widget.above) self.set(lineNo - 1, F_WIDGET_BELOW)\n      else self.set(lineNo, F_WIDGET)\n    })\n    cm.on(\"lineWidgetCleared\", function(_, widget, lineNo) {\n      if (widget.mergeSpacer) return\n      if (widget.above) self.check(lineNo - 1, F_WIDGET_BELOW, self.hasWidgetBelow)\n      else self.check(lineNo, F_WIDGET, self.hasWidget)\n    })\n    cm.on(\"lineWidgetChanged\", this.signal.bind(this))\n    cm.on(\"change\", function(_, change) {\n      var start = change.from.line, nBefore = change.to.line - change.from.line\n      var nAfter = change.text.length - 1, end = start + nAfter\n      if (nBefore || nAfter) self.map(start, nBefore, nAfter)\n      self.check(end, F_MARKER, self.hasMarker)\n      if (nBefore || nAfter) self.check(change.from.line, F_MARKER, self.hasMarker)\n    })\n    cm.on(\"viewportChange\", function() {\n      if (self.cm.doc.height != self.height) self.signal()\n    })\n  }\n\n  TrackAlignable.prototype = {\n    signal: function() {\n      CodeMirror.signal(this, \"realign\")\n      this.height = this.cm.doc.height\n    },\n\n    set: function(n, flags) {\n      var pos = -1\n      for (; pos < this.alignable.length; pos += 2) {\n        var diff = this.alignable[pos] - n\n        if (diff == 0) {\n          if ((this.alignable[pos + 1] & flags) == flags) return\n          this.alignable[pos + 1] |= flags\n          this.signal()\n          return\n        }\n        if (diff > 0) break\n      }\n      this.signal()\n      this.alignable.splice(pos, 0, n, flags)\n    },\n\n    find: function(n) {\n      for (var i = 0; i < this.alignable.length; i += 2)\n        if (this.alignable[i] == n) return i\n      return -1\n    },\n\n    check: function(n, flag, pred) {\n      var found = this.find(n)\n      if (found == -1 || !(this.alignable[found + 1] & flag)) return\n      if (!pred.call(this, n)) {\n        this.signal()\n        var flags = this.alignable[found + 1] & ~flag\n        if (flags) this.alignable[found + 1] = flags\n        else this.alignable.splice(found, 2)\n      }\n    },\n\n    hasMarker: function(n) {\n      var handle = this.cm.getLineHandle(n)\n      if (handle.markedSpans) for (var i = 0; i < handle.markedSpans.length; i++)\n        if (handle.markedSpans[i].mark.collapsed && handle.markedSpans[i].to != null)\n          return true\n      return false\n    },\n\n    hasWidget: function(n) {\n      var handle = this.cm.getLineHandle(n)\n      if (handle.widgets) for (var i = 0; i < handle.widgets.length; i++)\n        if (!handle.widgets[i].above && !handle.widgets[i].mergeSpacer) return true\n      return false\n    },\n\n    hasWidgetBelow: function(n) {\n      if (n == this.cm.lastLine()) return false\n      var handle = this.cm.getLineHandle(n + 1)\n      if (handle.widgets) for (var i = 0; i < handle.widgets.length; i++)\n        if (handle.widgets[i].above && !handle.widgets[i].mergeSpacer) return true\n      return false\n    },\n\n    map: function(from, nBefore, nAfter) {\n      var diff = nAfter - nBefore, to = from + nBefore, widgetFrom = -1, widgetTo = -1\n      for (var i = 0; i < this.alignable.length; i += 2) {\n        var n = this.alignable[i]\n        if (n == from && (this.alignable[i + 1] & F_WIDGET_BELOW)) widgetFrom = i\n        if (n == to && (this.alignable[i + 1] & F_WIDGET_BELOW)) widgetTo = i\n        if (n <= from) continue\n        else if (n < to) this.alignable.splice(i--, 2)\n        else this.alignable[i] += diff\n      }\n      if (widgetFrom > -1) {\n        var flags = this.alignable[widgetFrom + 1]\n        if (flags == F_WIDGET_BELOW) this.alignable.splice(widgetFrom, 2)\n        else this.alignable[widgetFrom + 1] = flags & ~F_WIDGET_BELOW\n      }\n      if (widgetTo > -1 && nAfter)\n        this.set(from + nAfter, F_WIDGET_BELOW)\n    }\n  }\n\n  function posMin(a, b) { return (a.line - b.line || a.ch - b.ch) < 0 ? a : b; }\n  function posMax(a, b) { return (a.line - b.line || a.ch - b.ch) > 0 ? a : b; }\n  function posEq(a, b) { return a.line == b.line && a.ch == b.ch; }\n\n  function findPrevDiff(chunks, start, isOrig) {\n    for (var i = chunks.length - 1; i >= 0; i--) {\n      var chunk = chunks[i];\n      var to = (isOrig ? chunk.origTo : chunk.editTo) - 1;\n      if (to < start) return to;\n    }\n  }\n\n  function findNextDiff(chunks, start, isOrig) {\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      var from = (isOrig ? chunk.origFrom : chunk.editFrom);\n      if (from > start) return from;\n    }\n  }\n\n  function goNearbyDiff(cm, dir) {\n    var found = null, views = cm.state.diffViews, line = cm.getCursor().line;\n    if (views) for (var i = 0; i < views.length; i++) {\n      var dv = views[i], isOrig = cm == dv.orig;\n      ensureDiff(dv);\n      var pos = dir < 0 ? findPrevDiff(dv.chunks, line, isOrig) : findNextDiff(dv.chunks, line, isOrig);\n      if (pos != null && (found == null || (dir < 0 ? pos > found : pos < found)))\n        found = pos;\n    }\n    if (found != null)\n      cm.setCursor(found, 0);\n    else\n      return CodeMirror.Pass;\n  }\n\n  CodeMirror.commands.goNextDiff = function(cm) {\n    return goNearbyDiff(cm, 1);\n  };\n  CodeMirror.commands.goPrevDiff = function(cm) {\n    return goNearbyDiff(cm, -1);\n  };\n});\n","export default {\n\n    computed: {\n\n        colorableClasses() {\n            const classes = {};\n\n            for(let i in this.$attrs) {\n                if(i.match(/^bg|text|border|bg-gradient-/)) {\n                    classes[i] = true;\n                }\n            }\n\n            return classes;\n        }\n\n    }\n\n};\n","import { each, extend, isArray, isObject } from '../../Helpers/Functions';\n\nexport default {\n\n    methods: {\n\n        mergeClasses() {\n            let classes = {};\n\n            each([].slice.call(arguments), arg => {\n                if(isObject(arg)) {\n                    extend(classes, arg);\n                }\n                else if(isArray(arg)) {\n                    classes = classes.concat(arg);\n                }\n                else if(arg) {\n                    classes[arg] = true;\n                }\n            });\n\n            return classes;\n        }\n\n    }\n\n};\n","<template>\n    <textarea :value=\"value\" />\n</template>\n\n<script>\nimport CodeMirror from 'codemirror';\nimport 'codemirror/theme/yeti.css';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/addon/merge/merge.css';\nimport 'codemirror/addon/fold/foldgutter.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/dracula.css';\nimport 'codemirror/addon/hint/show-hint.css';\nimport 'codemirror/mode/htmlmixed/htmlmixed';\nimport 'codemirror/addon/edit/matchtags';\nimport 'codemirror/addon/edit/closebrackets';\nimport 'codemirror/addon/fold/foldcode';\nimport 'codemirror/addon/fold/foldgutter';\nimport 'codemirror/addon/fold/brace-fold';\nimport 'codemirror/addon/fold/xml-fold';\nimport 'codemirror/addon/fold/indent-fold';\nimport 'codemirror/addon/fold/markdown-fold';\nimport 'codemirror/addon/fold/comment-fold';\nimport 'codemirror/addon/hint/show-hint';\nimport 'codemirror/addon/hint/xml-hint';\nimport 'codemirror/addon/hint/html-hint';\nimport 'codemirror/addon/merge/merge';\nimport FormControl from 'vue-interface/src/Mixins/FormControl';\nimport { deepExtend } from 'vue-interface/src/Helpers/Functions';\n\nexport default {\n\n    inheritAttrs: false,\n\n    name: 'editor-field',\n\n    mixins: [\n        FormControl\n    ],\n\n    props: {\n\n        defaultOptions: {\n            type: Object,\n            default() {\n                return {\n                    mode: 'htmlmixed',\n                    theme: 'dracula',\n                    indentAuto: true,\n                    newlineAndIndent: true,\n                    lineNumbers: true,\n                    lineWrapping: true,\n                    indentUnit: 4\n                };\n            }\n        },\n\n        height: {\n            type: String,\n            default: '100%'\n        },\n\n        width: {\n            type: String,\n            default: '100%'\n        }\n\n    },\n\n    computed: {\n\n        options() {\n            return deepExtend({}, this.defaultOptions, this.$attrs);\n        }\n\n    },\n\n    mounted() {\n        this.cm = CodeMirror.fromTextArea(this.$el, this.options);\n        this.cm.on('change', () => this.$emit('input', this.cm.getValue()));\n        this.cm.setSize(this.width, this.height);\n    },\n\n    data() {\n        return {\n            cm: null\n        };\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.CodeMirror {\n    position: absolute;\n    width: 100%;\n\n    .CodeMirror-lint-errors {\n        width: 1.2em;\n    }\n\n    .CodeMirror-lint-error-icon {\n        width: 1em;\n        height: 1em;\n        padding: .2em;\n        background: $danger;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-radius: 100%;\n        transform: translateY(25%);\n        margin: auto;\n\n        svg {\n            color: $white;\n            font-size: .7em;\n        }\n    }\n\n    .CodeMirror-lint-error-underline {\n        color: red !important;\n        font-weight: bold;\n        background-repeat: repeat-x;\n        background-position-y: bottom;\n        background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==\")\n    }\n}\n\n.CodeMirror-lint-tooltip {\n    background: $danger;\n    color: $white;\n    z-index: 10;\n    padding: .5em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n</style>\n","export default {\n    prefix: 'fas',\n    iconName: 'alt',\n    icon: [\n        20,\n        18,\n        [],\n        null,\n        'M.027.656h6.773l7.805 15.609h5.379v1.734h-6.785l-7.805-15.609h-5.367v-1.734zm11.848 0h8.109v1.734h-8.109v-1.734z'\n    ]\n};\n","export default {\n    prefix: 'fas',\n    iconName: 'ctrl',\n    icon: [\n        15,\n        9,\n        [],\n        null,\n        'M.602 7.594l6.938-6.938 6.949 6.938-1.23 1.23-5.719-5.719-5.707 5.719-1.23-1.23z'\n    ]\n};\n","export default {\n    prefix: 'fas',\n    iconName: 'shift',\n    icon: [\n        20,\n        19,\n        [],\n        null,\n        'M.027 10.176l9.973-9.973 9.984 9.973h-4.992v8.824h-9.973v-8.824h-4.992zm9.973-7.922l-6.621 6.621h3.082v8.684h7.09v-8.684h3.07l-6.621-6.621z'\n    ]\n};\n","import prefix from '../../Helpers/Prefix/Prefix';\n\nexport default {\n\n    props: {\n\n        /**\n         * The variant attribute\n         *\n         * @property String\n         */\n        variant: {\n            type: String,\n            default: 'primary'\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return this.$options.name;\n        },\n\n        variantClass() {\n            return prefix(this.variant, this.variantClassPrefix);\n        }\n\n    }\n\n};\n","<template>\n    <a v-if=\"href\" :href=\"href\" class=\"badge\" :class=\"mergeClasses(classes, variantClass)\">\n        <slot>{{label}}</slot>\n        <span class=\"sr-only\" v-html=\"accessibility\"/>\n    </a>\n    <span v-else class=\"badge\" :class=\"mergeClasses(classes, variantClass)\">\n        <slot>{{label}}</slot>\n        <span class=\"sr-only\" v-html=\"accessibility\"/>\n    </span>\n</template>\n\n<script>\nimport prefix from '../../Helpers/Prefix';\nimport Variant from '../../Mixins/Variant';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'badge',\n\n    mixins: [\n        Variant,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * The screen reader accessibility label.\n         *\n         * @property String\n         */\n        accessibility: String,\n\n        /**\n         * If an href attribute is passed, the badge becomes an anchor.\n         *\n         * @property String\n         */\n        href: String,\n\n        /**\n         * The badge appear as pill shaped.\n         *\n         * @property String\n         */\n        pill: Boolean,\n\n        /**\n         * The badge label.\n         *\n         * @property String\n         */\n        label: [Number, String],\n\n        /**\n         * The badge appear as secondary in size to the parent element.\n         *\n         * @property String\n         */\n        secondary: Boolean\n\n    },\n\n    computed: {\n\n        classes() {\n            return prefix({\n                'pill': this.pill,\n                'secondary': this.secondary\n            }, this.$options.name);\n        }\n    }\n};\n</script>\n","<template>\n    <component class=\"navbar-brand\" :class=\"{'h1': h1}\" :is=\"component\" :to=\"to\" :href=\"href || to ? '#' : null\">\n        <img v-if=\"src\" class=\"d-inline-block align-center\" :src=\"src\" :width=\"unit(width)\" :height=\"unit(height)\" :alt=\"alt\"/>\n        <slot/>\n    </component>\n</template>\n\n<script>\nimport unit from '../../Helpers/Unit';\n\nexport default {\n\n    props: {\n\n        /**\n         * The img `alt` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        alt: String,\n\n        /**\n         * The HTML wrapping tag.\n         *\n         * @property Object\n         */\n        tag: String,\n\n        /**\n         * The img `width` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        width: [Number, String],\n\n        /**\n         * The img `height` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        height: [Number, String],\n\n        /**\n         * The `to` attribute that is passed to the component.\n         *\n         * @property Object\n         */\n        to: [Object, String],\n\n        /**\n         * The `href` attribute that is passed to the component.\n         *\n         * @property Object\n         */\n        href: String,\n\n        /**\n         * Append the `h1` class to increase the display size\n         *\n         * @property Object\n         */\n        h1: Boolean,\n\n        /**\n         * If a `src` attribute is passed, then use it to add an img tag\n         *\n         * @property Object\n         */\n        src: String\n\n    },\n\n    computed: {\n\n        component() {\n            return this.tag || (this.to ? 'router-link' : (this.href ? 'a' : 'span'));\n        }\n\n    },\n\n    methods: {\n        unit(value) {\n            return unit(value);\n        }\n    }\n\n};\n</script>\n","<template>\n    <div class=\"navbar-collapse\" id=\"navbarCollapse\" :class=\"{'collapse': collapse}\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-collapse',\n\n    props: {\n\n        collapse: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <span class=\"navbar-text\">\n        <slot/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-text'\n\n};\n</script>\n","<template>\n    <span class=\"navbar-toggler-icon\">\n        <slot/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-toggler-icon'\n\n};\n</script>\n","<template>\n    <button\n        type=\"button\"\n        class=\"navbar-toggler\"\n        data-toggle=\"collapse\"\n        :data-target=\"target\"\n        :aria-controls=\"target\"\n        :aria-expanded=\"expanded\"\n        :aria-label=\"label\"\n        @click=\"onClick\">\n        <slot><navbar-toggler-icon/></slot>\n    </button>\n</template>\n\n<script>\nimport NavbarTogglerIcon from './NavbarTogglerIcon';\n\nexport default {\n\n    name: 'navbar-toggler',\n\n    components: {\n        NavbarTogglerIcon\n    },\n\n    props: {\n\n        expanded: Boolean,\n\n        label: {\n            type: String,\n            default: 'Toggle navigation'\n        },\n\n        target: {\n            type: String,\n            default: '.navbar-collapse'\n        }\n\n    },\n\n    methods: {\n\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <nav :class=\"classes\">\n        <slot/>\n    </nav>\n</template>\n\n<script>\nimport prefix from '../../Helpers/Prefix';\nimport Variant from '../../Mixins/Variant';\nimport Colorable from '../../Mixins/Colorable';\nimport NavbarBrand from './NavbarBrand';\nimport NavbarCollapse from './NavbarCollapse';\nimport NavbarText from './NavbarText';\nimport NavbarToggler from './NavbarToggler';\nimport NavbarTogglerIcon from './NavbarTogglerIcon';\nimport MergeClasses from '../../Mixins/MergeClasses';\nimport { isBoolean } from '../../Helpers/Functions';\n\nexport default {\n\n    name: 'navbar',\n\n    components: {\n        NavbarBrand,\n        NavbarCollapse,\n        NavbarText,\n        NavbarToggler,\n        NavbarTogglerIcon\n    },\n\n    mixins: [\n        Variant,\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Expand the navbar. If true, applies to all size, otherwise pass a string.\n         *\n         * @property Object\n         */\n        expand: {\n            type: [Boolean, String],\n            default: 'lg',\n            validate(value) {\n                ['xs', 'sm', 'md', 'lg', 'xl'].indexOf(value) !== -1 || isBoolean(value);\n            }\n        },\n\n        /**\n         * The should the navbar be fixed at the top.\n         *\n         * @property String\n         */\n        fixed: {\n            type: [String, Boolean],\n            validate(value) {\n                ['top', 'bottom'].indexOf(value) !== -1 || isBoolean(value);\n            }\n        },\n\n        /**\n         * The should the navbar be stickied at the top.\n         *\n         * @property String\n         */\n        sticky: {\n            type: [String, Boolean],\n            validate(value) {\n                ['top', 'bottom'].indexOf(value) !== -1 || isBoolean(value);\n            }\n        },\n\n        /**\n         * The variant attribute\n         *\n         * @property String\n         */\n        variant: {\n            type: String,\n            default: 'light',\n            validate(value) {\n                return ['light', 'dark'].indexOf(value) !== -1;\n            }\n        }\n\n    },\n\n    computed: {\n\n        expandedClass() {\n            if(isBoolean(this.expand)) {\n                return this.expand;\n            }\n\n            return prefix(prefix(this.expand, 'expand'), 'navbar');\n        },\n\n        classes() {\n            return this.mergeClasses(\n                'navbar',\n                prefix(this.sticky === true ? 'top' : this.sticky, 'sticky'),\n                prefix(this.fixed === true ? 'top' : this.fixed, 'fixed'),\n                this.expandedClass,\n                this.variantClass,\n                this.colorableClasses\n            );\n        }\n    },\n\n    data() {\n        return {};\n    }\n\n};\n</script>\n","<template>\n    <span class=\"navigation-error fa-stack fa-md\" :title=\"error\">\n        <i class=\"fa fa-stack-2x fa-certificate\"/>\n        <i class=\"fa fa-stack-1x fa-exclamation fa-inverse\"/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navigation-error',\n\n    props: {\n\n        error: {\n            type: String,\n            required: true\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.navigation-error {\n    color: $danger;\n}\n</style>\n","<template>\n    <component :is=\"component\" :href=\"href || (to ? '#' : null)\" :to=\"to\" :class=\"classes\" @click=\"$emit('click', $event)\">\n        <slot />\n        <navigation-error v-if=\"error\" :error=\"error\"/>\n    </component>\n</template>\n\n<script>\nimport NavigationError from './NavigationError';\n\nexport default {\n\n    name: 'navigation-link',\n\n    components: {\n        NavigationError\n    },\n\n    props: {\n\n        /**\n         * Is the navigation item active\n         *\n         * @prop {Boolean}\n         */\n        active: Boolean,\n\n        /**\n         * Is the navigation item disabled\n         *\n         * @prop {Boolean}\n         */\n        disabled: Boolean,\n\n        /**\n         * The error string.\n         *\n         * @prop {String}\n         */\n        error: String,\n\n        /**\n         * The href attribute\n         *\n         * @prop {String}\n         */\n        href: String,\n\n        /**\n         * The component HTML tag\n         *\n         * @prop {String}\n         */\n        tag: String,\n\n        /**\n         * The to attribute, will be passed to router-link.\n         *\n         * @prop {String}\n         */\n        to: [Object, String],\n\n        /**\n         * Add the nav-item class to the link\n         *\n         * @prop {Boolean}\n         */\n        item: {\n            type: Boolean,\n            default: true\n        }\n\n    },\n\n    computed: {\n\n        component() {\n            return this.tag || (this.to ? 'router-link' : 'a');\n        },\n\n        classes() {\n            this.$nextTick(() => {\n                if(!this.isItem) {\n                    this.isItem = !this.$parent.$el.classList.contains('nav-item');\n                }\n            });\n\n            return {\n                'nav-link': !!this.href || !!this.to,\n                'nav-item': !!this.item,\n                'active': this.active,\n                'disabled': this.disabled\n            };\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <component :is=\"component\" :class=\"classes\" @click=\"$emit('click', $event)\">\n        <slot />\n    </component>\n</template>\n\n<script>\nimport NavigationLink from './NavigationLink';\n\nexport default {\n\n    name: 'navigation-item',\n\n    extends: NavigationLink,\n\n    props: {\n\n        /**\n         * The HTML element\n         *\n         * @prop {String}\n         */\n        element: String,\n\n        /**\n         * Is the component a list element\n         *\n         * @prop {Boolean}\n         */\n        list: Boolean,\n\n        /**\n         * Add the nav-item class to the link\n         *\n         * @prop {Boolean}\n         */\n        item: {\n            type: Boolean,\n            default: true\n        }\n\n    },\n\n    computed: {\n\n        component() {\n            if(this.element) {\n                return this.element;\n            }\n            else if(this.href) {\n                return 'a';\n            }\n            else if(this.list) {\n                return 'li';\n            }\n\n            return 'div';\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <nav class=\"nav\" :class=\"classes\" :role=\"role\">\n        <slot/>\n    </nav>\n</template>\n\n<script>\nimport NavigationItem from './NavigationItem';\nimport prefix from '../../Helpers/Prefix';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'navigation',\n\n    components: {\n        NavigationItem\n    },\n\n    mixins: [\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Helper to add the justify-content-X class.\n         *\n         * @prop {Array}\n         */\n        align: String,\n\n        /**\n         * An array of buttons\n         *\n         * @prop {Array}\n         */\n        buttons: Array,\n\n        /**\n         * The navigation inside a card\n         *\n         * @prop {Boolean}\n         */\n        card: Boolean,\n\n        /**\n         * Justify nav items to fill the width equally (using flex).\n         *\n         * @prop {Array}\n         */\n        fill: Boolean,\n\n        /**\n         * Add `nav-justified` class to the component.\n         *\n         * @prop {Array}\n         */\n        justified: Boolean,\n\n        /**\n         * Display items as pill shapes\n         *\n         * @prop {Array}\n         */\n        pills: Boolean,\n\n        /**\n         * Display items as tab shapes\n         *\n         * @prop {Array}\n         */\n        tabs: Boolean,\n\n        /**\n         * Display the buttons vertically\n         *\n         * @prop {Boolean}\n         */\n        vertical: Boolean,\n\n        /**\n         * The role attribute\n         *\n         * @prop {String}\n         */\n        role: String\n\n    },\n\n    computed: {\n\n        classes() {\n            this.$nextTick(() => {\n                if(!this.isCard) {\n                    this.isCard = this.$parent.$el.classList.contains('card-header');\n                }\n            });\n\n            return this.mergeClasses(\n                this.align ? prefix(this.align, 'justify-content') : null,\n                this.colorableClasses, {\n                    'card-header-tabs': this.isCard && this.tabs,\n                    'card-header-pills': this.isCard && this.pills,\n                    'nav-justified': this.justified,\n                    'nav-fill': this.fill,\n                    'nav-pills': this.pills,\n                    'nav-tabs': this.tabs,\n                    'flex-column': this.vertical\n                }\n            );\n        }\n\n    },\n\n    data() {\n        return {\n            isCard: this.card\n        };\n    }\n\n};\n</script>\n","import { isFunction } from '../../Helpers/Functions';\n\nexport default {\n\n    methods: {\n        proxy(callback, event) {\n            if(isFunction(callback)) {\n                callback.apply(this, [].slice.call(arguments).splice(1));\n                event.preventDefault();\n            }\n        }\n    }\n\n};\n","<template>\n    <component\n        :is=\"component\"\n        :to=\"to\"\n        :href=\"href || (component === 'a' ? '#' : false)\"\n        :type=\"component === 'button' ? 'button' : false\"\n        :class=\"{'active': active}\"\n        class=\"dropdown-item\"\n        @click=\"onClick\">\n        <i v-if=\"icon\" :class=\"icon\"/>\n        <slot>{{label}}</slot>\n    </component>\n</template>\n\n<script>\nimport Proxy from '../../Mixins/Proxy/Proxy';\n\nexport default {\n\n    name: 'dropdown-menu-item',\n\n    mixins: [\n        Proxy\n    ],\n\n    props: {\n\n        /**\n         * Is the menu item active.\n         *\n         * @property Object\n         */\n        active: Boolean,\n\n        /**\n         * Is the menu item a button\n         *\n         * @property Object\n         */\n        button: Boolean,\n\n        /**\n         * The `element` attribute.\n         *\n         * @property Object\n         */\n        element: String,\n\n        /**\n         * The `href` attribute.\n         *\n         * @property Object\n         */\n        href: String,\n\n        /**\n         * The icon of the dropdown menu item.\n         *\n         * @property Object\n         */\n        icon: String,\n\n        /**\n         * The label of the dropdown menu item.\n         *\n         * @property Object\n         */\n        label: String,\n\n        /**\n         * If an to is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        to: [Object, String]\n\n    },\n\n    computed: {\n\n        component() {\n            return this.element || (this.to ? 'router-link' : (this.button ? 'button' : 'a'));\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @property Object\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\na.dropdown-item {\n    cursor: pointer;\n}\n</style>\n","<template>\n    <h5 class=\"dropdown-header\">\n        <slot>{{header}}</slot>\n    </h5>\n</template>\n\n<script>\nexport default {\n\n    name: 'dropdown-menu-header',\n\n    props: {\n\n        /**\n         * The value of the header\n         *\n         * @property Object\n         */\n        header: String\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"dropdown-divider\"></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'dropdown-menu-divider'\n\n};\n</script>\n","<template>\n    <div class=\"dropdown-menu\" :class=\"{'dropdown-menu-right': align === 'right', 'show': show}\" :aria-labelledby=\"id\" tabindex=\"-1\" @click=\"onClick\">\n        <template v-for=\"item in items\">\n            <component :is=\"prefix(item.type || 'item', 'dropdown-menu')\" v-bind=\"item\"/>\n        </template>\n        <slot/>\n    </div>\n</template>\n\n<script>\nimport uuid from '../../Helpers/Uuid';\nimport prefix from '../../Helpers/Prefix';\nimport { each } from '../../Helpers/Functions';\nimport DropdownMenuItem from './DropdownMenuItem';\nimport DropdownMenuHeader from './DropdownMenuHeader';\nimport DropdownMenuDivider from './DropdownMenuDivider';\n\nexport default {\n\n    name: 'dropdown-menu',\n\n    components: {\n        DropdownMenuItem,\n        DropdownMenuHeader,\n        DropdownMenuDivider\n    },\n\n    props: {\n\n        /**\n         * The `id` attribute on the toggle button and aria label. If no `id` is\n         * defined, then a UUID will be generated instead.\n         *\n         * @property Object\n         */\n        id: {\n            type: String,\n            default: uuid\n        },\n\n        /**\n         * Display the dropdown menu aligned left or right\n         *\n         * @property String\n         */\n        align: {\n            type: String,\n            default: 'left',\n            validate(value) {\n                return ['left', 'right'].indexOf(value.toLowerCase()) !== -1;\n            }\n        },\n\n        /**\n         * The default visibility of the dropdown menu.\n         *\n         * @property Object\n         */\n        show: Boolean,\n\n        /**\n         * An array of dropdown items. If an key/value pair isn't defined, the\n         * default value will be used. If no items are defined, then the slot\n         * named \"items\" can be used to define the options with HTML.\n         *\n         * [{\n         *      type: 'item', // String [item|header|divider]\n         *      href: '#', // String\n         *      label: 'Some label', // String\n         *      onClick: (event) => {} // Function\n         * }]\n         *\n         * @property Array\n         */\n        items: Array\n\n    },\n\n    methods: {\n\n        prefix: prefix,\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @param Object event\n         * @param Object item\n         * @return void\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        },\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @param Object event\n         * @param Object item\n         * @return void\n         */\n        onItemClick(event, item) {\n            this.$emit('item:click', event, item);\n        }\n\n    },\n\n    mounted() {\n        each(this.$children, child => {\n            child.$on('click', event => {\n                this.onItemClick(event, child);\n            });\n        });\n    }\n\n};\n</script>\n","import prefix from '../../Helpers/Prefix/Prefix';\n\nexport default {\n\n    props: {\n\n        /**\n         * The size of the form control\n         *\n         * @property String\n         */\n        size: {\n            type: String,\n            default: 'md',\n            validate: value => ['sm', 'md', 'lg'].indexOf(value) !== -1\n        }\n\n    },\n\n    computed: {\n\n        sizeableClassPrefix() {\n            return this.$options.name;\n        },\n\n        sizeableClass() {\n            return prefix(this.size, this.sizeableClassPrefix);\n        }\n\n    }\n\n};\n","<template>\n    <router-link v-if=\"to\" :to=\"to\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </router-link>\n    <a v-else-if=\"href\" :href=\"href\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </a>\n    <label v-else-if=\"label\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </label>\n    <button v-else :type=\"type\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\">\n        <slot/>\n    </button>\n</template>\n\n<script>\nimport Variant from '../../Mixins/Variant';\nimport Sizeable from '../../Mixins/Sizeable';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'btn',\n\n    mixins: [\n        Variant,\n        Sizeable,\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Display button with active state\n         *\n         * @property String\n         */\n        active: Boolean,\n\n        /**\n         * Display button with blocked state\n         *\n         * @property String\n         */\n        block: Boolean,\n\n        /**\n         * Display button with disabled state\n         *\n         * @property String\n         */\n        disabled: Boolean,\n\n        /**\n         * If an href is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        href: String,\n\n        /**\n         * Should use <label> as the element for the button. Used for inputs\n         * wrappers (toggles).\n         *\n         * @property Boolean\n         */\n        label: Boolean,\n\n        /**\n         * Display as an outline button\n         *\n         * @property String\n         */\n        outline: Boolean,\n\n        /**\n         * If an to is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        to: [Object, String],\n\n        /**\n         * The type attribute for the button. Not applied if an anchor\n         *\n         * @property String\n         */\n        type: String\n\n    },\n\n    methods: {\n\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return this.$options.name + (this.outline ? '-outline' : '');\n        },\n\n        classes() {\n            return this.mergeClasses(\n                'btn',\n                this.variantClass,\n                this.sizeableClass,\n                this.colorableClasses,\n                this.block ? 'btn-block' : '',\n                this.active ? 'active' : ''\n            );\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/mixins.scss';\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n@mixin button-block($size) {\n    width: 100%;\n    display: block;\n}\n\n@include media-breakpoint-down(xs) {\n    .btn-xs-block {\n        @include button-block(xs);\n\n        + .btn-xs-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(sm) {\n    .btn-sm-block {\n        @include button-block(sm);\n\n        + .btn-xs-block,\n        + .btn-sm-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(md) {\n    .btn-md-block {\n        @include button-block(md);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(lg) {\n    .btn-lg-block {\n        @include button-block(lg);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block,\n        + .btn-lg-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(xl) {\n    .btn-xl-block {\n        @include button-block(xl);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block,\n        + .btn-lg-block,\n        + .btn-xl-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n</style>\n","<template>\n    <div :class=\"classes\" :data-toggle=\"toggle ? 'buttons' : false\" role=\"group\">\n        <btn v-if=\"buttons\" v-for=\"(button, i) in buttons\" :key=\"i\" v-bind=\"button\" />\n        <slot/>\n    </div>\n</template>\n\n<script>\nimport Btn from '../Btn';\nimport Sizeable from '../../Mixins/Sizeable';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'btn-group',\n\n    components: {\n        Btn\n    },\n\n    mixins: [\n        Sizeable,\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * An array of buttons\n         *\n         * @type {Array}\n         */\n        buttons: Array,\n\n        /**\n         * Denote the button group as toggle buttons\n         *\n         * @type {Boolean}\n         */\n        toggle: Boolean,\n\n        /**\n         * Display the buttons vertically\n         *\n         * @type {Boolean}\n         */\n        vertical: Boolean\n\n    },\n\n    computed: {\n\n        classes() {\n            return this.mergeClasses(\n                this.colorableClasses, {\n                    'btn-group': !this.vertical,\n                    'btn-group-toggle': this.toggle,\n                    'btn-group-vertical': this.vertical\n                }\n            );\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"btn-group-toggle\" data-toggle=\"buttons\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'btn-group-toggle'\n\n};\n</script>\n","<template>\n    <div class=\"btn-toolbar\" role=\"toolbar\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'btn-toolbar'\n\n};\n</script>\n","<template>\n\n    <btn-group v-if=\"split\">\n        <template v-if=\"!dropleft\">\n            <a v-if=\"href\" :href=\"href\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n            </a>\n            <button v-else :type=\"type\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label-wrapper\"><i v-if=\"icon\" :class=\"icon\"/> <slot name=\"label\">{{label}}</slot></slot>\n            </button>\n        </template>\n        <btn-group :class=\"{'dropup': dropup, 'dropright': dropright, 'dropleft': dropleft}\">\n            <button type=\"button\" aria-haspopup=\"true\" :aria-expanded=\"isDropdownShowing\" :id=\"$attrs.id\" :class=\"toggleClasses\" @click.prevent=\"!isDropdownShowing ? show() : hide()\" @blur=\"onBlur\"></button>\n            <dropdown-menu\n                :id=\"$attrs.id\"\n                :align=\"align\"\n                :show.sync=\"isDropdownShowing\"\n                @click=\"onMenuClick\"\n                @item:click=\"onItemClick\">\n                <slot/>\n            </dropdown-menu>\n        </btn-group>\n        <template v-if=\"dropleft\">\n            <a v-if=\"href\" :href=\"href\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n            </a>\n            <button v-else :type=\"type\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label-wrapper\"><i v-if=\"icon\" :class=\"icon\"/> <slot name=\"label\">{{label}}</slot></slot>\n            </button>\n        </template>\n    </btn-group>\n\n    <btn-group v-else :class=\"{'dropup': dropup, 'dropright': dropright, 'dropleft': dropleft}\" @click=\"onClick\">\n        <button aria-haspopup=\"true\" :aria-expanded=\"isDropdownShowing\" :type=\"type\" :id=\"$attrs.id\" :class=\"toggleClasses\" @click.prevent=\"!isDropdownShowing ? show() : hide()\" @blur=\"onBlur\">\n            <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n        </button>\n\n        <dropdown-menu\n            :id=\"$attrs.id\"\n            :align=\"align\"\n            :show.sync=\"isDropdownShowing\"\n            @click=\"onMenuClick\"\n            @item:click=\"onItemClick\">\n            <slot/>\n        </dropdown-menu>\n    </btn-group>\n\n</template>\n\n<script>\nimport Btn from '../Btn';\nimport Popper from 'popper.js';\nimport BtnGroup from '../BtnGroup';\nimport uuid from '../../Helpers/Uuid';\nimport prefix from '../../Helpers/Prefix';\nimport DropdownMenu from '../DropdownMenu';\nimport { each } from '../../Helpers/Functions';\n\nconst TAB_KEYCODE = 9;\nconst LEFT_ARROW_KEYCODE = 37;\nconst RIGHT_ARROW_KEYCODE = 39;\nconst UP_ARROW_KEYCODE = 38;\nconst DOWN_ARROW_KEYCODE = 40;\n\nlet ignoreBlurEvent = false;\n\nexport default {\n\n    name: 'btn-dropdown',\n\n    extends: Btn,\n\n    components: {\n        BtnGroup,\n        DropdownMenu\n    },\n\n    props: {\n\n        /**\n         * The button icon that appears before the label.\n         *\n         * @property String\n         */\n        autoclose: Boolean,\n\n        /**\n         * The button icon that appears before the label.\n         *\n         * @property String\n         */\n        icon: String,\n\n        /**\n         * The toggle button's label. If not defined as an attribute,\n         * you can override with the component's slot (inner html).\n         *\n         * @property String\n         */\n        label: String,\n\n        /**\n         * The `id` attribute on the toggle button and aria label. If no `id` is\n         * defined, then a UUID will be generated instead.\n         *\n         * @property String\n         */\n        id: {\n            type: String,\n            default: uuid\n        },\n\n        /**\n         * The button type attribute.\n         *\n         * @property String\n         */\n        type: {\n            type: String,\n            default: 'button'\n        },\n\n        /**\n         * Display the dropdown menu aligned left or right\n         *\n         * @property String\n         */\n        align: {\n            type: String,\n            default: 'left',\n            validate(value) {\n                return ['left', 'right'].indexOf(value.toLowerCase()) !== -1;\n            }\n        },\n\n        /**\n         * Display the dropdown button with a split toggle button.\n         *\n         * @property Boolean\n         */\n        split: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropup instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropup: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropright instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropright: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropleft instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropleft: {\n            type: Boolean,\n            default: false\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * Focus on the the dropdown toggle button\n         *\n         * @return void\n         */\n        focus() {\n            this.$el.querySelector('.dropdown-toggle').focus();\n        },\n\n        /**\n         * Focus on the the dropdown toggle button\n         *\n         * @return void\n         */\n        queryFocusable() {\n            return this.$el.querySelector('.dropdown-menu').querySelectorAll('label, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n        },\n\n        /**\n         * Method to check if the given element is focusable.\n         *\n         * @return void\n         */\n        isFocusable(element) {\n            const nodes = this.queryFocusable();\n\n            for(let i in nodes) {\n                if(element === nodes[i]) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Toggle the dropdown menu\n         *\n         * @return void\n         */\n        toggle() {\n            !this.isDropdownShowing ? this.show() : this.hide();\n        },\n\n        /**\n         * Show the dropdown menu\n         *\n         * @return void\n         */\n        show() {\n            this.isDropdownShowing = true;\n\n            this.$nextTick(() => {\n                let side = 'bottom';\n\n                if(this.dropup) {\n                    side = 'top';\n                }\n                else if(this.dropleft) {\n                    side = 'left';\n                }\n                else if(this.dropright) {\n                    side = 'right';\n                }\n\n                const menu = this.$el.querySelector('.dropdown-menu');\n                const toggle = this.$el.querySelector('.dropdown-toggle');\n                const position = [side, this.align === 'left' ? 'start' : 'end'];\n\n                this.$popper = new Popper(toggle, menu, {\n                    placement: position.join('-')\n                });\n\n                if(this.queryFocusable().item(0)) {\n                    this.$el.querySelector('input, select, textarea').focus();\n                }\n\n                this.$emit('show');\n            });\n        },\n\n        /**\n         * Hide the dropdown menu\n         *\n         * @return void\n         */\n        hide() {\n            this.$emit('toggle', this.isDropdownShowing = false);\n            this.$emit('hide');\n        },\n\n        /**\n         * A callback function for the `click` event for the action button\n         *\n         * @return void\n         */\n        onClick(event) {\n            this.hide();\n            this.$emit('click', event);\n        },\n\n        /**\n         * A callback function for the `blur` event for the action button\n         *\n         * @return void\n         */\n        onBlur(event) {\n            if(!this.$el.contains(event.relatedTarget)) {\n                this.hide();\n            }\n        },\n\n        /**\n         * A callback function for the `item:click` event for the action button\n         *\n         * @return void\n         */\n        onMenuClick(event, item) {\n            if(event.target === this.$el.querySelector('.dropdown-menu')) {\n                this.focus();\n            }\n        },\n\n        /**\n         * A callback function for the `item:click` event for the action button\n         *\n         * @return void\n         */\n        onItemClick(event, item) {\n            if(!this.isFocusable(event.target)) {\n                this.hide();\n            }\n\n            this.$emit('item:click', event, item);\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return 'btn' + (this.outline ? '-outline' : '');\n        },\n\n        sizeableClassPrefix() {\n            return 'btn';\n        },\n\n        actionClasses() {\n            return [\n                'btn',\n                prefix(this.size, 'btn'),\n                prefix(this.variant, 'btn')\n            ].join(' ');\n        },\n\n        toggleClasses() {\n            return [\n                'btn',\n                'dropdown-toggle',\n                this.variantClass,\n                this.sizeableClass,\n                this.active ? 'active' : '',\n                this.block ? 'btn-block' : '',\n                (this.split ? 'dropdown-toggle-split' : '')\n            ].join(' ');\n        }\n    },\n\n    data() {\n        return {\n            isDropdownShowing: false\n        };\n    },\n\n    mounted() {\n        each(this.$el.querySelectorAll('[type=submit], input, select, textarea, [tabindex]:not([tabindex=\"-1\"]'), el => {\n            if(el && el.addEventListener) {\n                el.addEventListener('blur', event => {\n                    if(!ignoreBlurEvent) {\n                        this.focus();\n                    }\n\n                    ignoreBlurEvent = false;\n                });\n\n                el.addEventListener('focus', event => {\n                    ignoreBlurEvent = false;\n                });\n\n                el.addEventListener('keydown', event => {\n                    const ignore = [\n                        LEFT_ARROW_KEYCODE,\n                        RIGHT_ARROW_KEYCODE,\n                        UP_ARROW_KEYCODE,\n                        DOWN_ARROW_KEYCODE,\n                        TAB_KEYCODE\n                    ];\n\n                    if(ignore.indexOf(event.keyCode) !== -1) {\n                        ignoreBlurEvent = true;\n                    }\n                });\n\n                el.addEventListener('mousedown', event => {\n                    ignoreBlurEvent = true;\n                });\n            }\n        });\n    }\n\n};\n</script>\n","<template>\n\n    <navigation-item class=\"dropdown\">\n\n        <slot name=\"toggle-button\">\n            <navigation-link\n                href=\"#\"\n                class=\"dropdown-toggle\"\n                data-toggle=\"dropdown\"\n                role=\"button\"\n                aria-haspopup=\"true\"\n                :aria-expanded=\"isDropdownShowing\"\n                @click.native.prevent=\"toggle()\"\n                @blur=\"onBlur\">\n                {{label}}\n            </navigation-link>\n        </slot>\n\n        <slot name=\"dropdown-menu\">\n            <dropdown-menu\n                :id=\"$attrs.id\"\n                :items=\"items\"\n                :align=\"align\"\n                :show.sync=\"isDropdownShowing\"\n                @item:click=\"onItemClick\">\n                <slot/>\n            </dropdown-menu>\n        </slot>\n\n    </navigation-item>\n\n</template>\n\n<script>\nimport NavigationItem from './NavigationItem';\nimport NavigationLink from './NavigationLink';\nimport DropdownMenu from '../DropdownMenu';\nimport BtnDropdown from '../BtnDropdown';\n\nexport default {\n\n    name: 'navigation-dropdown',\n\n    extends: BtnDropdown,\n\n    components: {\n        BtnDropdown,\n        DropdownMenu,\n        NavigationItem,\n        NavigationLink\n    }\n\n};\n</script>\n","<template>\n    <ul class=\"navbar-nav\" role=\"nav\">\n        <slot/>\n    </ul>\n</template>\n\n<script>\nimport Navigation from '../Navigation';\n\nexport default {\n\n    name: 'navbar-nav',\n\n    components: {\n        Navigation\n    }\n\n};\n</script>\n","<template>\n    <kbd>\n        <slot>{{ label }}</slot>\n        <icon v-if=\"icon\" :icon=\"icon\" />\n    </kbd>\n</template>\n\n<script>\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\n\nexport default {\n\n    name: 'editor-hotkey',\n\n    components: {\n        Icon\n    },\n\n    props: {\n\n        label: [Number, String],\n\n        icon: [Array, String]\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","<template>\n    <dropdown-menu-item @click=\"$emit('click', $event)\">\n        <span>\n            <slot>{{ label }}</slot>\n        </span>\n        <code v-if=\"hotkeys\">\n            <editor-hotkey v-for=\"(key, i) in hotkeys\" :key=\"i\" :icon=\"key.length > 1 ? key : null\" :label=\"key.length === 1 ? key : null\" />\n        </code>\n    </dropdown-menu-item>\n</template>\n\n<script>\nimport EditorHotkey from './EditorHotkey';\nimport DropdownMenuItem from 'vue-interface/src/Components/DropdownMenu/DropdownMenuItem';\n\nexport default {\n\n    name: 'editor-toolbar-menu-item',\n\n    props: {\n\n        label: String,\n\n        hotkeys: Array\n\n    },\n\n    components: {\n        EditorHotkey,\n        DropdownMenuItem\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'cog';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f013';\nvar svgPathData = 'M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCog = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","<template>\n    <div class=\"activity-indicator\" :class=\"classes\">\n        <div v-for=\"i in nodes\"></div>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    props: {\n        nodes: {\n            type: Number,\n            default: 3\n        },\n        size: {\n            type: String,\n            default: ''\n        },\n        prefix: {\n            type: String,\n            default: 'activity-indicator-'\n        }\n    },\n\n    computed: {\n        classes: function() {\n            const classes = {};\n\n            classes[this.$options.name] = !!this.$options.name;\n            classes[this.prefix + this.size.replace(this.prefix, '')] = !!this.size;\n\n            return classes;\n        }\n    }\n\n};\n</script>\n","<script>\nimport BaseType from './BaseType';\n\nexport default {\n\n    name: 'activity-indicator-dots',\n\n    extends: BaseType\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n$activity-indicator-dot-size: .6rem;\n\n.activity-indicator-dots {\n\n    & > div {\n        border-radius: 100%;\n        display: inline-block;\n        background-color: $gray-900;\n        width: $activity-indicator-dot-size;\n        height: $activity-indicator-dot-size;\n        animation: activity-indicator-dots 1.4s infinite ease-in-out both;\n    }\n\n    & > div:not(:last-child) {\n        margin-right: $activity-indicator-dot-size * .33;\n    }\n\n    &.activity-indicator-xs > div {\n        width: $activity-indicator-dot-size * .5;\n        height: $activity-indicator-dot-size * .5;\n    }\n\n    &.activity-indicator-sm > div {\n        width: $activity-indicator-dot-size * .75;\n        height: $activity-indicator-dot-size * .75;\n    }\n\n    &.activity-indicator-md > div {\n        width: $activity-indicator-dot-size * 1;\n        height: $activity-indicator-dot-size * 1;\n    }\n\n    &.activity-indicator-lg > div {\n        width: $activity-indicator-dot-size * 1.5;\n        height: $activity-indicator-dot-size * 1.5;\n    }\n\n    &.activity-indicator-xl > div {\n        width: $activity-indicator-dot-size * 2;\n        height: $activity-indicator-dot-size * 2;\n    }\n\n    @for $i from 0 through 12 {\n        & > div:nth-child(#{$i + 1}) {\n            animation-delay: $i * .16s;\n        }\n    }\n\n    @keyframes activity-indicator-dots {\n        0%, 80%, 100% {\n            transform: scale(0);\n        } 40% {\n            transform: scale(1.0);\n        }\n    }\n}\n\n.btn-activity-indicator-dots {\n    &:not(.btn-warning) .activity-indicator-dots > div {\n        background: white;\n    }\n}\n\n</style>\n","<script>\nimport BaseType from './BaseType';\nimport { extend } from '../../../Helpers/Functions';\n\nexport default {\n\n    name: 'activity-indicator-spinner',\n\n    extends: BaseType,\n\n    props: extend({}, BaseType.props, {\n        nodes: {\n            type: Number,\n            default: 12\n        }\n    })\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n$activity-indicator-spinner-size: $font-size-base * 2.25;\n$activity-indicator-spinner-width: 10%;\n$activity-indicator-spinner-height: 30%;\n$activity-indicator-spinner-delay: 1s;\n\n@mixin spinner-rotate-selectors($start:1, $end:16, $delay:1.2s) {\n    @for $i from $start through $end {\n        & > div:first-child:nth-last-child(#{$i}),\n        & > div:first-child:nth-last-child(#{$i}) ~ div {\n            @include spinner-rotate-transform($i, $delay);\n        }\n    }\n}\n\n@mixin spinner-rotate-transform($total, $delay:1.2s) {\n    @for $i from 1 through $total {\n        &:nth-child(#{$i}) {\n            transform: rotate(#{360 / $total * $i}deg);\n\n            &:before {\n                animation-delay: -#{$delay - ($delay / $total * ($i - 1))};\n            }\n        }\n    }\n}\n\n.activity-indicator-spinner {\n    position: relative;\n    width: $activity-indicator-spinner-size;\n    height: $activity-indicator-spinner-size;\n\n    & > div  {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        left: 0;\n        top: 0;\n\n        &:before {\n            content: '';\n            display: block;\n            margin: 0 auto;\n            background-color: $gray-900;\n            width: $activity-indicator-spinner-width;\n            height: $activity-indicator-spinner-height;\n            border-radius: 5px;\n            animation: activity-indicator-spinner $activity-indicator-spinner-delay infinite ease-in-out both;\n        }\n    }\n\n    &.activity-indicator-xs {\n        width: $activity-indicator-spinner-size * .5;\n        height: $activity-indicator-spinner-size * .5;\n    }\n    &.activity-indicator-sm {\n        width: $activity-indicator-spinner-size * .75;\n        height: $activity-indicator-spinner-size * .75;\n    }\n    &.activity-indicator-md {\n        width: $activity-indicator-spinner-size * 1;\n        height: $activity-indicator-spinner-size * 1;\n    }\n    &.activity-indicator-lg {\n        width: $activity-indicator-spinner-size * 1.5;\n        height: $activity-indicator-spinner-size * 1.5;\n    }\n    &.activity-indicator-xl {\n        width: $activity-indicator-spinner-size * 2;\n        height: $activity-indicator-spinner-size * 2;\n    }\n\n    @include spinner-rotate-selectors(1, 12, $activity-indicator-spinner-delay);\n\n    @keyframes activity-indicator-spinner {\n        0%, 39%, 100% { opacity: 0; }\n        40% { opacity: 1; }\n    }\n}\n\n.btn-activity-indicator-spinner {\n    &:not(.btn-warning):not(.btn-light):not(.btn-white) .activity-indicator-spinner > div:before {\n        background-color: white;\n    }\n}\n\n</style>\n","<template>\n    <div v-if=\"center\" class=\"center-wrapper\" :class=\"{'position-relative': relative, 'position-fixed': fixed}\" :style=\"style\">\n        <div class=\"center-content d-flex flex-column align-items-center\">\n            <component :is=\"component\" :size=\"size\" :prefix=\"prefix\"/>\n            <div v-if=\"label\" v-html=\"label\" class=\"activity-indicator-label\"/>\n        </div>\n    </div>\n    <div v-else class=\"d-flex flex-column justify-content-center align-items-center\" :style=\"style\">\n        <component :is=\"component\" :size=\"size\" :prefix=\"prefix\"/>\n        <div v-if=\"label\" v-html=\"label\" class=\"activity-indicator-label\"/>\n    </div>\n</template>\n\n<script>\nimport unit from '../../Helpers/Unit';\nimport BaseType from './Types/BaseType';\nimport ActivityIndicatorDots from './Types/Dots';\nimport { kebabCase } from '../../Helpers/Functions';\nimport ActivityIndicatorSpinner from './Types/Spinner';\n\nexport default {\n\n    name: 'activity-indicator',\n\n    extends: BaseType,\n\n    props: {\n\n        center: Boolean,\n\n        fixed: Boolean,\n\n        label: String,\n\n        relative: Boolean,\n\n        type: {\n            type: String,\n            default: 'dots'\n        },\n\n        height: [String, Number],\n\n        maxHeight: [String, Number],\n\n        minHeight: [String, Number],\n\n        width: [String, Number],\n\n        maxWidth: [String, Number],\n\n        minWidth: [String, Number]\n\n    },\n\n    components: {\n        ActivityIndicatorDots,\n        ActivityIndicatorSpinner\n    },\n\n    computed: {\n\n        style() {\n            return {\n                width: unit(this.width),\n                maxWidth: unit(this.maxWidth),\n                minWidth: unit(this.minWidth),\n                height: unit(this.height),\n                maxHeight: unit(this.maxHeight),\n                minHeight: unit(this.minHeight)\n            };\n        },\n\n        component() {\n            return kebabCase(this.prefix + this.type.replace(this.prefix, ''));\n        }\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.center-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n\n    .center-content {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n}\n</style>\n","<template>\n    <button :type=\"type\" class=\"btn\" :class=\"classes\" @click=\"onClick\">\n        <i v-if=\"icon\" :class=\"icon\"/> {{label}}\n        <slot/>\n        <activity-indicator v-bind=\"indicatorProps\" />\n    </button>\n</template>\n\n<script>\nimport { isString } from '../../Helpers/Functions';\nimport ActivityIndicator from '../ActivityIndicator';\n\nconst convertAnimationDelayToInt = function(delay) {\n    const num = parseFloat(delay, 10);\n    const matches = delay.match(/m?s/);\n    const unit = matches ? matches[0] : false;\n\n    let milliseconds;\n\n    switch (unit) {\n    case 's': // seconds\n        milliseconds = num * 1000;\n        break;\n    case 'ms':\n    default:\n        milliseconds = num;\n        break;\n    }\n\n    return milliseconds || 0;\n};\n\nconst animated = function(el, callback) {\n    const defaultView = (el.ownerDocument || document).defaultView;\n\n    setTimeout(() => {\n        callback.apply();\n    }, convertAnimationDelayToInt(defaultView.getComputedStyle(el).animationDuration));\n};\n\nexport default {\n\n    name: 'activity-button',\n\n    components: {\n        ActivityIndicator\n    },\n\n    props: {\n\n        /**\n         * Make the button appear with the active state.\n         *\n         * @property {Boolea}n}\n         */\n        active: Boolean,\n\n        /**\n         * Show the activity indicator inside the button.\n         *\n         * @property {Boolea}n}\n         */\n        activity: Boolean,\n\n        /**\n         * Display the button as block width.\n         *\n         * @property {Boolea}n}\n         */\n        block: Boolean,\n\n        /**\n         * Make the button appear with the disabled state.\n         *\n         * @property {Boolea}n}\n         */\n        disabled: Boolean,\n\n        /**\n         * The button label. If not passed as a property, label must be passed\n         * inside the element's html.\n         *\n         * @property {String}\n         */\n        label: String,\n\n        /**\n         * The button icon\n         *\n         * @property {String}\n         */\n        icon: String,\n\n        /**\n         * The `type` attribute for the button element.\n         *\n         * @property {String}\n         */\n        type: String,\n\n        /**\n         * The size of the button.\n         *\n         * @property {String}\n         */\n        size: {\n            type: String,\n            default: 'md'\n        },\n\n        /**\n         * The variant of the button.\n         *\n         * @property {String}\n         */\n        variant: {\n            type: String,\n            default: 'primary'\n        },\n\n        /**\n         * The type of activity indicator inside the button.\n         *\n         * @property {String}\n         */\n        indicator: {\n            type: [Object, String],\n            default: 'spinner'\n        },\n\n        /**\n         * The orientation of the activity button inside the button.\n         *\n         * @property {String}\n         */\n        orientation: {\n            type: String,\n            default: 'right'\n        }\n    },\n\n    methods: {\n\n        /**\n         * Disable the button.\n         *\n         * @return void\n         */\n        disable() {\n            this.$el.disabled = true;\n        },\n\n        /**\n         * Enable the button.\n         *\n         * @return void\n         */\n        enable() {\n            this.$el.disabled = false;\n        },\n\n        /**\n         * Show the activity indicator inside the button.\n         *\n         * @return void\n         */\n        showActivity() {\n            this.disable();\n\n            animated(this.$el, () => {\n                this.$el.classList.add('btn-activity');\n                this.$emit('activity:show');\n            });\n        },\n\n        /**\n         * Hide the activity indicator inside the button.\n         *\n         * @return void\n         */\n        hideActivity() {\n            this.$el.classList.add('btn-hide-activity');\n\n            animated(this.$el, () => {\n                this.enable();\n                this.$el.classList.remove('btn-activity', 'btn-hide-activity');\n                this.$emit('activity:hide');\n            });\n        },\n\n        /**\n         * The click callback function\n         *\n         * @return void\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    },\n\n    computed: {\n\n        /**\n         * An object of classes to append to the button.\n         *\n         * @return void\n         */\n        classes() {\n            const classes = {\n                'disabled': this.disabled,\n                'active': this.active,\n                'btn-block': this.block,\n                'btn-activity': this.activity\n            };\n\n            classes['btn-' + this.size.replace('btn-', '')] = !!this.size;\n            classes['btn-' + this.variant.replace('btn-', '')] = !!this.variant;\n            classes['btn-activity-' + this.orientation.replace('btn-activity-', '')] = !!this.orientation;\n            classes['btn-activity-indicator-' + this.indicatorProps.type.replace('btn-activity-indicator-', '')] = !!this.indicatorProps.type;\n\n            return classes;\n        },\n\n        indicatorProps() {\n            return Object.assign({\n                type: 'spinner'\n            }, (isString(this.indicator) ? {\n                type: this.indicator\n            } : this.indicator) || {});\n        }\n\n    },\n\n    watch: {\n\n        activity(value) {\n            if(value) {\n                this.showActivity();\n            }\n            else {\n                this.hideActivity();\n            }\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n// Activity Indicator variables\n$activity-indicator-animated-delay-in: 333ms;\n$activity-indicator-animated-delay-out: 333ms;\n\n$activity-indicator-spinner-size: $font-size-base * 2.25;\n$activity-indicator-spinner-width: 10%;\n$activity-indicator-spinner-height: 30%;\n$activity-indicator-spinner-delay: 1s;\n\n@keyframes btn-activity-in {\n    0%, 100% {\n        transform: scale(1);\n    } 30% {\n        transform: scale(.98);\n    }\n}\n\n@keyframes btn-activity-out {\n    0%, 100% {\n        transform: scale(1);\n    } 70% {\n        transform: scale(.98);\n    }\n}\n\n// Activity Indicator Button\n.btn-activity-top,\n.btn-activity-bottom,\n.btn-activity-left,\n.btn-activity-right {\n    position: relative;\n    transition: padding ($activity-indicator-animated-delay-in / 2) ease-in;\n\n    & .activity-indicator {\n        opacity: 0;\n        position: absolute;\n        visibility: hidden;\n        transition: opacity $activity-indicator-animated-delay-out ease-in;\n    }\n}\n\n.btn-activity-top .activity-indicator,\n.btn-activity-bottom .activity-indicator {\n    left: 50%;\n    margin-right: -50%;\n    transform: translateX(-50%);\n}\n.btn-activity-left .activity-indicator,\n.btn-activity-right .activity-indicator {\n    top: 50%;\n    margin-bottom: -50%;\n    transform: translateY(-50%);\n}\n\n.btn-activity:not(.btn-link) {\n    animation: btn-activity-in $activity-indicator-animated-delay-in;\n}\n.btn-hide-activity:not(.btn-link) {\n    animation: btn-activity-out $activity-indicator-animated-delay-out;\n}\n\n.btn-activity {\n\n    &.btn-hide-activity .activity-indicator {\n        opacity: 0;\n    }\n\n    & .activity-indicator {\n        opacity: 1;\n        visibility: visible;\n        position: absolute;\n    }\n\n    &.btn-outline-primary.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $primary;\n    }\n    &.btn-outline-secondary.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $success;\n    }\n    &.btn-outline-danger.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $danger;\n    }\n    &.btn-outline-success.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $success;\n    }\n    &.btn-outline-warning.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $warning;\n    }\n    &.btn-outline-info.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $info;\n    }\n    &.btn-outline-link.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $link-color;\n    }\n\n    &.btn-xs {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 1.25;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 1.25;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 2.33;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 2.33;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 3;\n            height: $font-size-base / 3;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                top: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                left: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                right: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1;\n            height: $font-size-base * 1;\n\n            & > div:before {\n                //width: $activity-indicator-spinner-width * .63;\n                //height: $activity-indicator-spinner-height * .66;\n                width: $activity-indicator-spinner-width * .84;\n                height: $activity-indicator-spinner-height * 1;\n            }\n        }\n    }\n\n    &.btn-sm {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 1.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 1.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 3;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 3;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 2;\n            height: $font-size-base / 2;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 2;\n\n            & .activity-indicator {\n                top: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 2;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 2.5;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 2.5;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1.5;\n            height: $font-size-base * 1.5;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .56;\n                height: $activity-indicator-spinner-height;\n            }\n        }\n    }\n\n    &:not(.btn-xs):not(.btn-sm):not(.btn-md):not(.btn-lg):not(.btn-xl),\n    &.btn-md {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 2;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 2;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 4;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 4;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 1.25;\n            height: $font-size-base / 1.25;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1.75;\n            height: $font-size-base * 1.75;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .66;\n                height: $activity-indicator-spinner-height;\n            }\n        }\n    }\n\n    &.btn-lg {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 5;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 5;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base * 1.1;\n            height: $font-size-base * 1.1;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 3.5;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 3.5;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 3.25;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 3.25;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 2.15;\n            height: $font-size-base * 2.15;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .75;\n            }\n        }\n    }\n\n    &.btn-xl {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 3.75;\n\n            & .activity-indicator {\n                top: $font-size-base * 1;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 3.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * 1;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 6;\n\n            & .activity-indicator {\n                left: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 6;\n\n            & .activity-indicator {\n                right: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base * 1.25;\n            height: $font-size-base * 1.25;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 4.25;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 4.25;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 4;\n\n            & .activity-indicator {\n                left: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 4;\n\n            & .activity-indicator {\n                right: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 2.5;\n            height: $font-size-base * 2.5;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .75;\n            }\n        }\n    }\n\n}\n</style>\n","<template>\n    <navbar class=\"editor-toolbar\" variant=\"dark\" bg-dark>\n        <btn-activity ref=\"lint\" size=\"sm\" variant=\"light\" class=\"mr-auto\" :disabled=\"isLintingDisabled()\" :activity=\"activity\" @click.prevent=\"onClickLint\">\n            <icon icon=\"bug\" />\n            <badge v-if=\"errors.length\" :label=\"errors.length\" variant=\"danger\" class=\"position-absolute\" pill />\n        </btn-activity>\n        <div class=\"editor-toolbar-title\">\n            <input type=\"text\" placeholder=\"Untitled Document\" :value=\"title\" @input=\"onInput\"/>\n        </div>\n        <btn-dropdown v-if=\"pageControls\" size=\"sm\" variant=\"light\" align=\"right\" class=\"editor-toolbar-actions ml-auto\">\n            <icon icon=\"cog\" slot=\"label\"/>\n            <editor-toolbar-menu-item label=\"New File\" :hotkeys=\"['ctrl', 'N']\" @click.prevent=\"$emit('new')\" />\n            <editor-toolbar-menu-item label=\"Open\" :hotkeys=\"['ctrl', 'O']\" @click.prevent=\"$emit('open')\" />\n            <editor-toolbar-menu-item label=\"Save\" :hotkeys=\"['ctrl', 'S']\" @click.prevent=\"$emit('save')\" />\n            <editor-toolbar-menu-item label=\"Save As...\" :hotkeys=\"['shift', 'ctrl', 'S']\" @click.prevent=\"$emit('save-as')\" />\n            <editor-toolbar-menu-item label=\"Close\" :hotkeys=\"['ctrl', 'Q']\" @click.prevent=\"$emit('close')\" />\n            <template v-if=\"errors.length\">\n                <dropdown-menu-divider/>\n                <editor-toolbar-menu-item label=\"Export Errors\" :hotkeys=\"['ctrl', 'X']\" @click.prevent=\"$emit('export-errors')\" />\n            </template>\n            <template v-else-if=\"!isLintingDisabled() && errors.length === 0\">\n                <dropdown-menu-divider/>\n                <editor-toolbar-menu-item label=\"Convert Document\" :hotkeys=\"['ctrl', 'C']\" @click.prevent=\"$emit('convert')\" />\n            </template>\n        </btn-dropdown>\n    </navbar>\n</template>\n\n<script>\nimport { alt, ctrl, shift } from './Icons';\nimport Badge from 'vue-interface/src/Components/Badge';\nimport Navbar from 'vue-interface/src/Components/Navbar';\nimport EditorToolbarMenuItem from './EditorToolbarMenuItem';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faBug } from '@fortawesome/free-solid-svg-icons/faBug';\nimport { faCog } from '@fortawesome/free-solid-svg-icons/faCog';\nimport BtnActivity from 'vue-interface/src/Components/BtnActivity';\nimport BtnDropdown from 'vue-interface/src/Components/BtnDropdown';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\nimport DropdownMenuDivider from 'vue-interface/src/Components/DropdownMenu/DropdownMenuDivider';\n\nlibrary.add(faBug);\nlibrary.add(faCog);\nlibrary.add(alt);\nlibrary.add(ctrl);\nlibrary.add(shift);\n\nexport default {\n\n    name: 'editor-toolbar',\n\n    components: {\n        Icon,\n        BtnActivity,\n        Badge,\n        Navbar,\n        BtnDropdown,\n        DropdownMenuDivider,\n        EditorToolbarMenuItem\n    },\n\n    props: {\n\n        activity: Boolean,\n\n        errors: Array,\n\n        pageControls: {\n            type: Boolean,\n            default: true\n        },\n\n        value: String,\n\n        title: {\n            type: String,\n            default: null\n        }\n\n    },\n\n    methods: {\n\n        isLintingDisabled() {\n            return !this.value || this.value === '';\n        },\n\n        onInput(event) {\n            this.$emit('input', event.target.value);\n            this.$emit('update:title', event.target.value);\n        },\n\n        onClickLint(event) {\n            if(!this.isLintingDisabled()) {\n                this.$emit('lint', event);\n            }\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.editor-toolbar {\n    &.bg-dark {\n        background-color: #282a36 !important;\n    }\n\n    &.fixed {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        z-index: 100;\n    }\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .editor-toolbar-title {\n        color: white;\n        font-size: 1em;\n        width: auto;\n        background: transparent;\n        text-align: center;\n        margin: 0 auto;\n        display: flex;\n        flex-grow: 1;\n\n        input {\n            border: 0;\n            margin: 0;\n            color: white;\n            outline: none;\n            background: transparent;\n            text-align: center;\n            flex-grow: 1;\n        }\n    }\n\n    .editor-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","export default {\n\n    props: {\n\n        /**\n         * Should show only for screenreaders\n         *\n         * @property Boolean\n         */\n        srOnly: Boolean,\n\n        /**\n         * Should be focusable for screenreaders\n         *\n         * @property Boolean\n         */\n        srOnlyFocusable: Boolean\n\n    },\n\n    computed: {\n        screenreaderClasses() {\n            return {\n                'sr-only': this.srOnly,\n                'sr-only-focusable': this.srOnlyFocusable\n            };\n        }\n    }\n\n};\n","<template>\n\n    <small class=\"form-text\" :class=\"classes\"><slot /></small>\n\n</template>\n\n<script>\nimport { extend } from '../../Helpers/Functions';\nimport Colorable from '../../Mixins/Colorable/Colorable';\nimport Screenreaders from '../../Mixins/Screenreaders/Screenreaders';\n\nexport default {\n\n    name: 'help-text',\n\n    mixins: [\n        Colorable,\n        Screenreaders\n    ],\n\n    computed: {\n        classes() {\n            return extend({}, this.screenreaderClasses, this.colorableClasses);\n        }\n    }\n\n};\n</script>\n","<template>\n\n    <div :class=\"{'form-group': !!group}\">\n        <slot/>\n    </div>\n\n</template>\n\n<script>\nexport default {\n\n    name: 'form-group',\n\n    props: {\n\n        group: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.form-group {\n    &, .form-group-inner {\n        position: relative;\n    }\n\n    .activity-indicator {\n        position: absolute;\n        right: 0;\n        top: 50%;\n        transform: translate(-1rem, -50%);\n        transition: all .25s ease-in;\n    }\n}\n</style>\n","<template>\n\n    <label :class=\"classes\"><slot/></label>\n\n</template>\n\n<script>\nimport { extend } from '../../Helpers/Functions';\nimport Colorable from '../../Mixins/Colorable/Colorable';\nimport Screenreaders from '../../Mixins/Screenreaders/Screenreaders';\n\nexport default {\n\n    name: 'form-label',\n\n    mixins: [\n        Colorable,\n        Screenreaders\n    ],\n\n    computed: {\n        classes() {\n            return extend({}, this.screenreaderClasses, this.colorableClasses);\n        }\n    }\n\n};\n</script>\n","<template>\n    <component\n        v-bind=\"$attrs\"\n        :is=\"element\"\n        :aria-label=\"label || name || id\"\n        :aria-describedby=\"id || name\"\n        @input=\"$emit('input', $event.target.value)\">\n        <slot/>\n    </component>\n</div>\n\n</template>\n\n<script>\nimport Colorable from '../../Mixins/Colorable';\nimport FormControl from '../../Mixins/FormControl';\n\nexport default {\n\n    name: 'form-control',\n\n    mixins: [\n        Colorable,\n        FormControl\n    ],\n\n    props: {\n\n        element: {\n            type: String,\n            required: true\n        }\n\n    }\n\n};\n</script>\n","<template>\n\n    <div :class=\"{'invalid-feedback': invalid, 'valid-feedback': valid && !invalid}\">\n        <slot>{{label}}</slot>\n    </div>\n\n</template>\n\n<script>\nimport Colorable from '../../Mixins/Colorable/Colorable';\n\nexport default {\n\n    name: 'form-feedback',\n\n    mixins: [\n        Colorable\n    ],\n\n    props: {\n\n        /**\n         * The value of label element. If no value, no label will appear.\n         *\n         * @property String\n         */\n        label: String,\n\n        /**\n         * Should the feedback marked as invalid\n         *\n         * @property String\n         */\n        invalid: Boolean,\n\n        /**\n         * Should the feedback marked as invalid\n         *\n         * @property String\n         */\n        valid: Boolean\n\n    }\n\n};\n</script>\n","<template>\n\n    <form-group :group=\"group\" :class=\"formGroupClasses\">\n\n        <slot name=\"label\">\n            <form-label ref=\"label\" v-if=\"label || hasDefaultSlot\" :for=\"$attrs.id\" v-html=\"label\"/>\n        </slot>\n\n        <div class=\"form-group-inner\">\n            <slot name=\"control\">\n                <input\n                    v-bind-events\n                    v-bind=\"controlAttributes\"\n                    :value=\"value\"\n                    @input=\"$emit('input', $event.target.value)\"\n                />\n            </slot>\n\n            <slot name=\"activity\">\n                <transition name=\"slide-fade\">\n                    <activity-indicator key=\"test\" v-if=\"activity\" ref=\"activity\" type=\"dots\" :size=\"size\"/>\n                </transition>\n            </slot>\n        </div>\n\n        <slot name=\"feedback\">\n            <form-feedback v-if=\"validFeedback\" ref=\"feedback\" v-html=\"validFeedback\" valid />\n            <form-feedback v-else-if=\"invalidFeedback\" ref=\"feedback\" v-html=\"invalidFeedback\" invalid />\n        </slot>\n\n        <slot name=\"help\">\n            <help-text v-if=\"helpText\" ref=\"help\" v-html=\"helpText\" />\n        </slot>\n\n    </form-group>\n\n</template>\n\n<script>\nimport HelpText from '../HelpText';\nimport FormGroup from '../FormGroup';\nimport FormLabel from '../FormLabel';\nimport FormControl from '../FormControl';\nimport FormFeedback from '../FormFeedback';\nimport Colorable from '../../Mixins/Colorable';\nimport ActivityIndicator from '../ActivityIndicator';\nimport FormControlMixin from '../../Mixins/FormControl';\n\nexport default {\n\n    name: 'input-field',\n\n    mixins: [\n        Colorable,\n        FormControlMixin\n    ],\n\n    components: {\n        HelpText,\n        FormControl,\n        FormGroup,\n        FormLabel,\n        FormFeedback,\n        ActivityIndicator\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.input-field {\n    .slide-fade-enter,\n    .slide-fade-leave-to {\n        opacity: 1;\n        transform: translate(25%, -50%);\n    }\n\n    &.is-valid .valid-feedback,\n    &.is-invalid .invalid-feedback {\n        display: flex;\n    }\n}\n</style>\n","<template>\n    <div class=\"editor\">\n        <editor-toolbar\n            ref=\"toolbar\"\n            :value=\"value\"\n            :activity=\"isLinting\"\n            :errors=\"currentErrors\"\n            :title.sync=\"currentFilename\"\n            :page-controls=\"pageControls\"\n            @input=\"onToolbarInput\"\n            @lint=\"onClickLint\"\n            @new=\"onClickNew\"\n            @save=\"onClickSave\"\n            @open=\"onClickOpen\"\n            @close=\"onClickClose\"\n            @save-as=\"onClickSaveAs\"\n            @convert=\"onClickConvert\"\n            @export-errors=\"onExportErrors\" />\n\n        <div class=\"editor-field-container\">\n            <editor-field ref=\"editor\" v-model=\"value\" v-bind=\"mergedOptions\" @input=\"onEditorInput\" />\n            <input ref=\"file\" type=\"file\" class=\"d-none\" @input=\"onFileSelected\"/>\n        </div>\n    </div>\n</template>\n\n<script>\nimport './LintAddon';\nimport LintState from './LintState';\nimport EditorField from './EditorField';\nimport EditorToolbar from './EditorToolbar';\nimport InputField from 'vue-interface/src/Components/InputField';\nimport { deepExtend } from 'vue-interface/src/Helpers/Functions';\n\nexport default {\n\n    name: 'editor',\n\n    components: {\n        EditorField,\n        EditorToolbar\n    },\n\n    props: {\n\n        errors: Array,\n\n        contents: String,\n\n        extraKeys: Object,\n\n        filename: String,\n\n        gutters: Array,\n\n        lint: Object,\n\n        matchTags: Object,\n\n        options: Object,\n\n        pageControls: {\n            type: Boolean,\n            default: true\n        }\n\n    },\n\n    computed: {\n\n        mergedOptions() {\n            return deepExtend({\n                foldGutter: true,\n                matchTags: Object.assign({\n                    bothTags: true\n                }, this.matchTags),\n                gutters: this.gutters || [\n                    'CodeMirror-linenumbers',\n                    LintState.id,\n                    'CodeMirror-foldgutter'\n                ],\n                extraKeys: Object.assign({\n                    'Ctrl-N': this.onClickNew,\n                    'Ctrl-O': this.onClickOpen,\n                    'Ctrl-S': this.onClickSave,\n                    'Ctrl-Q': this.onClickClose,\n                    'Ctrl-C': this.onClickConvert,\n                    'Shift-Ctrl-S': this.onClickSaveAs,\n                    'Ctrl-J': 'toMatchingTag',\n                    'Ctrl-Space': 'autocomplete',\n                    'Ctrl-V': () => {\n                        this.$refs.toolbar.$refs.lint.$el.click();\n                    }\n                    /*,\n                    'Ctrl-Q': cm => {\n                        cm.foldCode(cm.getCursor());\n                    }\n                    */\n                }, this.extraKeys),\n                lint: Object.assign({\n                    url: 'lint',\n                    errors: this.errors,\n                    data: cm => {\n                        return {\n                            html: cm.getValue()\n                        };\n                    },\n                    onStart: () => {\n                        this.isLinting = true;\n                    },\n                    onComplete: () => {\n                        this.isLinting = false;\n                    },\n                    onSuccess: () => {\n                        this.currentErrors = [];\n                        this.$emit('lint-success');\n                    },\n                    onError: error => {\n                        if(error.response.status === 406) {\n                            this.$emit('lint-error', error, this.currentErrors = error.response.data.errors);\n                        }\n                    }\n                }, this.lint)\n            }, this.options);\n        }\n\n    },\n\n    methods: {\n\n        onClickConvert() {\n            this.$emit('convert', this.value, this.currentFilename);\n        },\n\n        onToolbarInput() {\n            this.onEditorInput();\n        },\n\n        onEditorInput() {\n            this.$nextTick(() => {\n                this.$emit('input', {\n                    contents: this.value,\n                    filename: this.currentFilename\n                });\n            });\n        },\n\n        onExportErrors() {\n            this.$emit('export', this.value, this.currentFilename);\n        },\n\n        onFileSelected(event) {\n            const reader = new FileReader();\n\n            // Closure to capture the file information.\n            reader.onload = e => {\n                this.$refs.editor.cm.setValue(e.target.result);\n                this.$refs.editor.cm.lint();\n            };\n\n            reader.readAsText(event.target.files[0]);\n\n            this.currentFilename = event.target.files[0].name;\n        },\n\n        onClickNew() {\n            this.currentFilename = null;\n            this.$refs.editor.cm.setValue(this.value = '');\n            this.$refs.editor.cm.focus();\n            this.$emit('new');\n        },\n\n        onClickSave() {\n            if(this.currentFilename) {\n                this.$emit('download', this.value, this.currentFilename);\n                this.$emit('save', this.value, this.currentFilename);\n            }\n            else {\n                this.onClickSaveAs();\n            }\n        },\n\n        onClickSaveAs() {\n            this.$prompt('Save File As', InputField, {\n                content: {\n                    on: {\n                        keypress: (e) => {\n                            // \"return\" key code\n                            if(e.keyCode === 13) {\n                                e.target.closest('.modal-dialog').querySelector('.btn-primary').click();\n                                e.preventDefault();\n                            }\n                        }\n                    },\n                    propsData: {\n                        label: 'Enter the name of the file',\n                        value: this.currentFilename\n                    }\n                }\n            }).then(modal => {\n                this.$emit('download', this.value, this.currentFilename);\n                this.$emit('save-as', this.value, this.currentFilename);\n            });\n        },\n\n        onClickOpen(event) {\n            this.$refs.file.click();\n        },\n\n        onClickClose() {\n            this.$emit('close');\n        },\n\n        onClickLint(event) {\n            this.$refs.editor.cm.lint();\n        }\n\n    },\n\n    data() {\n        return {\n            isLinting: false,\n            value: this.contents,\n            currentFilename: this.filename,\n            currentErrors: this.errors || []\n        };\n    },\n\n    mounted() {\n        this.$nextTick(() => {\n            this.$refs.editor.cm.focus();\n            this.$refs.editor.cm.setSize('100%', `calc(100% - ${this.$el.querySelector('.editor-toolbar').clientHeight}px)`);\n\n            if(this.$refs.editor.cm.getValue() && !this.currentErrors.length) {\n                this.$refs.editor.cm.lint();\n            }\n        });\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #282a36 !important;\n}\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n\n.editor-field-container {\n    flex: 1;\n}\n</style>\n","<template>\n    <div class=\"modal-body\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-body'\n\n};\n</script>\n","<template>\n    <div class=\"modal-dialog\" role=\"document\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-dialog'\n\n};\n</script>\n","<template>\n    <h5 class=\"modal-title\"><slot/></h5>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-title'\n\n};\n</script>\n","<template>\n    <div class=\"modal-header\">\n        <slot name=\"title\">\n            <modal-title><slot/></modal-title>\n        </slot>\n\n        <slot name=\"close-button\">\n            <button v-if=\"closeable\" type=\"button\" class=\"close\" aria-label=\"ariaLabel\" @click=\"$emit('close')\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </slot>\n    </div>\n</template>\n\n<script>\nimport ModalTitle from './ModalTitle';\n\nexport default {\n\n    name: 'modal-header',\n\n    components: {\n        ModalTitle\n    },\n\n    props: {\n\n        ariaLabel: {\n            type: String,\n            default: 'Close'\n        },\n\n        closeable: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"modal-footer\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-footer'\n\n};\n</script>\n","<template>\n    <div class=\"modal-content\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-content'\n\n};\n</script>\n","<template>\n    <div class=\"modal-backdrop\" :class=\"{'fade': fade, 'show': show}\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-backdrop',\n\n    props: {\n\n        /**\n         * Show the modal with a fade effect.\n         *\n         * @property Boolean\n         */\n        fade: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the modal showing.\n         *\n         * @property Boolean\n         */\n        show: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n","import { each, isString } from '../../Helpers/Functions';\nimport transition from '../../Helpers/Transition';\n\nexport default {\n\n    props: {\n\n        /**\n         * Show the triggerable element with a animated fade effect.\n         *\n         * @type {Boolean}\n         */\n        animation: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the triggerable element showing.\n         *\n         * @property Boolean\n         */\n        show: {\n            type: Boolean,\n            defaut: false\n        },\n\n        /**\n         * The target element used to position the popover.\n         *\n         * @type {String|Element|Boolean}\n         */\n        target: {\n            type: [String, Element, Boolean],\n            default: false\n        },\n\n        /**\n         * How the modal is triggered - click | hover | focus | manual. You may\n         * pass multiple triggers; separate them with a space. `manual` cannot\n         * be combined with any other trigger.\n         *\n         * @type {String}\n         */\n        trigger: {\n            type: [String, Array],\n            default: 'click'\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * Initialize the trigger event for the specified elements\n         *\n         * @param  {Element} el\n         * @return {void}\n         */\n        initializeTrigger(el) {\n            each(isString(this.trigger) ? this.trigger.split(' ') : this.trigger, trigger => {\n                el.addEventListener(trigger, event => {\n                    this.toggle();\n                });\n            });\n        },\n\n        /**\n         * Initialize the event triggers\n         *\n         * @return void\n         */\n        initializeTriggers() {\n            if(this.target && this.trigger !== 'manual') {\n                if(this.target instanceof Element) {\n                    this.initializeTrigger(this.target);\n                }\n                else {\n                    document.querySelectorAll(this.target).forEach(el => {\n                        this.initializeTrigger(el);\n                    });\n                }\n            }\n\n            if(this.show || !this.target) {\n                this.$nextTick(() => {\n                    this.isShowing = true;\n                });\n            }\n        },\n\n        /**\n         * Focus on the first field in the modal (if exists).\n         *\n         * @return this\n         */\n        focus() {\n            this.$nextTick(() => {\n                const el = this.$el.querySelector('.form-control, input, select, textarea');\n\n                if(el) {\n                    el.focus();\n                }\n                else {\n                    this.$el.focus();\n                }\n            });\n\n            return this;\n        },\n\n        /**\n         * Open the triggereable element\n         *\n         * @return this\n         */\n        open() {\n            this.isDisplaying = true;\n\n            this.$nextTick(() => {\n                transition(this.$el).then(delay => {\n                    this.isShowing = true;\n                    this.$emit('open');\n                });\n            });\n\n            return this;\n        },\n\n        /**\n         * Close the triggereable element\n         *\n         * @return this\n         */\n        close(event) {\n            transition(this.$el).then(delay => {\n                this.isDisplaying = false;\n                this.$emit('close', event);\n            });\n\n            this.isShowing = false;\n\n            return this;\n        },\n\n        /**\n         * Toggle the triggereable element's open/close method.\n         *\n         * @return this\n         */\n        toggle() {\n            if(!this.isShowing) {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n\n            return this;\n        }\n\n    },\n\n    computed: {\n\n        triggerableClasses() {\n            return {\n                'fade': this.animation,\n                'show': this.isShowing\n            };\n        }\n\n    },\n\n    watch: {\n\n        isShowing(value) {\n            if(value) {\n                this.focus();\n            }\n        },\n\n        show(value) {\n            this.isShowing = value;\n        }\n\n    },\n\n    mounted() {\n        this.initializeTriggers();\n    },\n\n    data() {\n        return {\n            isDisplaying: this.show || !this.target,\n            isShowing: false\n        };\n    }\n\n};\n","<template>\n\n    <div class=\"modal\" :class=\"triggerableClasses\" :style=\"{display: isDisplaying ? 'block' : 'none'}\" tabindex=\"-1\" role=\"dialog\" @keydown.esc=\"cancel\">\n\n        <modal-backdrop v-if=\"backdrop\" ref=\"backdrop\"/>\n\n        <modal-dialog :class=\"{'modal-dialog-centered': center}\">\n\n            <modal-content>\n\n                <slot name=\"header\">\n                    <modal-header v-if=\"title\" @close=\"cancel\">{{title}}</modal-header>\n                </slot>\n\n                <slot name=\"body\">\n                    <component :is=\"!flush ? 'modal-body' : 'div'\" class=\"child-component\">\n                        <slot/>\n                    </component>\n                </slot>\n\n                <slot name=\"footer\">\n                    <modal-footer v-if=\"type\">\n                        <template v-if=\"type === 'alert'\">\n                            <btn-activity :activity=\"activity\" variant=\"primary\" @click=\"confirm\">{{okLabel}}</btn-activity>\n                        </template>\n                        <template v-else>\n                            <btn type=\"button\" variant=\"secondary\" @click=\"cancel\" v-html=\"cancelLabel\"/>\n                            <btn-activity :activity=\"activity\" variant=\"primary\" @click=\"confirm\">{{okLabel}}</btn-activity>\n                        </template>\n                    </modal-footer>\n                </slot>\n\n            </modal-content>\n\n        </modal-dialog>\n\n    </div>\n\n</template>\n\n<script>\nimport Btn from '../Btn';\nimport ModalBody from './ModalBody';\nimport ModalDialog from './ModalDialog';\nimport ModalHeader from './ModalHeader';\nimport ModalFooter from './ModalFooter';\nimport BtnActivity from '../BtnActivity';\nimport ModalContent from './ModalContent';\nimport ModalBackdrop from './ModalBackdrop';\nimport Triggerable from '../../Mixins/Triggerable';\n\nexport default {\n\n    name: 'modal',\n\n    components: {\n        Btn,\n        BtnActivity,\n        ModalBody,\n        ModalBackdrop,\n        ModalContent,\n        ModalDialog,\n        ModalHeader,\n        ModalFooter\n    },\n\n    mixins: [\n        Triggerable\n    ],\n\n    props: {\n\n        /**\n         * Show the modal activity indicator.\n         *\n         * @type {Boolean}\n         */\n        activity: Boolean,\n\n        /**\n         * Show the modal with a backdrop.\n         *\n         * @type {Boolean}\n         */\n        backdrop: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the modal centered in the screen.\n         *\n         * @type {Boolean}\n         */\n        center: Boolean,\n\n        /**\n         * Is the modal content fixed position\n         *\n         * @type {Boolean}\n         */\n        closeable: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the modal content flush with the modal edges? If true, no modal-body\n         * will be used to wrap the content.\n         *\n         * @type {Boolean}\n         */\n        flush: Boolean,\n\n        /**\n         * The ok label text.\n         *\n         * @type {String}\n         */\n        okLabel: {\n            type: String,\n            default: 'Ok'\n        },\n\n        /**\n         * The cancel label text.\n         *\n         * @type {String}\n         */\n        cancelLabel: {\n            type: String,\n            default: 'Cancel'\n        },\n\n        /**\n         * The modal title.\n         *\n         * @type {String}\n         */\n        title: String,\n\n        /**\n         * Is the modal type.\n         *\n         * @type {Boolean}\n         */\n        type: {\n            type: [Boolean, String],\n            default: false,\n            validate(value) {\n                return ['alert', 'confirm', 'prompt'].indexOf(value) !== -1;\n            }\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * Mount the backdrop to the document body.\n         *\n         * @return {void}\n        mountBackdrop() {\n            if(!this.backdropComponent) {\n                this.backdropComponent = this.$refs.backdrop.$mount(\n                    document.body.appendChild(document.createElement('div'))\n                );\n            }\n        },\n        */\n\n        /**\n         * Unmount the backdrop from the document body.\n         *\n         * @return {void}\n        unmountBackdrop() {\n            if(this.backdropComponent) {\n                this.backdropComponent.$destroy();\n                this.backdropComponent.$el.remove();\n                this.backdropComponent = null;\n            }\n        },\n        */\n\n        /**\n         * Cancel the modal\n         *\n         * @return {void}\n         */\n        cancel(event) {\n            this.$emit('cancel', event);\n            this.close(event);\n        },\n\n        /**\n         * Confirm the modal\n         *\n         * @return {void}\n         */\n        confirm(event) {\n            this.$emit('confirm', event);\n        },\n\n        /**\n         * A callback for the escape function.\n         *\n         * @return {void}\n         */\n        onEsc(event) {\n            (this.type === 'confirm' || this.type === 'prompt') ? this.cancel(event) : this.close(event);\n        }\n\n    },\n\n    watch: {\n\n        isShowing(value) {\n            if(value) {\n                document.querySelector('body').classList.add('modal-open');\n                // this.mountBackdrop();\n            }\n            else {\n                document.querySelector('body').classList.remove('modal-open');\n                // this.unmountBackdrop();\n            }\n\n            this.$emit('update:show', value);\n        }\n\n    },\n\n    data() {\n        return {\n            backdropComponent: null,\n            isDisplaying: this.show || !this.target,\n            isShowing: false\n        };\n    },\n\n    mounted() {\n        this.initializeTriggers();\n    },\n\n    beforeRouteLeave(to, from, next) {\n        this.close();\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.modal {\n    .modal-backdrop + .modal-dialog {\n        z-index: 1050;\n    }\n}\n</style>\n","import Editor from './Editor';\nimport LintState from './LintState';\nimport EditorField from './EditorField';\nimport EditorHotkey from './EditorHotkey';\nimport EditorToolbar from './EditorToolbar';\nimport 'vue-interface/dist/vue-interface.css';\nimport Modal from 'vue-interface/src/Plugins/Modal';\nimport EditorToolbarMenuItem from './EditorToolbarMenuItem';\n\nif(window && window.Vue) {\n    window.Vue.use(Modal);\n    window.Vue.component('editor', Editor);\n    window.Vue.component('editor-field', EditorField);\n    window.Vue.component('editor-hotkey', EditorHotkey);\n    window.Vue.component('editor-toolbar', EditorToolbar);\n    window.Vue.component('editor-toolbar-menu-item', EditorToolbarMenuItem);\n}\n\nexport {\n    Editor,\n    EditorField,\n    EditorHotkey,\n    EditorToolbar,\n    EditorToolbarMenuItem,\n    LintState\n};\n"],"names":["isBuffer","obj","constructor","isSlowBuffer","readFloatLE","slice","isArray","val","toString","call","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","str","replace","isStandardBrowserEnv","navigator","product","window","document","forEach","fn","i","l","length","key","Object","prototype","hasOwnProperty","merge","assignValue","result","arguments","extend","a","b","thisArg","bind","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","e","this","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","nextTick","args","Array","push","Item","array","noop","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","performanceNow","performance","seconds","Math","floor","nanoseconds","uptime","Date","startTime","encode","encodeURIComponent","E","message","btoa","input","block","charCode","String","output","idx","map","chars","charAt","charCodeAt","setContentTypeIfUnset","headers","value","utils","getDefaultAdapter","adapter","XMLHttpRequest","require$$0","process","require$$1","InterceptorManager","handlers","throwIfCancellationRequested","config","cancelToken","throwIfRequested","Axios","instanceConfig","defaults","interceptors","request","response","Cancel","CancelToken","executor","TypeError","resolvePromise","promise","Promise","resolve","token","reason","createInstance","defaultConfig","context","instance","assign","isNull","deepExtend","target","sources","source","shift","[object Object]","isNumeric","match","parseFloat","each","subject","Function","isBoolean","isEmpty","keys","kebabCase","toLowerCase","mapKeys","object","mapped","update","newConfig","_params$asNewDefault","undefined","asNewDefault","validKeys","config$1","ok","k","indexOf","initialKeys","configKey","auto","autoReplaceSvg","observeMutations","isReserved","RESERVED_CLASSES","bunker","PRODUCTION","insertCss","css","IS_DOM","style","DOCUMENT","createElement","setAttribute","innerHTML","headChildren","head","childNodes","beforeChild","child","tagName","toUpperCase","insertBefore","nextUniqueId","_uniqueId","toArray","classArray","node","classList","getAttribute","split","filter","getIconName","familyPrefix","cls","parts","prefix","iconName","join","htmlEscape","joinAttributes","attributes","reduce","acc","attributeName","joinStyles","styles","styleName","transformIsMeaningful","transform","size","meaninglessTransform","x","y","rotate","flipX","flipY","transformForSvg","_ref","containerWidth","iconWidth","outer","inner","path","transformForCss","_ref2","_ref2$width","width","UNITS_IN_GRID","_ref2$height","height","_ref2$startCentered","startCentered","IS_IE","d","makeInlineSvgAbstract","params","_params$icons","icons","main","mask","symbol","title","extra","_params$watchable","watchable","found","widthClass","ceil","attrClass","replacementClass","classes","content","children","_extends","data-prefix","data-icon","class","role","xmlns","viewBox","DATA_FA_I2SVG","tag","id","makeIconMasking","makeIconStandard","asSymbol","asIcon","makeLayersTextAbstract","_params$watchable2","styleString","byUnicode","unicode","_byUnicode","byLigature","ligature","_byLigature","byOldName","_byOldName","getCanonicalIcon","values","styles$1","shim","rest","emptyCanonicalIcon","iconFromMapping","mapping","icon","toHtml","abstractNodes","_abstractNodes$attrib","_abstractNodes$childr","isWatched","getMutator","mutators","perform","mutations","callback","callbackFunction","noop$1","WINDOW","requestAnimationFrame","op","mutator","mark","perf","begin","disableObservation","operation","disabled","observe","options","MUTATION_OBSERVER","treeCallback","nodeCallback","pseudoElementsCallback","mo","objects","mutationRecord","type","addedNodes","searchPseudoElements","parentNode","ATTRIBUTES_WATCHED_FOR_MUTATION","_getCanonicalIcon","getElementsByTagName","childList","characterData","subtree","disconnect","toHex","parseMeta","_classParser","classParser","extraClasses","extraStyles","styleParser","transformParser","symbolParser","extraAttributes","attributesParser","maskParser","MissingIcon","error","stack","findIcon","missing","fill","showMissingIcons","generateSvgReplacementMutation","nodeMeta","generateLayersText","computedFontSize","parseInt","getComputedStyle","fontSize","boundingClientRect","getBoundingClientRect","autoA11y","generateMutation","LAYERS_TEXT_CLASSNAME","remove","removeChild","root","end","querySelectorAll","pos","fontFamily","getPropertyValue","FONT_FAMILY_PATTERN","pseudoElement","c","DATA_FA_PSEUDO_ELEMENT","nextSibling","textContent","STYLE_TO_PREFIX","innerText","substr","firstChild","appendChild","onTree","htmlClassList","documentElement","hclAdd","suffix","add","HTML_CLASS_I2SVG_BASE_CLASS","hclRemove","prefixes","prefixesDomQuery","p","candidates","mutation","console","onNode","define","normalized","namespace","hooks","addPack","prepIcon","ensureCss","autoAddCss","_cssInserted","apiObject","abstractCreator","defineProperty","get","abstract","container","html","findIconDefinition","_params$prefix","library","definitions","resolveIcons","next","maybeIconDefinition","iconDefinition","bootstrap","IS_BROWSER","FontAwesome","api$1","domready","autoReplace","MutationObserver","build","addShims","shims","_namespace$shims","apply","toConsumableArray","removeExistingErrors","state","errors","lint","cm","clearGutter","open","clear","close","createTooltip","div","className","createIcon","fontawesome","faBug","line","column","code","msg","rule","addErrors","range","getViewport","setGutterMarker","CodeMirror","findMatchingTag","ch","markText","from","to","UNDERLINE_CLASS","scrollIntoView","getScrollInfo","clientHeight","setCursor","onCursorActivity","lintErrorTooltip","findNearbyErrors","getCursor","carry","addWidget","delimeter","prefixer","string","RegExp","addClass","el","vnode","$el","removeClass","addEmptyClass","selectedIndex","emptyClass","normalizeComponent","compiledTemplate","injectStyle","defaultExport","scopeId","isFunctionalTemplate","moduleIdentifier","isShadowMode","createInjector","createInjectorSSR","createInjectorShadow","render","staticRenderFns","_compiled","functional","_scopeId","hook","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","isFinite","uuid","r","random","v","microtaskDebounce","called","then","taskDebounce","scheduled","timeoutDuration","functionToCheck","getType","getStyleComputedProperty","element","property","nodeType","ownerDocument","defaultView","getParentNode","nodeName","host","getScrollParent","body","_getStyleComputedProp","overflow","overflowX","overflowY","test","isIE","version","isIE11","isIE10","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getScroll","upperSide","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","modifier","top","bottom","left","right","getBordersSize","axis","sideA","sideB","getSize","computedStyle","max","getWindowSizes","getClientRect","offsets","sizes","clientWidth","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","isFixed","getFixedPositionOffsetParent","parentElement","getBoundaries","popper","reference","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","computeAutoPlacement","placement","refRect","rects","sortedAreas","area","sort","filteredAreas","computedPlacement","variation","getReferenceOffsets","getOuterSizes","marginBottom","marginRight","getOppositePlacement","hash","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","findIndex","prop","cur","runModifiers","modifiers","data","ends","warn","enabled","isDestroyed","arrowStyles","flipped","positionFixed","flip","originalPlacement","position","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","some","getSupportedPropertyName","upperProp","toCheck","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","event","scrollParents","isBody","addEventListener","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","removeEventListener","cancelAnimationFrame","n","isNaN","setStyles","unit","setAttributes","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","getRoundedOffsets","shouldRound","_data$offsets","isVertical","isVariation","sameWidthOddness","bothOddWidth","noRound","horizontalToInteger","round","verticalToInteger","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","devicePixelRatio","isFirefox","prefixedProperty","invertTop","invertLeft","x-placement","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","querySelector","sideCapitalized","side","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","min","getOppositeVariation","clockwise","counter","index","validPlacements","reverse","placementOpposite","flipOrder","behavior","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","flipVariations","keepTogether","toValue","parseOffset","offset","basePlacement","useHeight","fragments","frag","divider","search","ops","mergeWithPrevious","index2","preventOverflow","transformProp","popperStyles","priority","primary","escapeWithReference","secondary","shiftvariation","shiftOffsets","hide","bound","subtractLength","_classCallCheck","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","err","getAttrConfig","attr","coerce","idPool","innerTranslate","innerScale","innerRotate","mainWidth","mainPath","maskWidth","maskPath","trans","maskRect","ALL_SPACE","maskInnerGroup","maskOuterGroup","maskId","clipId","defs","maskUnits","maskContentUnits","clip-path","transform-origin","dfp","DEFAULT_FAMILY_PREFIX","drc","DEFAULT_REPLACEMENT_CLASS","fp","rc","s","baseStyles","dPatt","rPatt","createCommonjsModule","module","exports","styleToObject","pair","humps","camelize","classToObject","combineClassObjects","_len","objs","_key","convert","mixins","attrs","_data$class","dClass","_data$style","dStyle","_data$attrs","dAttrs","remainingData","objectWithoutProperties","log","_console","objectWithKey","_classes","fa-spin","spin","fa-pulse","pulse","fa-fw","fixedWidth","fa-border","border","fa-li","listItem","fa-flip-horizontal","fa-flip-vertical","rotation","pull","normalizeIconArgs","icon$$1","_typeof","duration","transitionDuration","numeric","transition","reject","delay","instantiate","Vue","Component","_v","$modal","modal","Modal","$content","$slots","default","$mount","_vnode","on","$on","$alert","propsData","$confirm","$prompt","predicate","succeed","fail","global","factory","classTest","removeChildren","count","removeChildrenAndAdd","elt","cssText","createTextNode","eltP","activeElt","activeElement","current","joinClasses","as","f","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","nextTab","findColumn","goal","col","skipped","spaceStr","spaceStrs","lst","out","insertSorted","score","splice","nothing","createObj","base","inst","create","isWordCharBasic","nonASCIISingleCaseWordChar","isWordChar","helper","isExtendingChar","extendingChars","skipExtendingChars","findFirst","pred","midF","mid","Display","place","doc","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","lines","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","init","getLine","chunk","sz","chunkSize","getBetween","iter","text","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","i$1","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","readOnly","mk","m","j","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","display","iterateBidiSections","part","level","getBidiPartAt","bidiOther","getOrder","direction","bidiOrdering","getHandlers","emitter","_handlers","noHandlers","off","detachEvent","map$$1","signal","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","mac","ctrlKey","zeroWidthElement","zwspSupported","hasBadBidiRects","badBidiRects","txt","r0","r1","hasBadZoomedRects","badZoomedRects","normal","fromRange","abs","defineMode","mode","dependencies","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","info","startState","a1","a2","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","o","overlays","baseTokens","overlay","at","i_end","opaque","baseTokenPos","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","Context","findStartLine","saved","fromSaved","processLine","nextLine","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","takeToken","asArray","tokens","Token","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","after","SavedContext","lookAhead","indented","retreatFrontier","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","cache","styleToClassCacheWithMode","styleToClassCache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","exec","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","operationGroup","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","widgetHeight","parentStyle","eventInWidget","paddingTop","offsetTop","paddingVert","paddingH","currentStyle","scrollGap","displayWidth","displayHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","getClientRects","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","chrome","android","pageXOffset","pageScrollY","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","wrappedLineExtentChar","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","updateSelection","showSelection","prepareSelection","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","range$$1","empty","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","rightSide","drawForLine","fromArg","toArg","wrapX","extent","lineLen","fromPos","toPos","openStart","openEnd","openLeft","docLTR","openRight","leftSide","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","reset","receivedFocus","rmClass","updateHeightsInViewport","prevBottom","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","maybeScrollWindow","doScroll","phantom","scrollNode","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","scrollbarModel","scrollbarStyle","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","borderRightWidth","selectionSnapshot","hasFocus","active","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","editorIsHidden","force","visible","viewportMargin","different","wrapperHeight","toUpdate","selSnapshot","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","presto","pixels","wheelSamples","movedX","movedY","sample","normalizeSelection","mayTouch","selectionsMayTouch","prim","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","origin","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","dest","equals","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","events","newGroup","instantiateSel","copy","deepCopy","newChanges","Number","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","sel_dontScroll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markTextShared","TextMarker","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","onDrop","clearDragCursor","lastDrop","files","dataTransfer","isReadOnly","FileReader","File","read","file","allowDropFileTypes","reader","onload","lineSeparator","readAsText","draggingText","text$1","getData","selected","listSelections","replaceSelection","onDragStart","setData","effectAllowed","setDragImage","safari","img","src","_top","onDragOver","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyCode","addModifierNames","noShift","altKey","flipCtrlCmd","metaKey","shiftKey","keyName","altGraphKey","keyMap","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","onKeyDown","handled","lastStoppedKey","hasCopyEvent","showCrossHair","up","onKeyUp","onKeyPress","fromCharCode","clickRepeat","now","lastDoubleClick","compare","lastClick","PastClick","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","captureRightClick","onContextMenu","configureMouse","option","chromeOS","addNew","moveOnDrag","contained","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","extendTo","lastPos","startCol","posCol","leftPos","startSel","ourIndex","oldRange","ourRange","ranges$1","bidiSimplify","sel_mouse","curCount","editorSize","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","guttersChanged","dragDropChanged","Init","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","optionHandlers","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","word","pageX","pageY","inp","getField","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","paste","textLines","splitLinesAuto","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","te","ios","findPosH","findNextLine","moveOnce","boundToLine","origDir","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","recognizeMarker","closing","lineSep","extraLinebreak","addText","walk","cmText","markerID","isBlock","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","fromTextArea","textarea","getValue","tabindex","tabIndex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","getWrapperElement","userAgent","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","vendor","mac_geMountainLion","windows","presto_version","endNode","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","select","selectionStart","selectionEnd","ms","sel_move","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","unshift","attachEvent","nl","rt","hasSelection","compareEndPoints","oncopy","lineOracle","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","pattern","consume","caseInsensitive","cased","hideFirstChars","oracle","baseToken","maxLookAhead","NativeScrollbars","vert","horiz","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","elementFromPoint","NullScrollbars","native","null","here","there","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","gutterID","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","145","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","openLine","toggleOverwrite","defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","blur","poll","pollSelection","pollInterval","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","prepareCopyCut","createField","fastPoll","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","scrollTo","mouseup","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","dontDelegate","method","contenteditable","defineExtension","func","defineDocExtension","cmpPos","_isBuffer","self","browser","env","argv","versions","release","addListener","once","removeListener","removeAllListeners","emit","mozNow","msNow","oNow","webkitNow","getTime","normalizedName","enhanceError","validateStatus","status","createError","url","paramsSerializer","serializedParams","toISOString","JSON","stringify","ignoreDuplicateOf","parsed","resolveURL","href","msie","urlParsingNode","protocol","hostname","port","pathname","originURL","location","requestURL","write","expires","domain","secure","cookie","toGMTString","decodeURIComponent","requestData","requestHeaders","loadEvent","xDomain","XDomainRequest","isURLSameOrigin","onprogress","ontimeout","auth","username","password","Authorization","buildURL","readyState","responseURL","responseHeaders","parseHeaders","getAllResponseHeaders","responseType","responseText","statusText","settle","onerror","cookies","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","abort","send","DEFAULT_CONTENT_TYPE","Content-Type","transformRequest","normalizeHeaderName","transformResponse","parse","maxContentLength","common","Accept","use","fulfilled","rejected","eject","fns","__CANCEL__","baseURL","relativeURL","isAbsoluteURL","combineURLs","transformData","isCancel","chain","dispatchRequest","interceptor","axios","require$$2","all","promises","spread","require$$3","GUTTER_ID","LintState","defaultValue","post","$cm","$response","$errors","_WINDOW","_DOCUMENT","_MUTATION_OBSERVER$1","_PERFORMANCE","_ref$userAgent","PERFORMANCE","NAMESPACE_IDENTIFIER","oneToTen","oneToTwenty","classCallCheck","createClass","defineProperties","arr2","initial","FontAwesomeConfig","_default","keepOriginalSource","measurePerformance","functions","listener","loaded","noop$2","preamble","bindInternal4","thisContext","initialValue","styles$2","lookup","reducer","ligatures","hasRegular","oldName","newOuterHTML","outerHTML","newNode","nest","forSvg","splitClasses","toSvg","newInnerHTML","existingPrefix","existingIconName","parseTransformString","transformString","FILL","ANIMATION_BASE","attributeType","repeatCount","dur","RING","OPACITY_ANIMATE","DOT","cx","cy","QUESTION","opacity","EXCLAMATION","Solid","Regular","Light","Brands","Library","_this","additions","_pullDefinitions","definition","0","_normalized$key","noAuto","dom","i2svg","_params$node","_params$callback","_params$transform","_params$symbol","_params$mask","_params$title","_params$classes","_params$attributes","_params$styles","_params$transform2","_params$title2","_params$classes2","_params$attributes2","_params$styles2","layer","assembler","svgPathData","existingErrors","htmlConfig","autoSelfClosers","br","command","embed","frame","hr","keygen","link","meta","param","track","wbr","menuitem","implicitlyClosed","dd","li","optgroup","rp","tbody","td","tfoot","tr","contextGrabbers","dt","address","article","aside","blockquote","dl","fieldset","footer","h1","h2","h3","h4","h5","h6","header","hgroup","menu","nav","ol","section","table","ul","thead","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","inText","parser","tokenize","inBlock","doctype","inTag","baseState","tagStart","inAttribute","stringStartCol","quote","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","setStyle","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","htmlMode","isInText","baseIndent","textAfter","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","blockCommentStart","blockCommentEnd","configuration","skipAttribute","parserConfig","readRegexp","escaped","inSet","ret","tp","cont","tokenBase","tokenString","tokenComment","expressionAllowed","tokenQuasi","isOperatorChar","lexical","wordRE","lastType","keywords","propertyIsEnumerable","kw","jsonldMode","isJsonldKeyword","maybeEnd","findFatArrow","fatArrowAt","isTS","sawSomething","bracket","brackets","JSLexical","inScope","varname","localVars","vars","parseJS","cc","marked","jsonMode","expression","statement","lex","pass","inList","register","newContext","registerVarScoped","Var","globalVars","isModifier","pushcontext","defaultVars","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","atomicTypes","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","continueQuasi","targetNoComma","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","sep","proceed","mayberettype","isKW","afterType","typeprop","typearg","maybeReturnType","functiondecl","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","statementIndent","jsonld","json","typescript","wordCharacters","A","B","C","D","operator","atom","if","while","with","else","do","try","finally","return","break","continue","new","delete","void","throw","debugger","var","const","let","function","catch","for","switch","case","in","typeof","instanceof","true","false","super","yield","export","import","extends","await","number","variable","regexp","jsonld-keyword","basecolumn","firstChar","doubleIndentSwitch","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","keySet","tokenCComment","tokenHooks","tokenParenthesized","pushContext","states","popAndPass","wordAsValue","valueKeywords","colorKeywords","inline","propertyKeywords","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","allowNested","supportsAtComponent","stateArg","maybeprop","propBlock","parens","pseudo","atBlock","atComponentBlock","atBlock_parens","restricted_atBlock_before","restricted_atBlock","keyframes","interpolation","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","/",":","$","#","@","&","maybeBackup","pat","getAttrRegexp","attrRegexpCache","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","defaultTags","script","htmlState","tags","endTagA","endTag","localState","localMode","configTags","configScript","scriptTypes","matches","local","Iter","tagAt","prevLine","toTagEnd","gt","lastSlash","lastIndexOf","selfClose","toTagStart","lt","xmlTagStart","toNextTag","toPrevTag","findMatchingClose","startLine","findMatchingOpen","endLine","nameStartChar","openTag","startPos","endPos","findEnclosingTag","scanForClosingTag","tagHit","tagOther","doMatchTags","failedTagMatch","matchBothTags","hit","maybeUpdateMatch","bothTags","toMatchingTag","conf","ensureBound","handler","handleChar","getConfig","handleBackspace","pairs","around","charsAround","handleEnter","explode","linesep","contractSelection","inverted","triples","identical","opening","curType","stringStartsAfter","doFold","allowFolded","finder","minSize","marks","__isFold","cleared","myWidget","makeWidget","myRange","editorOptions","foldOptions","defaultOptions","newFoldFunction","rangeFinder","toggleFold","foldCode","unfold","foldAll","unfoldAll","minFoldSize","scanUp","State","parseOptions","opts","indicatorOpen","indicatorFolded","isFolded","updateFoldInfo","foldGutter","foldOption","updateInViewport","vp","onGutterClick","folded","onChange","changeUpdate","foldOnChangeTimeSpan","onViewportChange","updateViewportTimeSpan","onFold","findOpening","openCh","lineText","tokenType","startToken","endToken","nextOpen","nextClose","hasImport","semi","has","hasInclude","lineIndent","spaceTo","myIndent","lastLineInFold","isHeader","tokentype","headerLevel","maxDepth","lastLineNo","nextNextLine","Completion","debounce","tick","startLen","activityFunc","editor","hintOptions","getText","completion","buildKeyMap","addBinding","baseMap","ourMap","moveFocus","menuSize","setFocus","pick","custom","customKeys","getHintElement","hintsElement","Widget","picked","parentWindow","hints","selectedHint","completions","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","hintId","alignWithWord","below","winW","winH","overlapY","scrolls","startScroll","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","closingOnBlur","onScroll","curScroll","point","t","completeOnSingleClick","applicableHelpers","supportsSelection","fetchHints","async","resolveAutoHints","words","resolved","app","fromList","anyword","showHint","getHints","newOpts","selections","completionActive","closeCharacters","disable","myTick","finishUpdate","completeSingle","term","autocomplete","schemaInfo","quoteChar","replaceToken","tagType","curTag","globalAttrs","nm","atValues","atName","populate","htmlHint","xml","langs","targets","charsets","methods","encs","media","ping","hreflang","abbr","acronym","applet","shape","audio","mediagroup","crossorigin","preload","autoplay","loop","controls","basefont","bdi","bdo","big","cite","formaction","formenctype","formmethod","formnovalidate","formtarget","canvas","caption","colgroup","label","radiogroup","checked","datagrid","multiple","datalist","del","datetime","details","dfn","em","eventsource","figcaption","figure","font","action","accept-charset","enctype","novalidate","frameset","manifest","iframe","srcdoc","sandbox","seamless","ismap","usemap","dirname","maxlength","accept","readonly","required","ins","kbd","challenge","keytype","legend","charset","http-equiv","meter","low","high","optimum","noframes","noscript","typemustmatch","reversed","progress","q","ruby","samp","defer","small","strike","strong","scoped","summary","sup","colspan","rowspan","rows","cols","scope","kind","srclang","tt","u","video","poster","muted","accesskey","contextmenu","dropzone","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","translate","onclick","htmlSchema","DiffView","connect","ensureDiff","dv","diffOutOfDate","getDiff","orig","edit","ignoreWhitespace","chunks","getChunks","registerUpdate","updating","updatingFast","svg","copyButtons","clearMarks","showDifferences","updateMarks","DIFF_INSERT","DIFF_DELETE","alignChunks","makeConnections","needsScrollSync","syncScroll","setDealign","fast","dealigned","debounceChange","_cm","trackAlignable","registerScroll","otherDv","toOrig","lockScroll","scrollSetBy","scrollSetAt","sInfo","targetPos","botDist","mix","halfScreen","midY","chunkBoundariesAround","getOffsets","offOther","ratio","otherInfo","setScrollLock","lockButton","locs","classLocation","markChanges","lineNr","markChunk","bfrom","bto","chunkStart","pending","DIFF_EQUAL","cleanFrom","startOfLineClean","moveOver","cleanTo","endOfLineClean","posMax","posMin","posEq","vpEdit","vpOrig","outerTop","sTopEdit","sTopOrig","editFrom","editTo","origFrom","origTo","drawConnectorsForChunk","getMatchingOrigLine","editLine","editStart","origStart","alignableFor","isOrig","tracker","trackI","mergeAlignable","origAlignable","setIndex","rI","origI","chunkI","nextR","nextO","rLine","oLine","record","findAlignedLines","linesToAlign","aligners","ln","alignLines","maxOffset","padAbove","mergeSpacer","topLpx","topRpx","tmp","botLpx","botRpx","createElementNS","svgNS","editOriginals","allowEditingOriginals","topReverse","copyReverse","copyChunk","origEnd","editEnd","revertChunk","buildGap","lock","lockWrap","gapElts","revertButtons","createSVGRect","asString","dmp","diff_match_patch","diff_main","startEdit","startOrig","startOff","cleanFromEdit","cleanFromOrig","endOff","cleanToEdit","cleanToOrig","nInEdit","beforeE","afterE","beforeO","afterO","fromLocal","toLocal","collapseSingle","collapseStretch","unclearNearChunks","collapseIdenticalStretches","onCollapse","TrackAlignable","F_MARKER","_min","hasMarker","F_WIDGET_BELOW","F_WIDGET","hasWidgetBelow","hasWidget","nBefore","nAfter","findPrevDiff","findNextDiff","goNearbyDiff","views","diffViews","pane","chunkClassLocation","registerEvents","setShowDifferences","MergeView","origLeft","origRight","hasLeft","hasRight","panes","leftPane","editPane","rightPane","wrapElt","collapseIdentical","resizeInterval","rightOriginal","leftOriginal","rightChunks","leftChunks","flags","flag","widgetFrom","widgetTo","goNextDiff","goPrevDiff","computed","$attrs","arg","focusClass","changedClass","customPrefix","inheritAttrs","Colorable","MergeClasses","activity","Boolean","feedback","bindEvents","defaultControlClass","hideLabel","invalid","valid","spacing","validate","helpText","directives","changedValue","$watch","$emit","controlClasses","customControlClass","plaintext","controlClass","mergeClasses","has-activity","is-valid","validFeedback","is-invalid","invalidFeedback","colorableClasses","controlSizeClass","getFieldErrors","variant","variantClassPrefix","sizeableClassPrefix","isBrowser","longerTimeoutBrowsers","supportsMicroTasks","MSInputMethodContext","placements","onLoad","Defaults","Popper","jquery","Utils","PopperUtils","commonjsGlobal","_processKeys","_isObject","_isDate","_isRegExp","_isBoolean","_isFunction","_isArray","separateWords","separator","_isNumerical","chr","pascalize","camelized","decamelize","_processor","depascalize","camelizeKeys","decamelizeKeys","pascalizeKeys","depascalizeKeys","FontAwesomeIcon","validator","iconArgs","maskArgs","renderedIcon","srOnly","srOnlyFocusable","sr-only","sr-only-focusable","animation","show","defaut","Element","trigger","initializeTrigger","$nextTick","isShowing","isDisplaying","fade","watch","initializeTriggers","component","Editor","EditorField","EditorHotkey","EditorToolbar","EditorToolbarMenuItem"],"mappings":"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"}