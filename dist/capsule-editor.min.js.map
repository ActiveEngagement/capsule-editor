{"version":3,"file":"capsule-editor.min.js","sources":["../node_modules/is-buffer/index.js","../node_modules/axios/lib/utils.js","../node_modules/process-es6/browser.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/btoa.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/vue-interface/src/Helpers/Functions/extend.js","../node_modules/vue-interface/src/Helpers/Functions/isNull.js","../node_modules/vue-interface/src/Helpers/Functions/isArray.js","../node_modules/vue-interface/src/Helpers/Functions/isObject.js","../node_modules/vue-interface/src/Helpers/Functions/deepExtend.js","../node_modules/vue-interface/src/Helpers/Functions/isNumber.js","../node_modules/vue-interface/src/Helpers/Functions/isNumeric.js","../node_modules/vue-interface/src/Helpers/Functions/key.js","../node_modules/vue-interface/src/Helpers/Functions/each.js","../node_modules/vue-interface/src/Helpers/Functions/isString.js","../node_modules/vue-interface/src/Helpers/Functions/isFunction.js","../node_modules/vue-interface/src/Helpers/Functions/isBoolean.js","../node_modules/vue-interface/src/Helpers/Functions/isUndefined.js","../node_modules/vue-interface/src/Helpers/Functions/isEmpty.js","../node_modules/vue-interface/src/Helpers/Functions/kebabCase.js","../node_modules/vue-interface/src/Helpers/Functions/mapKeys.js","../node_modules/@fortawesome/fontawesome/index.es.js","../src/LintAddon.js","../node_modules/vue-interface/src/Helpers/Prefix/Prefix.js","../node_modules/vue-interface/src/Mixins/FormControl/FormControl.js","../node_modules/vue-runtime-helpers/normalize-component.js","../node_modules/vue-interface/src/Helpers/Unit/Unit.js","../node_modules/vue-interface/src/Helpers/Uuid/Uuid.js","../node_modules/popper.js/dist/esm/popper.js","../node_modules/@fortawesome/fontawesome-svg-core/index.es.js","../node_modules/@fortawesome/vue-fontawesome/index.es.js","../node_modules/vue-interface/src/Helpers/Transition/Transition.js","../node_modules/vue-interface/src/Helpers/Instantiate/Instantiate.js","../node_modules/vue-interface/src/Plugins/Modal/Modal.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/index.js","../src/LintState.js","../node_modules/@fortawesome/free-solid-svg-icons/faBug.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/javascript/javascript.js","../node_modules/codemirror/mode/css/css.js","../node_modules/codemirror/mode/htmlmixed/htmlmixed.js","../node_modules/codemirror/addon/fold/xml-fold.js","../node_modules/codemirror/addon/edit/matchtags.js","../node_modules/codemirror/addon/edit/closebrackets.js","../node_modules/codemirror/addon/fold/foldcode.js","../node_modules/codemirror/addon/fold/foldgutter.js","../node_modules/codemirror/addon/fold/brace-fold.js","../node_modules/codemirror/addon/fold/indent-fold.js","../node_modules/codemirror/addon/fold/markdown-fold.js","../node_modules/codemirror/addon/fold/comment-fold.js","../node_modules/codemirror/addon/hint/show-hint.js","../node_modules/codemirror/addon/hint/xml-hint.js","../node_modules/codemirror/addon/hint/html-hint.js","../node_modules/codemirror/addon/merge/merge.js","../node_modules/vue-interface/src/Mixins/Colorable/Colorable.js","../node_modules/vue-interface/src/Mixins/MergeClasses/MergeClasses.js","../src/EditorField.vue","../src/Icons/alt.js","../src/Icons/ctrl.js","../src/Icons/shift.js","../node_modules/vue-interface/src/Mixins/Variant/Variant.js","../node_modules/vue-interface/src/Components/Badge/Badge.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarBrand.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarCollapse.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarText.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarTogglerIcon.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarToggler.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationError.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationItem.vue","../node_modules/vue-interface/src/Components/Navigation/Navigation.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuItem.vue","../node_modules/vue-interface/src/Mixins/Proxy/Proxy.js","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuHeader.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenuDivider.vue","../node_modules/vue-interface/src/Components/DropdownMenu/DropdownMenu.vue","../node_modules/vue-interface/src/Mixins/Sizeable/Sizeable.js","../node_modules/vue-interface/src/Components/Btn/Btn.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnGroup.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnGroupToggle.vue","../node_modules/vue-interface/src/Components/BtnGroup/BtnToolbar.vue","../node_modules/vue-interface/src/Components/BtnDropdown/BtnDropdown.vue","../node_modules/vue-interface/src/Components/Navigation/NavigationDropdown.vue","../node_modules/vue-interface/src/Components/Navbar/NavbarNav.vue","../src/EditorHotkey.vue","../src/EditorToolbarMenuItem.vue","../node_modules/@fortawesome/free-solid-svg-icons/faCog.js","../node_modules/vue-interface/src/Components/ActivityIndicator/Types/BaseType.vue","../node_modules/vue-interface/src/Components/ActivityIndicator/ActivityIndicator.vue","../node_modules/vue-interface/src/Components/BtnActivity/BtnActivity.vue","../src/EditorToolbar.vue","../node_modules/vue-interface/src/Mixins/Screenreaders/Screenreaders.js","../node_modules/vue-interface/src/Components/HelpText/HelpText.vue","../node_modules/vue-interface/src/Components/FormGroup/FormGroup.vue","../node_modules/vue-interface/src/Components/FormLabel/FormLabel.vue","../node_modules/vue-interface/src/Components/FormControl/FormControl.vue","../node_modules/vue-interface/src/Components/FormFeedback/FormFeedback.vue","../src/Editor.vue","../node_modules/vue-interface/src/Components/Modal/ModalBody.vue","../node_modules/vue-interface/src/Components/Modal/ModalDialog.vue","../node_modules/vue-interface/src/Components/Modal/ModalTitle.vue","../node_modules/vue-interface/src/Components/Modal/ModalFooter.vue","../node_modules/vue-interface/src/Components/Modal/ModalContent.vue","../node_modules/vue-interface/src/Components/Modal/ModalBackdrop.vue","../node_modules/vue-interface/src/Mixins/Triggerable/Triggerable.js","../src/main.js"],"sourcesContent":["/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","export default function extend(...args) {\n    return Object.assign(...args);\n}\n","export default function isNull(value) {\n    return value === null;\n}\n","export default function isArray(value) {\n    return Array.isArray(value);\n}\n","import isNull from './isNull';\nimport isArray from './isArray';\n\nexport default function isObject(value) {\n    return (typeof value === 'object') && !isNull(value) && !isArray(value);\n}\n","import extend from './extend';\nimport isObject from './isObject';\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n*/\nexport default function deepExtend(target, ...sources) {\n    if(!sources.length) return target;\n\n    const source = sources.shift();\n\n    if(isObject(target) && isObject(source)) {\n        for(const key in source) {\n            if(isObject(source[key])) {\n                if(!target[key]) extend(target, { [key]: {} });\n                deepExtend(target[key], source[key]);\n            }\n            else {\n                extend(target, { [key]: source[key] });\n            }\n        }\n    }\n\n    return deepExtend(target, ...sources);\n}\n","export default function isNumber(value) {\n    return (typeof value === 'number') || (\n        value ? value.toString() === '[object Number]' : false\n    );\n}\n","import isArray from './isArray';\nimport isNumber from './isNumber';\n\nexport default function isNumeric(value) {\n    return isNumber(value) || (\n        !!value && !isArray(value) && !!value.toString().match(/^-?[\\d.,]+$/)\n    );\n}\n","import isNumeric from './isNumeric';\n\nexport default function key(value) {\n    return isNumeric(value) ? parseFloat(value) : value;\n}\n","import key from './key';\n\nexport default function each(subject, fn) {\n    for(const i in subject) {\n        fn(subject[i], key(i));\n    }\n}\n","export default function isString(value) {\n    return typeof value === 'string';\n}\n","export default function isFunction(value) {\n    return value instanceof Function;\n}\n","export default function isBoolean(value) {\n    return value === true || value === false;\n}\n","export default function isUndefined(value) {\n    return typeof value === 'undefined';\n}\n","import isNull from './isNull';\nimport isArray from './isArray';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\n\nexport default function isEmpty(value) {\n    if(isArray(value)) {\n        return value.length === 0;\n    }\n    else if(isObject(value)) {\n        return Object.keys(value).length === 0;\n    }\n\n    return value === '' || isNull(value) || isUndefined(value);\n}\n","export default function kebabCase(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2')\n        .replace(/\\s+/g, '-')\n        .replace(/_/g, '-')\n        .toLowerCase();\n}\n","import each from './each';\n\nexport default function mapKeys(object, fn) {\n    const mapped = {};\n\n    each(object, (value, key) => {\n        mapped[fn(value, key)] = value;\n    });\n\n    return mapped;\n}\n","/*!\n * Font Awesome Free 5.0.13 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\nvar noop = function noop() {};\n\nvar _WINDOW = {};\nvar _DOCUMENT = {};\nvar _MUTATION_OBSERVER$1 = null;\nvar _PERFORMANCE = { mark: noop, measure: noop };\n\ntry {\n  if (typeof window !== 'undefined') _WINDOW = window;\n  if (typeof document !== 'undefined') _DOCUMENT = document;\n  if (typeof MutationObserver !== 'undefined') _MUTATION_OBSERVER$1 = MutationObserver;\n  if (typeof performance !== 'undefined') _PERFORMANCE = performance;\n} catch (e) {}\n\nvar _ref = _WINDOW.navigator || {};\nvar _ref$userAgent = _ref.userAgent;\nvar userAgent = _ref$userAgent === undefined ? '' : _ref$userAgent;\n\nvar WINDOW = _WINDOW;\nvar DOCUMENT = _DOCUMENT;\nvar MUTATION_OBSERVER = _MUTATION_OBSERVER$1;\nvar PERFORMANCE = _PERFORMANCE;\nvar IS_BROWSER = !!WINDOW.document;\nvar IS_DOM = !!DOCUMENT.documentElement && !!DOCUMENT.head && typeof DOCUMENT.addEventListener === 'function' && typeof DOCUMENT.createElement === 'function';\nvar IS_IE = ~userAgent.indexOf('MSIE') || ~userAgent.indexOf('Trident/');\n\nvar NAMESPACE_IDENTIFIER = '___FONT_AWESOME___';\nvar UNITS_IN_GRID = 16;\nvar DEFAULT_FAMILY_PREFIX = 'fa';\nvar DEFAULT_REPLACEMENT_CLASS = 'svg-inline--fa';\nvar DATA_FA_I2SVG = 'data-fa-i2svg';\nvar DATA_FA_PSEUDO_ELEMENT = 'data-fa-pseudo-element';\nvar HTML_CLASS_I2SVG_BASE_CLASS = 'fontawesome-i2svg';\n\nvar PRODUCTION = function () {\n  try {\n    return process.env.NODE_ENV === 'production';\n  } catch (e) {\n    return false;\n  }\n}();\n\nvar oneToTen = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar oneToTwenty = oneToTen.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\n\nvar ATTRIBUTES_WATCHED_FOR_MUTATION = ['class', 'data-prefix', 'data-icon', 'data-fa-transform', 'data-fa-mask'];\n\nvar RESERVED_CLASSES = ['xs', 'sm', 'lg', 'fw', 'ul', 'li', 'border', 'pull-left', 'pull-right', 'spin', 'pulse', 'rotate-90', 'rotate-180', 'rotate-270', 'flip-horizontal', 'flip-vertical', 'stack', 'stack-1x', 'stack-2x', 'inverse', 'layers', 'layers-text', 'layers-counter'].concat(oneToTen.map(function (n) {\n  return n + 'x';\n})).concat(oneToTwenty.map(function (n) {\n  return 'w-' + n;\n}));\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar initial = WINDOW.FontAwesomeConfig || {};\nvar initialKeys = Object.keys(initial);\n\nvar _default = _extends({\n  familyPrefix: DEFAULT_FAMILY_PREFIX,\n  replacementClass: DEFAULT_REPLACEMENT_CLASS,\n  autoReplaceSvg: true,\n  autoAddCss: true,\n  autoA11y: true,\n  searchPseudoElements: false,\n  observeMutations: true,\n  keepOriginalSource: true,\n  measurePerformance: false,\n  showMissingIcons: true\n}, initial);\n\nif (!_default.autoReplaceSvg) _default.observeMutations = false;\n\nvar config$1 = _extends({}, _default);\n\nWINDOW.FontAwesomeConfig = config$1;\n\nfunction update(newConfig) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$asNewDefault = params.asNewDefault,\n      asNewDefault = _params$asNewDefault === undefined ? false : _params$asNewDefault;\n\n  var validKeys = Object.keys(config$1);\n  var ok = asNewDefault ? function (k) {\n    return ~validKeys.indexOf(k) && !~initialKeys.indexOf(k);\n  } : function (k) {\n    return ~validKeys.indexOf(k);\n  };\n\n  Object.keys(newConfig).forEach(function (configKey) {\n    if (ok(configKey)) config$1[configKey] = newConfig[configKey];\n  });\n}\n\nfunction auto(value) {\n  update({\n    autoReplaceSvg: value,\n    observeMutations: value\n  });\n}\n\nvar w = WINDOW || {};\n\nif (!w[NAMESPACE_IDENTIFIER]) w[NAMESPACE_IDENTIFIER] = {};\nif (!w[NAMESPACE_IDENTIFIER].styles) w[NAMESPACE_IDENTIFIER].styles = {};\nif (!w[NAMESPACE_IDENTIFIER].hooks) w[NAMESPACE_IDENTIFIER].hooks = {};\nif (!w[NAMESPACE_IDENTIFIER].shims) w[NAMESPACE_IDENTIFIER].shims = [];\n\nvar namespace = w[NAMESPACE_IDENTIFIER];\n\nvar functions = [];\nvar listener = function listener() {\n  DOCUMENT.removeEventListener('DOMContentLoaded', listener);\n  loaded = 1;\n  functions.map(function (fn) {\n    return fn();\n  });\n};\n\nvar loaded = false;\n\nif (IS_DOM) {\n  loaded = (DOCUMENT.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(DOCUMENT.readyState);\n\n  if (!loaded) DOCUMENT.addEventListener('DOMContentLoaded', listener);\n}\n\nvar domready = function (fn) {\n  if (!IS_DOM) return;\n  loaded ? setTimeout(fn, 0) : functions.push(fn);\n};\n\nvar d = UNITS_IN_GRID;\n\nvar meaninglessTransform = {\n  size: 16,\n  x: 0,\n  y: 0,\n  rotate: 0,\n  flipX: false,\n  flipY: false\n};\n\nfunction isReserved(name) {\n  return ~RESERVED_CLASSES.indexOf(name);\n}\n\nfunction bunker(fn) {\n  try {\n    fn();\n  } catch (e) {\n    if (!PRODUCTION) {\n      throw e;\n    }\n  }\n}\n\nfunction insertCss(css) {\n  if (!css || !IS_DOM) {\n    return;\n  }\n\n  var style = DOCUMENT.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n\n  var headChildren = DOCUMENT.head.childNodes;\n  var beforeChild = null;\n\n  for (var i = headChildren.length - 1; i > -1; i--) {\n    var child = headChildren[i];\n    var tagName = (child.tagName || '').toUpperCase();\n    if (['STYLE', 'LINK'].indexOf(tagName) > -1) {\n      beforeChild = child;\n    }\n  }\n\n  DOCUMENT.head.insertBefore(style, beforeChild);\n\n  return css;\n}\n\nvar _uniqueId = 0;\n\nfunction nextUniqueId() {\n  _uniqueId++;\n\n  return _uniqueId;\n}\n\nfunction toArray(obj) {\n  var array = [];\n\n  for (var i = (obj || []).length >>> 0; i--;) {\n    array[i] = obj[i];\n  }\n\n  return array;\n}\n\nfunction classArray(node) {\n  if (node.classList) {\n    return toArray(node.classList);\n  } else {\n    return (node.getAttribute('class') || '').split(' ').filter(function (i) {\n      return i;\n    });\n  }\n}\n\nfunction getIconName(familyPrefix, cls) {\n  var parts = cls.split('-');\n  var prefix = parts[0];\n  var iconName = parts.slice(1).join('-');\n\n  if (prefix === familyPrefix && iconName !== '' && !isReserved(iconName)) {\n    return iconName;\n  } else {\n    return null;\n  }\n}\n\nfunction htmlEscape(str) {\n  return ('' + str).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nfunction joinAttributes(attributes) {\n  return Object.keys(attributes || {}).reduce(function (acc, attributeName) {\n    return acc + (attributeName + '=\"' + htmlEscape(attributes[attributeName]) + '\" ');\n  }, '').trim();\n}\n\nfunction joinStyles(styles) {\n  return Object.keys(styles || {}).reduce(function (acc, styleName) {\n    return acc + (styleName + ': ' + styles[styleName] + ';');\n  }, '');\n}\n\nfunction transformIsMeaningful(transform) {\n  return transform.size !== meaninglessTransform.size || transform.x !== meaninglessTransform.x || transform.y !== meaninglessTransform.y || transform.rotate !== meaninglessTransform.rotate || transform.flipX || transform.flipY;\n}\n\nfunction transformForSvg(_ref) {\n  var transform = _ref.transform,\n      containerWidth = _ref.containerWidth,\n      iconWidth = _ref.iconWidth;\n\n  var outer = {\n    transform: 'translate(' + containerWidth / 2 + ' 256)'\n  };\n  var innerTranslate = 'translate(' + transform.x * 32 + ', ' + transform.y * 32 + ') ';\n  var innerScale = 'scale(' + transform.size / 16 * (transform.flipX ? -1 : 1) + ', ' + transform.size / 16 * (transform.flipY ? -1 : 1) + ') ';\n  var innerRotate = 'rotate(' + transform.rotate + ' 0 0)';\n  var inner = {\n    transform: innerTranslate + ' ' + innerScale + ' ' + innerRotate\n  };\n  var path = {\n    transform: 'translate(' + iconWidth / 2 * -1 + ' -256)'\n  };\n  return {\n    outer: outer,\n    inner: inner,\n    path: path\n  };\n}\n\nfunction transformForCss(_ref2) {\n  var transform = _ref2.transform,\n      _ref2$width = _ref2.width,\n      width = _ref2$width === undefined ? UNITS_IN_GRID : _ref2$width,\n      _ref2$height = _ref2.height,\n      height = _ref2$height === undefined ? UNITS_IN_GRID : _ref2$height,\n      _ref2$startCentered = _ref2.startCentered,\n      startCentered = _ref2$startCentered === undefined ? false : _ref2$startCentered;\n\n  var val = '';\n\n  if (startCentered && IS_IE) {\n    val += 'translate(' + (transform.x / d - width / 2) + 'em, ' + (transform.y / d - height / 2) + 'em) ';\n  } else if (startCentered) {\n    val += 'translate(calc(-50% + ' + transform.x / d + 'em), calc(-50% + ' + transform.y / d + 'em)) ';\n  } else {\n    val += 'translate(' + transform.x / d + 'em, ' + transform.y / d + 'em) ';\n  }\n\n  val += 'scale(' + transform.size / d * (transform.flipX ? -1 : 1) + ', ' + transform.size / d * (transform.flipY ? -1 : 1) + ') ';\n  val += 'rotate(' + transform.rotate + 'deg) ';\n\n  return val;\n}\n\nvar ALL_SPACE = {\n  x: 0,\n  y: 0,\n  width: '100%',\n  height: '100%'\n};\n\nvar makeIconMasking = function (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      mask = _ref.mask,\n      transform = _ref.transform;\n  var mainWidth = main.width,\n      mainPath = main.icon;\n  var maskWidth = mask.width,\n      maskPath = mask.icon;\n\n\n  var trans = transformForSvg({ transform: transform, containerWidth: maskWidth, iconWidth: mainWidth });\n\n  var maskRect = {\n    tag: 'rect',\n    attributes: _extends({}, ALL_SPACE, {\n      fill: 'white'\n    })\n  };\n  var maskInnerGroup = {\n    tag: 'g',\n    attributes: _extends({}, trans.inner),\n    children: [{ tag: 'path', attributes: _extends({}, mainPath.attributes, trans.path, { fill: 'black' }) }]\n  };\n  var maskOuterGroup = {\n    tag: 'g',\n    attributes: _extends({}, trans.outer),\n    children: [maskInnerGroup]\n  };\n  var maskId = 'mask-' + nextUniqueId();\n  var clipId = 'clip-' + nextUniqueId();\n  var maskTag = {\n    tag: 'mask',\n    attributes: _extends({}, ALL_SPACE, {\n      id: maskId,\n      maskUnits: 'userSpaceOnUse',\n      maskContentUnits: 'userSpaceOnUse'\n    }),\n    children: [maskRect, maskOuterGroup]\n  };\n  var defs = {\n    tag: 'defs',\n    children: [{ tag: 'clipPath', attributes: { id: clipId }, children: [maskPath] }, maskTag]\n  };\n\n  children.push(defs, { tag: 'rect', attributes: _extends({ fill: 'currentColor', 'clip-path': 'url(#' + clipId + ')', mask: 'url(#' + maskId + ')' }, ALL_SPACE) });\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n};\n\nvar makeIconStandard = function (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      transform = _ref.transform,\n      styles = _ref.styles;\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  if (transformIsMeaningful(transform)) {\n    var trans = transformForSvg({ transform: transform, containerWidth: main.width, iconWidth: main.width });\n    children.push({\n      tag: 'g',\n      attributes: _extends({}, trans.outer),\n      children: [{\n        tag: 'g',\n        attributes: _extends({}, trans.inner),\n        children: [{\n          tag: main.icon.tag,\n          children: main.icon.children,\n          attributes: _extends({}, main.icon.attributes, trans.path)\n        }]\n      }]\n    });\n  } else {\n    children.push(main.icon);\n  }\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n};\n\nvar asIcon = function (_ref) {\n  var children = _ref.children,\n      main = _ref.main,\n      mask = _ref.mask,\n      attributes = _ref.attributes,\n      styles = _ref.styles,\n      transform = _ref.transform;\n\n  if (transformIsMeaningful(transform) && main.found && !mask.found) {\n    var width = main.width,\n        height = main.height;\n\n    var offset = {\n      x: width / height / 2,\n      y: 0.5\n    };\n    attributes['style'] = joinStyles(_extends({}, styles, {\n      'transform-origin': offset.x + transform.x / 16 + 'em ' + (offset.y + transform.y / 16) + 'em'\n    }));\n  }\n\n  return [{\n    tag: 'svg',\n    attributes: attributes,\n    children: children\n  }];\n};\n\nvar asSymbol = function (_ref) {\n  var prefix = _ref.prefix,\n      iconName = _ref.iconName,\n      children = _ref.children,\n      attributes = _ref.attributes,\n      symbol = _ref.symbol;\n\n  var id = symbol === true ? prefix + '-' + config$1.familyPrefix + '-' + iconName : symbol;\n\n  return [{\n    tag: 'svg',\n    attributes: {\n      style: 'display: none;'\n    },\n    children: [{\n      tag: 'symbol',\n      attributes: _extends({}, attributes, { id: id }),\n      children: children\n    }]\n  }];\n};\n\nfunction makeInlineSvgAbstract(params) {\n  var _params$icons = params.icons,\n      main = _params$icons.main,\n      mask = _params$icons.mask,\n      prefix = params.prefix,\n      iconName = params.iconName,\n      transform = params.transform,\n      symbol = params.symbol,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable = params.watchable,\n      watchable = _params$watchable === undefined ? false : _params$watchable;\n\n  var _ref = mask.found ? mask : main,\n      width = _ref.width,\n      height = _ref.height;\n\n  var widthClass = 'fa-w-' + Math.ceil(width / height * 16);\n  var attrClass = [config$1.replacementClass, iconName ? config$1.familyPrefix + '-' + iconName : '', widthClass].concat(extra.classes).join(' ');\n\n  var content = {\n    children: [],\n    attributes: _extends({}, extra.attributes, {\n      'data-prefix': prefix,\n      'data-icon': iconName,\n      'class': attrClass,\n      'role': 'img',\n      'xmlns': 'http://www.w3.org/2000/svg',\n      'viewBox': '0 0 ' + width + ' ' + height\n    })\n  };\n\n  if (watchable) {\n    content.attributes[DATA_FA_I2SVG] = '';\n  }\n\n  if (title) content.children.push({ tag: 'title', attributes: { id: content.attributes['aria-labelledby'] || 'title-' + nextUniqueId() }, children: [title] });\n\n  var args = _extends({}, content, {\n    prefix: prefix,\n    iconName: iconName,\n    main: main,\n    mask: mask,\n    transform: transform,\n    symbol: symbol,\n    styles: extra.styles\n  });\n\n  var _ref2 = mask.found && main.found ? makeIconMasking(args) : makeIconStandard(args),\n      children = _ref2.children,\n      attributes = _ref2.attributes;\n\n  args.children = children;\n  args.attributes = attributes;\n\n  if (symbol) {\n    return asSymbol(args);\n  } else {\n    return asIcon(args);\n  }\n}\n\nfunction makeLayersTextAbstract(params) {\n  var content = params.content,\n      width = params.width,\n      height = params.height,\n      transform = params.transform,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable2 = params.watchable,\n      watchable = _params$watchable2 === undefined ? false : _params$watchable2;\n\n\n  var attributes = _extends({}, extra.attributes, title ? { 'title': title } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  if (watchable) {\n    attributes[DATA_FA_I2SVG] = '';\n  }\n\n  var styles = _extends({}, extra.styles);\n\n  if (transformIsMeaningful(transform)) {\n    styles['transform'] = transformForCss({ transform: transform, startCentered: true, width: width, height: height });\n    styles['-webkit-transform'] = styles['transform'];\n  }\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({ tag: 'span', attributes: { class: 'sr-only' }, children: [title] });\n  }\n\n  return val;\n}\n\nvar noop$2 = function noop() {};\nvar p = config$1.measurePerformance && PERFORMANCE && PERFORMANCE.mark && PERFORMANCE.measure ? PERFORMANCE : { mark: noop$2, measure: noop$2 };\nvar preamble = 'FA \"5.0.13\"';\n\nvar begin = function begin(name) {\n  p.mark(preamble + ' ' + name + ' begins');\n  return function () {\n    return end(name);\n  };\n};\n\nvar end = function end(name) {\n  p.mark(preamble + ' ' + name + ' ends');\n  p.measure(preamble + ' ' + name, preamble + ' ' + name + ' begins', preamble + ' ' + name + ' ends');\n};\n\nvar perf = { begin: begin, end: end };\n\n'use strict';\n\n/**\n * Internal helper to bind a function known to have 4 arguments\n * to a given context.\n */\nvar bindInternal4 = function bindInternal4 (func, thisContext) {\n  return function (a, b, c, d) {\n    return func.call(thisContext, a, b, c, d);\n  };\n};\n\n'use strict';\n\n\n\n/**\n * # Reduce\n *\n * A fast object `.reduce()` implementation.\n *\n * @param  {Object}   subject      The object to reduce over.\n * @param  {Function} fn           The reducer function.\n * @param  {mixed}    initialValue The initial value for the reducer, defaults to subject[0].\n * @param  {Object}   thisContext  The context for the reducer.\n * @return {mixed}                 The final result.\n */\nvar reduce = function fastReduceObject (subject, fn, initialValue, thisContext) {\n  var keys = Object.keys(subject),\n      length = keys.length,\n      iterator = thisContext !== undefined ? bindInternal4(fn, thisContext) : fn,\n      i, key, result;\n\n  if (initialValue === undefined) {\n    i = 1;\n    result = subject[keys[0]];\n  }\n  else {\n    i = 0;\n    result = initialValue;\n  }\n\n  for (; i < length; i++) {\n    key = keys[i];\n    result = iterator(result, subject[key], key, subject);\n  }\n\n  return result;\n};\n\nvar styles$2 = namespace.styles;\nvar shims = namespace.shims;\n\n\nvar _byUnicode = {};\nvar _byLigature = {};\nvar _byOldName = {};\n\nvar build = function build() {\n  var lookup = function lookup(reducer) {\n    return reduce(styles$2, function (o, style, prefix) {\n      o[prefix] = reduce(style, reducer, {});\n      return o;\n    }, {});\n  };\n\n  _byUnicode = lookup(function (acc, icon, iconName) {\n    acc[icon[3]] = iconName;\n\n    return acc;\n  });\n\n  _byLigature = lookup(function (acc, icon, iconName) {\n    var ligatures = icon[2];\n\n    acc[iconName] = iconName;\n\n    ligatures.forEach(function (ligature) {\n      acc[ligature] = iconName;\n    });\n\n    return acc;\n  });\n\n  var hasRegular = 'far' in styles$2;\n\n  _byOldName = reduce(shims, function (acc, shim) {\n    var oldName = shim[0];\n    var prefix = shim[1];\n    var iconName = shim[2];\n\n    if (prefix === 'far' && !hasRegular) {\n      prefix = 'fas';\n    }\n\n    acc[oldName] = { prefix: prefix, iconName: iconName };\n\n    return acc;\n  }, {});\n};\n\nbuild();\n\nfunction byUnicode(prefix, unicode) {\n  return _byUnicode[prefix][unicode];\n}\n\nfunction byLigature(prefix, ligature) {\n  return _byLigature[prefix][ligature];\n}\n\nfunction byOldName(name) {\n  return _byOldName[name] || { prefix: null, iconName: null };\n}\n\nvar styles$1 = namespace.styles;\n\n\nvar emptyCanonicalIcon = function emptyCanonicalIcon() {\n  return { prefix: null, iconName: null, rest: [] };\n};\n\nfunction getCanonicalIcon(values) {\n  return values.reduce(function (acc, cls) {\n    var iconName = getIconName(config$1.familyPrefix, cls);\n\n    if (styles$1[cls]) {\n      acc.prefix = cls;\n    } else if (iconName) {\n      var shim = acc.prefix === 'fa' ? byOldName(iconName) : {};\n\n      acc.iconName = shim.iconName || iconName;\n      acc.prefix = shim.prefix || acc.prefix;\n    } else if (cls !== config$1.replacementClass && cls.indexOf('fa-w-') !== 0) {\n      acc.rest.push(cls);\n    }\n\n    return acc;\n  }, emptyCanonicalIcon());\n}\n\nfunction iconFromMapping(mapping, prefix, iconName) {\n  if (mapping && mapping[prefix] && mapping[prefix][iconName]) {\n    return {\n      prefix: prefix,\n      iconName: iconName,\n      icon: mapping[prefix][iconName]\n    };\n  }\n}\n\nfunction toHtml(abstractNodes) {\n  var tag = abstractNodes.tag,\n      _abstractNodes$attrib = abstractNodes.attributes,\n      attributes = _abstractNodes$attrib === undefined ? {} : _abstractNodes$attrib,\n      _abstractNodes$childr = abstractNodes.children,\n      children = _abstractNodes$childr === undefined ? [] : _abstractNodes$childr;\n\n\n  if (typeof abstractNodes === 'string') {\n    return htmlEscape(abstractNodes);\n  } else {\n    return '<' + tag + ' ' + joinAttributes(attributes) + '>' + children.map(toHtml).join('') + '</' + tag + '>';\n  }\n}\n\nvar noop$1 = function noop() {};\n\nfunction isWatched(node) {\n  var i2svg = node.getAttribute ? node.getAttribute(DATA_FA_I2SVG) : null;\n\n  return typeof i2svg === 'string';\n}\n\nfunction getMutator() {\n  if (config$1.autoReplaceSvg === true) {\n    return mutators.replace;\n  }\n\n  var mutator = mutators[config$1.autoReplaceSvg];\n\n  return mutator || mutators.replace;\n}\n\nvar mutators = {\n  replace: function replace(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n    var newOuterHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n\n    if (node.parentNode && node.outerHTML) {\n      node.outerHTML = newOuterHTML + (config$1.keepOriginalSource && node.tagName.toLowerCase() !== 'svg' ? '<!-- ' + node.outerHTML + ' -->' : '');\n    } else if (node.parentNode) {\n      var newNode = document.createElement('span');\n      node.parentNode.replaceChild(newNode, node);\n      newNode.outerHTML = newOuterHTML;\n    }\n  },\n  nest: function nest(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n\n    // If we already have a replaced node we do not want to continue nesting within it.\n    // Short-circuit to the standard replacement\n    if (~classArray(node).indexOf(config$1.replacementClass)) {\n      return mutators.replace(mutation);\n    }\n\n    var forSvg = new RegExp(config$1.familyPrefix + '-.*');\n\n    delete abstract[0].attributes.style;\n\n    var splitClasses = abstract[0].attributes.class.split(' ').reduce(function (acc, cls) {\n      if (cls === config$1.replacementClass || cls.match(forSvg)) {\n        acc.toSvg.push(cls);\n      } else {\n        acc.toNode.push(cls);\n      }\n\n      return acc;\n    }, { toNode: [], toSvg: [] });\n\n    abstract[0].attributes.class = splitClasses.toSvg.join(' ');\n\n    var newInnerHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n    node.setAttribute('class', splitClasses.toNode.join(' '));\n    node.setAttribute(DATA_FA_I2SVG, '');\n    node.innerHTML = newInnerHTML;\n  }\n};\n\nfunction perform(mutations, callback) {\n  var callbackFunction = typeof callback === 'function' ? callback : noop$1;\n\n  if (mutations.length === 0) {\n    callbackFunction();\n  } else {\n    var frame = WINDOW.requestAnimationFrame || function (op) {\n      return op();\n    };\n\n    frame(function () {\n      var mutator = getMutator();\n      var mark = perf.begin('mutate');\n\n      mutations.map(mutator);\n\n      mark();\n\n      callbackFunction();\n    });\n  }\n}\n\nvar disabled = false;\n\nfunction disableObservation(operation) {\n  disabled = true;\n  operation();\n  disabled = false;\n}\n\nvar mo = null;\n\nfunction observe(options) {\n  if (!MUTATION_OBSERVER) return;\n\n  var treeCallback = options.treeCallback,\n      nodeCallback = options.nodeCallback,\n      pseudoElementsCallback = options.pseudoElementsCallback;\n\n\n  mo = new MUTATION_OBSERVER(function (objects) {\n    if (disabled) return;\n\n    toArray(objects).forEach(function (mutationRecord) {\n      if (mutationRecord.type === 'childList' && mutationRecord.addedNodes.length > 0 && !isWatched(mutationRecord.addedNodes[0])) {\n        if (config$1.searchPseudoElements) {\n          pseudoElementsCallback(mutationRecord.target);\n        }\n\n        treeCallback(mutationRecord.target);\n      }\n\n      if (mutationRecord.type === 'attributes' && mutationRecord.target.parentNode && config$1.searchPseudoElements) {\n        pseudoElementsCallback(mutationRecord.target.parentNode);\n      }\n\n      if (mutationRecord.type === 'attributes' && isWatched(mutationRecord.target) && ~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(mutationRecord.attributeName)) {\n        if (mutationRecord.attributeName === 'class') {\n          var _getCanonicalIcon = getCanonicalIcon(classArray(mutationRecord.target)),\n              prefix = _getCanonicalIcon.prefix,\n              iconName = _getCanonicalIcon.iconName;\n\n          if (prefix) mutationRecord.target.setAttribute('data-prefix', prefix);\n          if (iconName) mutationRecord.target.setAttribute('data-icon', iconName);\n        } else {\n          nodeCallback(mutationRecord.target);\n        }\n      }\n    });\n  });\n\n  if (!IS_DOM) return;\n\n  mo.observe(DOCUMENT.getElementsByTagName('body')[0], {\n    childList: true, attributes: true, characterData: true, subtree: true\n  });\n}\n\nfunction disconnect() {\n  if (!mo) return;\n\n  mo.disconnect();\n}\n\nvar styleParser = function (node) {\n  var style = node.getAttribute('style');\n\n  var val = [];\n\n  if (style) {\n    val = style.split(';').reduce(function (acc, style) {\n      var styles = style.split(':');\n      var prop = styles[0];\n      var value = styles.slice(1);\n\n      if (prop && value.length > 0) {\n        acc[prop] = value.join(':').trim();\n      }\n\n      return acc;\n    }, {});\n  }\n\n  return val;\n};\n\nfunction toHex(unicode) {\n  var result = '';\n\n  for (var i = 0; i < unicode.length; i++) {\n    var hex = unicode.charCodeAt(i).toString(16);\n    result += ('000' + hex).slice(-4);\n  }\n\n  return result;\n}\n\nvar classParser = function (node) {\n  var existingPrefix = node.getAttribute('data-prefix');\n  var existingIconName = node.getAttribute('data-icon');\n  var innerText = node.innerText !== undefined ? node.innerText.trim() : '';\n\n  var val = getCanonicalIcon(classArray(node));\n\n  if (existingPrefix && existingIconName) {\n    val.prefix = existingPrefix;\n    val.iconName = existingIconName;\n  }\n\n  if (val.prefix && innerText.length > 1) {\n    val.iconName = byLigature(val.prefix, node.innerText);\n  } else if (val.prefix && innerText.length === 1) {\n    val.iconName = byUnicode(val.prefix, toHex(node.innerText));\n  }\n\n  return val;\n};\n\nvar parseTransformString = function parseTransformString(transformString) {\n  var transform = {\n    size: 16,\n    x: 0,\n    y: 0,\n    flipX: false,\n    flipY: false,\n    rotate: 0\n  };\n\n  if (!transformString) {\n    return transform;\n  } else {\n    return transformString.toLowerCase().split(' ').reduce(function (acc, n) {\n      var parts = n.toLowerCase().split('-');\n      var first = parts[0];\n      var rest = parts.slice(1).join('-');\n\n      if (first && rest === 'h') {\n        acc.flipX = true;\n        return acc;\n      }\n\n      if (first && rest === 'v') {\n        acc.flipY = true;\n        return acc;\n      }\n\n      rest = parseFloat(rest);\n\n      if (isNaN(rest)) {\n        return acc;\n      }\n\n      switch (first) {\n        case 'grow':\n          acc.size = acc.size + rest;\n          break;\n        case 'shrink':\n          acc.size = acc.size - rest;\n          break;\n        case 'left':\n          acc.x = acc.x - rest;\n          break;\n        case 'right':\n          acc.x = acc.x + rest;\n          break;\n        case 'up':\n          acc.y = acc.y - rest;\n          break;\n        case 'down':\n          acc.y = acc.y + rest;\n          break;\n        case 'rotate':\n          acc.rotate = acc.rotate + rest;\n          break;\n      }\n\n      return acc;\n    }, transform);\n  }\n};\n\nvar transformParser = function (node) {\n  return parseTransformString(node.getAttribute('data-fa-transform'));\n};\n\nvar symbolParser = function (node) {\n  var symbol = node.getAttribute('data-fa-symbol');\n\n  return symbol === null ? false : symbol === '' ? true : symbol;\n};\n\nvar attributesParser = function (node) {\n  var extraAttributes = toArray(node.attributes).reduce(function (acc, attr) {\n    if (acc.name !== 'class' && acc.name !== 'style') {\n      acc[attr.name] = attr.value;\n    }\n    return acc;\n  }, {});\n\n  var title = node.getAttribute('title');\n\n  if (config$1.autoA11y) {\n    if (title) {\n      extraAttributes['aria-labelledby'] = config$1.replacementClass + '-title-' + nextUniqueId();\n    } else {\n      extraAttributes['aria-hidden'] = 'true';\n    }\n  }\n\n  return extraAttributes;\n};\n\nvar maskParser = function (node) {\n  var mask = node.getAttribute('data-fa-mask');\n\n  if (!mask) {\n    return emptyCanonicalIcon();\n  } else {\n    return getCanonicalIcon(mask.split(' ').map(function (i) {\n      return i.trim();\n    }));\n  }\n};\n\nfunction parseMeta(node) {\n  var _classParser = classParser(node),\n      iconName = _classParser.iconName,\n      prefix = _classParser.prefix,\n      extraClasses = _classParser.rest;\n\n  var extraStyles = styleParser(node);\n  var transform = transformParser(node);\n  var symbol = symbolParser(node);\n  var extraAttributes = attributesParser(node);\n  var mask = maskParser(node);\n\n  return {\n    iconName: iconName,\n    title: node.getAttribute('title'),\n    prefix: prefix,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    extra: {\n      classes: extraClasses,\n      styles: extraStyles,\n      attributes: extraAttributes\n    }\n  };\n}\n\nfunction MissingIcon(error) {\n  this.name = 'MissingIcon';\n  this.message = error || 'Icon unavailable';\n  this.stack = new Error().stack;\n}\n\nMissingIcon.prototype = Object.create(Error.prototype);\nMissingIcon.prototype.constructor = MissingIcon;\n\nvar FILL = { fill: 'currentColor' };\nvar ANIMATION_BASE = {\n  attributeType: 'XML',\n  repeatCount: 'indefinite',\n  dur: '2s'\n};\nvar RING = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    d: 'M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z'\n  })\n};\nvar OPACITY_ANIMATE = _extends({}, ANIMATION_BASE, {\n  attributeName: 'opacity'\n});\nvar DOT = {\n  tag: 'circle',\n  attributes: _extends({}, FILL, {\n    cx: '256',\n    cy: '364',\n    r: '28'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, ANIMATION_BASE, { attributeName: 'r', values: '28;14;28;28;14;28;' }) }, { tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '1;0;1;1;0;1;' }) }]\n};\nvar QUESTION = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    opacity: '1',\n    d: 'M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '1;0;0;0;0;1;' }) }]\n};\nvar EXCLAMATION = {\n  tag: 'path',\n  attributes: _extends({}, FILL, {\n    opacity: '0',\n    d: 'M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z'\n  }),\n  children: [{ tag: 'animate', attributes: _extends({}, OPACITY_ANIMATE, { values: '0;0;1;1;0;0;' }) }]\n};\n\nvar missing = { tag: 'g', children: [RING, DOT, QUESTION, EXCLAMATION] };\n\nvar styles = namespace.styles;\n\nvar LAYERS_TEXT_CLASSNAME = 'fa-layers-text';\nvar FONT_FAMILY_PATTERN = /Font Awesome 5 (Solid|Regular|Light|Brands)/;\nvar STYLE_TO_PREFIX = {\n  'Solid': 'fas',\n  'Regular': 'far',\n  'Light': 'fal',\n  'Brands': 'fab'\n};\n\nfunction findIcon(iconName, prefix) {\n  var val = {\n    found: false,\n    width: 512,\n    height: 512,\n    icon: missing\n  };\n\n  if (iconName && prefix && styles[prefix] && styles[prefix][iconName]) {\n    var icon = styles[prefix][iconName];\n    var width = icon[0];\n    var height = icon[1];\n    var vectorData = icon.slice(4);\n\n    val = {\n      found: true,\n      width: width,\n      height: height,\n      icon: { tag: 'path', attributes: { fill: 'currentColor', d: vectorData[0] } }\n    };\n  } else if (iconName && prefix && !config$1.showMissingIcons) {\n    throw new MissingIcon('Icon is missing for prefix ' + prefix + ' with icon name ' + iconName);\n  }\n\n  return val;\n}\n\nfunction generateSvgReplacementMutation(node, nodeMeta) {\n  var iconName = nodeMeta.iconName,\n      title = nodeMeta.title,\n      prefix = nodeMeta.prefix,\n      transform = nodeMeta.transform,\n      symbol = nodeMeta.symbol,\n      mask = nodeMeta.mask,\n      extra = nodeMeta.extra;\n\n\n  return [node, makeInlineSvgAbstract({\n    icons: {\n      main: findIcon(iconName, prefix),\n      mask: findIcon(mask.iconName, mask.prefix)\n    },\n    prefix: prefix,\n    iconName: iconName,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateLayersText(node, nodeMeta) {\n  var title = nodeMeta.title,\n      transform = nodeMeta.transform,\n      extra = nodeMeta.extra;\n\n\n  var width = null;\n  var height = null;\n\n  if (IS_IE) {\n    var computedFontSize = parseInt(getComputedStyle(node).fontSize, 10);\n    var boundingClientRect = node.getBoundingClientRect();\n    width = boundingClientRect.width / computedFontSize;\n    height = boundingClientRect.height / computedFontSize;\n  }\n\n  if (config$1.autoA11y && !title) {\n    extra.attributes['aria-hidden'] = 'true';\n  }\n\n  return [node, makeLayersTextAbstract({\n    content: node.innerHTML,\n    width: width,\n    height: height,\n    transform: transform,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateMutation(node) {\n  var nodeMeta = parseMeta(node);\n\n  if (~nodeMeta.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)) {\n    return generateLayersText(node, nodeMeta);\n  } else {\n    return generateSvgReplacementMutation(node, nodeMeta);\n  }\n}\n\nfunction remove(node) {\n  if (typeof node.remove === 'function') {\n    node.remove();\n  } else if (node && node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\n\nfunction searchPseudoElements(root) {\n  if (!IS_DOM) return;\n\n  var end = perf.begin('searchPseudoElements');\n\n  disableObservation(function () {\n    toArray(root.querySelectorAll('*')).forEach(function (node) {\n      [':before', ':after'].forEach(function (pos) {\n        var styles = WINDOW.getComputedStyle(node, pos);\n        var fontFamily = styles.getPropertyValue('font-family').match(FONT_FAMILY_PATTERN);\n        var children = toArray(node.children);\n        var pseudoElement = children.filter(function (c) {\n          return c.getAttribute(DATA_FA_PSEUDO_ELEMENT) === pos;\n        })[0];\n\n        if (pseudoElement) {\n          if (pseudoElement.nextSibling && pseudoElement.nextSibling.textContent.indexOf(DATA_FA_PSEUDO_ELEMENT) > -1) {\n            remove(pseudoElement.nextSibling);\n          }\n          remove(pseudoElement);\n          pseudoElement = null;\n        }\n\n        if (fontFamily && !pseudoElement) {\n          var content = styles.getPropertyValue('content');\n          var i = DOCUMENT.createElement('i');\n          i.setAttribute('class', '' + STYLE_TO_PREFIX[fontFamily[1]]);\n          i.setAttribute(DATA_FA_PSEUDO_ELEMENT, pos);\n          i.innerText = content.length === 3 ? content.substr(1, 1) : content;\n          if (pos === ':before') {\n            node.insertBefore(i, node.firstChild);\n          } else {\n            node.appendChild(i);\n          }\n        }\n      });\n    });\n  });\n\n  end();\n}\n\nfunction onTree(root) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!IS_DOM) return;\n\n  var htmlClassList = DOCUMENT.documentElement.classList;\n  var hclAdd = function hclAdd(suffix) {\n    return htmlClassList.add(HTML_CLASS_I2SVG_BASE_CLASS + '-' + suffix);\n  };\n  var hclRemove = function hclRemove(suffix) {\n    return htmlClassList.remove(HTML_CLASS_I2SVG_BASE_CLASS + '-' + suffix);\n  };\n  var prefixes = Object.keys(styles);\n  var prefixesDomQuery = ['.' + LAYERS_TEXT_CLASSNAME + ':not([' + DATA_FA_I2SVG + '])'].concat(prefixes.map(function (p) {\n    return '.' + p + ':not([' + DATA_FA_I2SVG + '])';\n  })).join(', ');\n\n  if (prefixesDomQuery.length === 0) {\n    return;\n  }\n\n  var candidates = toArray(root.querySelectorAll(prefixesDomQuery));\n\n  if (candidates.length > 0) {\n    hclAdd('pending');\n    hclRemove('complete');\n  } else {\n    return;\n  }\n\n  var mark = perf.begin('onTree');\n\n  var mutations = candidates.reduce(function (acc, node) {\n    try {\n      var mutation = generateMutation(node);\n\n      if (mutation) {\n        acc.push(mutation);\n      }\n    } catch (e) {\n      if (!PRODUCTION) {\n        if (e instanceof MissingIcon) {\n          console.error(e);\n        }\n      }\n    }\n\n    return acc;\n  }, []);\n\n  mark();\n\n  perform(mutations, function () {\n    hclAdd('active');\n    hclAdd('complete');\n    hclRemove('pending');\n\n    if (typeof callback === 'function') callback();\n  });\n}\n\nfunction onNode(node) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  var mutation = generateMutation(node);\n\n  if (mutation) {\n    perform([mutation], callback);\n  }\n}\n\nvar baseStyles = \"svg:not(:root).svg-inline--fa {\\n  overflow: visible; }\\n\\n.svg-inline--fa {\\n  display: inline-block;\\n  font-size: inherit;\\n  height: 1em;\\n  overflow: visible;\\n  vertical-align: -.125em; }\\n  .svg-inline--fa.fa-lg {\\n    vertical-align: -.225em; }\\n  .svg-inline--fa.fa-w-1 {\\n    width: 0.0625em; }\\n  .svg-inline--fa.fa-w-2 {\\n    width: 0.125em; }\\n  .svg-inline--fa.fa-w-3 {\\n    width: 0.1875em; }\\n  .svg-inline--fa.fa-w-4 {\\n    width: 0.25em; }\\n  .svg-inline--fa.fa-w-5 {\\n    width: 0.3125em; }\\n  .svg-inline--fa.fa-w-6 {\\n    width: 0.375em; }\\n  .svg-inline--fa.fa-w-7 {\\n    width: 0.4375em; }\\n  .svg-inline--fa.fa-w-8 {\\n    width: 0.5em; }\\n  .svg-inline--fa.fa-w-9 {\\n    width: 0.5625em; }\\n  .svg-inline--fa.fa-w-10 {\\n    width: 0.625em; }\\n  .svg-inline--fa.fa-w-11 {\\n    width: 0.6875em; }\\n  .svg-inline--fa.fa-w-12 {\\n    width: 0.75em; }\\n  .svg-inline--fa.fa-w-13 {\\n    width: 0.8125em; }\\n  .svg-inline--fa.fa-w-14 {\\n    width: 0.875em; }\\n  .svg-inline--fa.fa-w-15 {\\n    width: 0.9375em; }\\n  .svg-inline--fa.fa-w-16 {\\n    width: 1em; }\\n  .svg-inline--fa.fa-w-17 {\\n    width: 1.0625em; }\\n  .svg-inline--fa.fa-w-18 {\\n    width: 1.125em; }\\n  .svg-inline--fa.fa-w-19 {\\n    width: 1.1875em; }\\n  .svg-inline--fa.fa-w-20 {\\n    width: 1.25em; }\\n  .svg-inline--fa.fa-pull-left {\\n    margin-right: .3em;\\n    width: auto; }\\n  .svg-inline--fa.fa-pull-right {\\n    margin-left: .3em;\\n    width: auto; }\\n  .svg-inline--fa.fa-border {\\n    height: 1.5em; }\\n  .svg-inline--fa.fa-li {\\n    width: 2em; }\\n  .svg-inline--fa.fa-fw {\\n    width: 1.25em; }\\n\\n.fa-layers svg.svg-inline--fa {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0; }\\n\\n.fa-layers {\\n  display: inline-block;\\n  height: 1em;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: -.125em;\\n  width: 1em; }\\n  .fa-layers svg.svg-inline--fa {\\n    -webkit-transform-origin: center center;\\n            transform-origin: center center; }\\n\\n.fa-layers-text, .fa-layers-counter {\\n  display: inline-block;\\n  position: absolute;\\n  text-align: center; }\\n\\n.fa-layers-text {\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center; }\\n\\n.fa-layers-counter {\\n  background-color: #ff253a;\\n  border-radius: 1em;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #fff;\\n  height: 1.5em;\\n  line-height: 1;\\n  max-width: 5em;\\n  min-width: 1.5em;\\n  overflow: hidden;\\n  padding: .25em;\\n  right: 0;\\n  text-overflow: ellipsis;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right; }\\n\\n.fa-layers-bottom-right {\\n  bottom: 0;\\n  right: 0;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom right;\\n          transform-origin: bottom right; }\\n\\n.fa-layers-bottom-left {\\n  bottom: 0;\\n  left: 0;\\n  right: auto;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom left;\\n          transform-origin: bottom left; }\\n\\n.fa-layers-top-right {\\n  right: 0;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right; }\\n\\n.fa-layers-top-left {\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top left;\\n          transform-origin: top left; }\\n\\n.fa-lg {\\n  font-size: 1.33333em;\\n  line-height: 0.75em;\\n  vertical-align: -.0667em; }\\n\\n.fa-xs {\\n  font-size: .75em; }\\n\\n.fa-sm {\\n  font-size: .875em; }\\n\\n.fa-1x {\\n  font-size: 1em; }\\n\\n.fa-2x {\\n  font-size: 2em; }\\n\\n.fa-3x {\\n  font-size: 3em; }\\n\\n.fa-4x {\\n  font-size: 4em; }\\n\\n.fa-5x {\\n  font-size: 5em; }\\n\\n.fa-6x {\\n  font-size: 6em; }\\n\\n.fa-7x {\\n  font-size: 7em; }\\n\\n.fa-8x {\\n  font-size: 8em; }\\n\\n.fa-9x {\\n  font-size: 9em; }\\n\\n.fa-10x {\\n  font-size: 10em; }\\n\\n.fa-fw {\\n  text-align: center;\\n  width: 1.25em; }\\n\\n.fa-ul {\\n  list-style-type: none;\\n  margin-left: 2.5em;\\n  padding-left: 0; }\\n  .fa-ul > li {\\n    position: relative; }\\n\\n.fa-li {\\n  left: -2em;\\n  position: absolute;\\n  text-align: center;\\n  width: 2em;\\n  line-height: inherit; }\\n\\n.fa-border {\\n  border: solid 0.08em #eee;\\n  border-radius: .1em;\\n  padding: .2em .25em .15em; }\\n\\n.fa-pull-left {\\n  float: left; }\\n\\n.fa-pull-right {\\n  float: right; }\\n\\n.fa.fa-pull-left,\\n.fas.fa-pull-left,\\n.far.fa-pull-left,\\n.fal.fa-pull-left,\\n.fab.fa-pull-left {\\n  margin-right: .3em; }\\n\\n.fa.fa-pull-right,\\n.fas.fa-pull-right,\\n.far.fa-pull-right,\\n.fal.fa-pull-right,\\n.fab.fa-pull-right {\\n  margin-left: .3em; }\\n\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n          animation: fa-spin 2s infinite linear; }\\n\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n          animation: fa-spin 1s infinite steps(8); }\\n\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg); } }\\n\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg); }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg); } }\\n\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n          transform: rotate(90deg); }\\n\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n          transform: rotate(180deg); }\\n\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n          transform: rotate(270deg); }\\n\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n          transform: scale(-1, 1); }\\n\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n          transform: scale(1, -1); }\\n\\n.fa-flip-horizontal.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(-1, -1);\\n          transform: scale(-1, -1); }\\n\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  -webkit-filter: none;\\n          filter: none; }\\n\\n.fa-stack {\\n  display: inline-block;\\n  height: 2em;\\n  position: relative;\\n  width: 2em; }\\n\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0; }\\n\\n.svg-inline--fa.fa-stack-1x {\\n  height: 1em;\\n  width: 1em; }\\n\\n.svg-inline--fa.fa-stack-2x {\\n  height: 2em;\\n  width: 2em; }\\n\\n.fa-inverse {\\n  color: #fff; }\\n\\n.sr-only {\\n  border: 0;\\n  clip: rect(0, 0, 0, 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  width: 1px; }\\n\\n.sr-only-focusable:active, .sr-only-focusable:focus {\\n  clip: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  position: static;\\n  width: auto; }\\n\";\n\nvar css = function () {\n  var dfp = DEFAULT_FAMILY_PREFIX;\n  var drc = DEFAULT_REPLACEMENT_CLASS;\n  var fp = config$1.familyPrefix;\n  var rc = config$1.replacementClass;\n  var s = baseStyles;\n\n  if (fp !== dfp || rc !== drc) {\n    var dPatt = new RegExp('\\\\.' + dfp + '\\\\-', 'g');\n    var rPatt = new RegExp('\\\\.' + drc, 'g');\n\n    s = s.replace(dPatt, '.' + fp + '-').replace(rPatt, '.' + rc);\n  }\n\n  return s;\n};\n\nfunction define(prefix, icons) {\n  var normalized = Object.keys(icons).reduce(function (acc, iconName) {\n    var icon = icons[iconName];\n    var expanded = !!icon.icon;\n\n    if (expanded) {\n      acc[icon.iconName] = icon.icon;\n    } else {\n      acc[iconName] = icon;\n    }\n    return acc;\n  }, {});\n\n  if (typeof namespace.hooks.addPack === 'function') {\n    namespace.hooks.addPack(prefix, normalized);\n  } else {\n    namespace.styles[prefix] = _extends({}, namespace.styles[prefix] || {}, normalized);\n  }\n\n  /**\n   * Font Awesome 4 used the prefix of `fa` for all icons. With the introduction\n   * of new styles we needed to differentiate between them. Prefix `fa` is now an alias\n   * for `fas` so we'll easy the upgrade process for our users by automatically defining\n   * this as well.\n   */\n  if (prefix === 'fas') {\n    define('fa', icons);\n  }\n}\n\nvar Library = function () {\n  function Library() {\n    classCallCheck(this, Library);\n\n    this.definitions = {};\n  }\n\n  createClass(Library, [{\n    key: 'add',\n    value: function add() {\n      var _this = this;\n\n      for (var _len = arguments.length, definitions = Array(_len), _key = 0; _key < _len; _key++) {\n        definitions[_key] = arguments[_key];\n      }\n\n      var additions = definitions.reduce(this._pullDefinitions, {});\n\n      Object.keys(additions).forEach(function (key) {\n        _this.definitions[key] = _extends({}, _this.definitions[key] || {}, additions[key]);\n        define(key, additions[key]);\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.definitions = {};\n    }\n  }, {\n    key: '_pullDefinitions',\n    value: function _pullDefinitions(additions, definition) {\n      var normalized = definition.prefix && definition.iconName && definition.icon ? { 0: definition } : definition;\n\n      Object.keys(normalized).map(function (key) {\n        var _normalized$key = normalized[key],\n            prefix = _normalized$key.prefix,\n            iconName = _normalized$key.iconName,\n            icon = _normalized$key.icon;\n\n\n        if (!additions[prefix]) additions[prefix] = {};\n\n        additions[prefix][iconName] = icon;\n      });\n\n      return additions;\n    }\n  }]);\n  return Library;\n}();\n\nfunction prepIcon(icon) {\n  var width = icon[0];\n  var height = icon[1];\n  var vectorData = icon.slice(4);\n\n  return {\n    found: true,\n    width: width,\n    height: height,\n    icon: { tag: 'path', attributes: { fill: 'currentColor', d: vectorData[0] } }\n  };\n}\n\nvar _cssInserted = false;\n\nfunction ensureCss() {\n  if (!config$1.autoAddCss) {\n    return;\n  }\n\n  if (!_cssInserted) {\n    insertCss(css());\n  }\n\n  _cssInserted = true;\n}\n\nfunction apiObject(val, abstractCreator) {\n  Object.defineProperty(val, 'abstract', {\n    get: abstractCreator\n  });\n\n  Object.defineProperty(val, 'html', {\n    get: function get() {\n      return val.abstract.map(function (a) {\n        return toHtml(a);\n      });\n    }\n  });\n\n  Object.defineProperty(val, 'node', {\n    get: function get() {\n      if (!IS_DOM) return;\n\n      var container = DOCUMENT.createElement('div');\n      container.innerHTML = val.html;\n      return container.children;\n    }\n  });\n\n  return val;\n}\n\nfunction findIconDefinition(params) {\n  var _params$prefix = params.prefix,\n      prefix = _params$prefix === undefined ? 'fa' : _params$prefix,\n      iconName = params.iconName;\n\n\n  if (!iconName) return;\n\n  return iconFromMapping(library.definitions, prefix, iconName) || iconFromMapping(namespace.styles, prefix, iconName);\n}\n\nfunction resolveIcons(next) {\n  return function (maybeIconDefinition) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var iconDefinition = (maybeIconDefinition || {}).icon ? maybeIconDefinition : findIconDefinition(maybeIconDefinition || {});\n\n    var mask = params.mask;\n\n\n    if (mask) {\n      mask = (mask || {}).icon ? mask : findIconDefinition(mask || {});\n    }\n\n    return next(iconDefinition, _extends({}, params, { mask: mask }));\n  };\n}\n\nvar library = new Library();\n\nvar noAuto = function noAuto() {\n  auto(false);\n  disconnect();\n};\n\nvar dom = {\n  i2svg: function i2svg() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (IS_DOM) {\n      ensureCss();\n\n      var _params$node = params.node,\n          node = _params$node === undefined ? DOCUMENT : _params$node,\n          _params$callback = params.callback,\n          callback = _params$callback === undefined ? function () {} : _params$callback;\n\n\n      if (config$1.searchPseudoElements) {\n        searchPseudoElements(node);\n      }\n\n      onTree(node, callback);\n    }\n  },\n\n  css: css,\n\n  insertCss: function insertCss$$1() {\n    insertCss(css());\n  }\n};\n\nvar parse = {\n  transform: function transform(transformString) {\n    return parseTransformString(transformString);\n  }\n};\n\nvar icon = resolveIcons(function (iconDefinition) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform = params.transform,\n      transform = _params$transform === undefined ? meaninglessTransform : _params$transform,\n      _params$symbol = params.symbol,\n      symbol = _params$symbol === undefined ? false : _params$symbol,\n      _params$mask = params.mask,\n      mask = _params$mask === undefined ? null : _params$mask,\n      _params$title = params.title,\n      title = _params$title === undefined ? null : _params$title,\n      _params$classes = params.classes,\n      classes = _params$classes === undefined ? [] : _params$classes,\n      _params$attributes = params.attributes,\n      attributes = _params$attributes === undefined ? {} : _params$attributes,\n      _params$styles = params.styles,\n      styles = _params$styles === undefined ? {} : _params$styles;\n\n\n  if (!iconDefinition) return;\n\n  var prefix = iconDefinition.prefix,\n      iconName = iconDefinition.iconName,\n      icon = iconDefinition.icon;\n\n\n  return apiObject(_extends({ type: 'icon' }, iconDefinition), function () {\n    ensureCss();\n\n    if (config$1.autoA11y) {\n      if (title) {\n        attributes['aria-labelledby'] = config$1.replacementClass + '-title-' + nextUniqueId();\n      } else {\n        attributes['aria-hidden'] = 'true';\n      }\n    }\n\n    return makeInlineSvgAbstract({\n      icons: {\n        main: prepIcon(icon),\n        mask: mask ? prepIcon(mask.icon) : { found: false, width: null, height: null, icon: {} }\n      },\n      prefix: prefix,\n      iconName: iconName,\n      transform: _extends({}, meaninglessTransform, transform),\n      symbol: symbol,\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: classes\n      }\n    });\n  });\n});\n\nvar text = function text(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform2 = params.transform,\n      transform = _params$transform2 === undefined ? meaninglessTransform : _params$transform2,\n      _params$title2 = params.title,\n      title = _params$title2 === undefined ? null : _params$title2,\n      _params$classes2 = params.classes,\n      classes = _params$classes2 === undefined ? [] : _params$classes2,\n      _params$attributes2 = params.attributes,\n      attributes = _params$attributes2 === undefined ? {} : _params$attributes2,\n      _params$styles2 = params.styles,\n      styles = _params$styles2 === undefined ? {} : _params$styles2;\n\n\n  return apiObject({ type: 'text', content: content }, function () {\n    ensureCss();\n\n    return makeLayersTextAbstract({\n      content: content,\n      transform: _extends({}, meaninglessTransform, transform),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [config$1.familyPrefix + '-layers-text'].concat(toConsumableArray(classes))\n      }\n    });\n  });\n};\n\nvar layer = function layer(assembler) {\n  return apiObject({ type: 'layer' }, function () {\n    ensureCss();\n\n    var children = [];\n\n    assembler(function (args) {\n      Array.isArray(args) ? args.map(function (a) {\n        children = children.concat(a.abstract);\n      }) : children = children.concat(args.abstract);\n    });\n\n    return [{\n      tag: 'span',\n      attributes: { class: config$1.familyPrefix + '-layers' },\n      children: children\n    }];\n  });\n};\n\nvar api$1 = {\n  noAuto: noAuto,\n  dom: dom,\n  library: library,\n  parse: parse,\n  findIconDefinition: findIconDefinition,\n  icon: icon,\n  text: text,\n  layer: layer\n};\n\nvar autoReplace = function autoReplace() {\n  if (IS_DOM && config$1.autoReplaceSvg) api$1.dom.i2svg({ node: DOCUMENT });\n};\n\nfunction bootstrap() {\n  if (IS_BROWSER) {\n    if (!WINDOW.FontAwesome) {\n      WINDOW.FontAwesome = api$1;\n    }\n\n    domready(function () {\n      if (Object.keys(namespace.styles).length > 0) {\n        autoReplace();\n      }\n\n      if (config$1.observeMutations && typeof MutationObserver === 'function') {\n        observe({\n          treeCallback: onTree,\n          nodeCallback: onNode,\n          pseudoElementsCallback: searchPseudoElements\n        });\n      }\n    });\n  }\n\n  namespace.hooks = _extends({}, namespace.hooks, {\n\n    addPack: function addPack(prefix, icons) {\n      namespace.styles[prefix] = _extends({}, namespace.styles[prefix] || {}, icons);\n\n      build();\n      autoReplace();\n    },\n\n    addShims: function addShims(shims) {\n      var _namespace$shims;\n\n      (_namespace$shims = namespace.shims).push.apply(_namespace$shims, toConsumableArray(shims));\n\n      build();\n      autoReplace();\n    }\n  });\n}\n\nObject.defineProperty(api$1, 'config', {\n  get: function get() {\n    return config$1;\n  },\n\n  set: function set(newConfig) {\n    update(newConfig);\n  }\n});\n\nif (IS_DOM) bunker(bootstrap);\n\nvar config = api$1.config;\n\nexport { config, icon, noAuto, layer, text, library, dom, parse, findIconDefinition };\nexport default api$1;\n","import CodeMirror from 'codemirror';\nimport LintState from './LintState';\nimport fontawesome from '@fortawesome/fontawesome';\nimport { faBug } from '@fortawesome/free-solid-svg-icons/faBug';\nimport { isArray } from 'vue-interface/src/Helpers/Functions';\n\nconst UNDERLINE_CLASS = 'CodeMirror-lint-error-underline';\n\nfunction removeExistingErrors(state, errors) {\n    state.lint.cm.clearGutter(state.lint.id);\n\n    (errors || state.lint.errors).forEach(error => {\n        error.open && error.open.clear();\n        error.close && error.close.clear();\n    });\n}\n\n/*\nfunction offset(cm) {\n    let container = document.querySelector('.CodeMirror-lint-tooltip-container');\n\n    if(container) {\n        return container;\n    }\n\n    container = document.createElement('div');\n    container.className = 'CodeMirror-lint-tooltip-container CodeMirror-sizer';\n    container.style.marginLeft = document.querySelector('.CodeMirror-sizer').style.marginLeft;\n    container.style.borderRightWidth = document.querySelector('.CodeMirror-sizer').style.borderRightWidth;\n\n    cm.getWrapperElement().parentNode.insertBefore(container, cm.getWrapperElement().nextSibling);\n\n    return container;\n}\n*/\n\nfunction createTooltip(html, cm) {\n    const div = document.createElement('div');\n\n    div.className = 'CodeMirror-lint-tooltip';\n    div.innerHTML = html;\n\n    return div;\n}\n\nfunction createIcon(error) {\n    const icon = document.createElement('div');\n\n    icon.className = 'CodeMirror-lint-error-icon';\n    icon.innerHTML = fontawesome.icon(faBug).html;\n    icon.title = `${error.line},${error.column} :: ${error.code} ${error.msg} (${error.rule})`;\n    icon.error = error;\n\n    return icon;\n}\n\nfunction addErrors(state) {\n    const range = state.lint.cm.getViewport();\n\n    if(isArray(state.lint.errors)) {\n        state.lint.errors.forEach(error => {\n            state.lint.cm.setGutterMarker(error.line - 1, state.lint.id, createIcon(error));\n\n            error.match = CodeMirror.findMatchingTag(state.lint.cm, {\n                line: error.line - 1,\n                ch: error.column\n            }, range);\n\n            if(error.match) {\n                if(error.match.open) {\n                    error.open = state.lint.cm.markText(error.match.open.from, error.match.open.to, {\n                        className: 'CodeMirror-lint-error-underline'\n                    });\n                }\n\n                if(error.match.close) {\n                    error.close = state.lint.cm.markText(error.match.close.from, error.match.close.to, {\n                        className: UNDERLINE_CLASS\n                    });\n                }\n            }\n        });\n\n        if(state.lint.errors.length && state.lint.errors[0].match) {\n            state.lint.cm.scrollIntoView(\n                state.lint.errors[0].match.open ||\n                state.lint.errors[0].match.close,\n                state.lint.cm.getScrollInfo().clientHeight / 2\n            );\n\n            setTimeout(() => {\n                state.lint.cm.setCursor(\n                    state.lint.errors[0].line - 1,\n                    state.lint.errors[0].column\n                );\n            });\n        }\n    }\n}\n\nfunction onCursorActivity(cm) {\n    if(cm.lintErrorTooltip) {\n        cm.lintErrorTooltip.parentNode.removeChild(cm.lintErrorTooltip);\n        cm.lintErrorTooltip = null;\n    }\n\n    const errors = cm.state.lint.findNearbyErrors(cm.getCursor());\n\n    const ch = errors.reduce((carry, error) => {\n        return carry === null || carry > error.column ? error.column : carry;\n    }, null) - 1;\n\n    const line = errors.reduce((carry, error) => {\n        return carry === null || carry > error.line ? error.line : carry;\n    }, null) - 1;\n\n    const message = errors.reduce((carry, error) => {\n        carry.push(`${error.line},${error.column} :: ${error.code} ${error.msg} (${error.rule})`);\n        return carry;\n    }, []).join('<br>');\n\n    if(errors.length) {\n        cm.lintErrorTooltip = createTooltip(message, cm);\n        cm.addWidget({ ch, line }, cm.lintErrorTooltip, true);\n\n        // const bounds = cm.lintErrorTooltip.getBoundingClientRect();\n        // const offset = bounds.left + bounds.width - cm.getScrollInfo().clientWidth;\n    }\n}\n\nCodeMirror.defineOption('lint', false, function(cm, options, old) {\n    if(old && old !== CodeMirror.Init) {\n        removeExistingErrors(cm.state);\n        cm.off('cursorActivity', onCursorActivity);\n        delete cm.state.lint;\n    }\n\n    if(options) {\n        cm.state.lint = new LintState(cm, options || (options = {}));\n        cm.on('cursorActivity', onCursorActivity);\n        cm.on('inputRead', (cm, event) => {\n            if(event.origin === 'paste') {\n                cm.state.lint.errors = [];\n                cm.lint();\n            }\n        });\n\n        if(options.errors && options.errors.length) {\n            cm.state.lint.errors = options.errors;\n            addErrors(cm.state);\n        }\n    }\n});\n\nCodeMirror.defineExtension('lint', function(data, options) {\n    return new Promise((resolve, reject) => {\n        const existingErrors = this.state.lint.errors;\n\n        this.state.lint\n            .request(data, options)\n            .then(response => {\n                removeExistingErrors(this.state, existingErrors);\n                resolve(this.state.lint);\n            }, error => {\n                removeExistingErrors(this.state, existingErrors);\n\n                this.state.lint.cm.operation(() => {\n                    addErrors(this.state);\n                    reject(error);\n                });\n            });\n    });\n});\n","import {\n    mapKeys,\n    isObject,\n    isBoolean\n} from '../Functions';\n\nexport default function prefix(subject, prefix, delimeter = '-') {\n    const prefixer = (value, key) => {\n        const string = (key || value)\n            .replace(new RegExp(`^${prefix}${delimeter}?`), '');\n\n        return [prefix, string].filter(value => !!value).join(delimeter);\n    };\n\n    if(isBoolean(subject)) {\n        return subject;\n    }\n\n    if(isObject(subject)) {\n        return mapKeys(subject, prefixer);\n    }\n\n    return prefixer(subject);\n}\n","import prefix from '../../Helpers/Prefix';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\nimport { each, isArray, isEmpty, isObject } from '../../Helpers/Functions';\n\nconst emptyClass = 'is-empty';\nconst focusClass = 'has-focus';\nconst changedClass = 'has-changed';\nconst customPrefix = 'custom';\n\nfunction addClass(el, vnode, css) {\n    // el.classList.add(css);\n    vnode.context.$el.classList.add(css);\n}\n\nfunction removeClass(el, vnode, css) {\n    // el.classList.remove(css);\n    vnode.context.$el.classList.remove(css);\n}\n\nfunction addEmptyClass(el, vnode) {\n    if(isEmpty(el.value) || (el.tagName === 'SELECT' && el.selectedIndex === -1)) {\n        addClass(el, vnode, emptyClass);\n    }\n}\n\nexport default {\n\n    inheritAttrs: false,\n\n    mixins: [\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Show type activity indicator.\n         *\n         * @property Boolean\n         */\n        activity: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Is the form control a custom styled component.\n         *\n         * @property Boolean\n         */\n        custom: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * The value of label element. If no value, no label will appear.\n         *\n         * @property String\n         */\n        label: [Number, String],\n\n        /**\n         * The field id attribute value.\n         *\n         * @property String\n         */\n        value: {\n            default: null\n        },\n\n        /**\n         * Add form-group wrapper to input\n         *\n         * @property String\n         */\n        group: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * An inline field validation error.\n         *\n         * @property String|Boolean\n         */\n        error: String,\n\n        /**\n         * An inline field validation errors passed as object with key/value\n         * pairs. If errors passed as an object, the form name will be used for\n         * the key.\n         *\n         * @property Object|Boolean\n         */\n        errors: {\n            type: Object,\n            default() {\n                return {};\n            }\n        },\n\n        /**\n         * Some feedback to add to the field once the field is successfully\n         * valid.\n         *\n         * @property String\n         */\n        feedback: [String, Array],\n\n        /**\n         * An array of event names that correlate with callback functions\n         *\n         * @property Function\n         */\n        bindEvents: {\n            type: Array,\n            default() {\n                return ['focus', 'blur', 'change', 'click', 'keypress', 'keyup', 'keydown', 'progress', 'paste'];\n            }\n        },\n\n        /**\n         * The default class name assigned to the control element\n         *\n         * @property String\n         */\n        defaultControlClass: {\n            type: String,\n            default: 'form-control'\n        },\n\n        /**\n         * Hide the label for browsers, but leave it for screen readers.\n         *\n         * @property String\n         */\n        hideLabel: Boolean,\n\n        /**\n         * The invalid property\n         *\n         * @property String\n         */\n        invalid: Boolean,\n\n        /**\n         * The valid property\n         *\n         * @property String\n         */\n        valid: Boolean,\n\n        /**\n         * Additional margin/padding classes for fine control of spacing\n         *\n         * @property String\n         */\n        spacing: String,\n\n        /**\n         * The size of the form control\n         *\n         * @property String\n         */\n        size: {\n            type: String,\n            default: 'md',\n            validate: value => ['sm', 'md', 'lg'].indexOf(value) !== -1\n        },\n\n        /**\n         * Display the form field inline\n         *\n         * @property String\n         */\n        inline: Boolean,\n\n        /**\n         * Some instructions to appear under the field label\n         *\n         * @property String\n         */\n        helpText: [Number, String],\n\n        /**\n         * The maxlength attribute\n         *\n         * @property String\n         */\n        maxlength: [Number, String]\n\n    },\n\n    directives: {\n        bindEvents: {\n            bind(el, binding, vnode) {\n                function changedValue(el, value) {\n                    addClass(el, vnode, changedClass);\n\n                    if(!isEmpty(value) || (el.selectedIndex && el.selectedIndex > -1)) {\n                        removeClass(el, vnode, emptyClass);\n                    }\n                    else if(!el.classList.contains(changedClass)) {\n                        addClass(el, vnode, emptyClass);\n                    }\n\n                    if(el.tagName === 'SELECT' && el.querySelector('[value=\"\"]')) {\n                        el.querySelector('[value=\"\"]').selected = !value;\n                    }\n                }\n\n                vnode.context.$watch('value', (value) => {\n                    changedValue(vnode.context.$el, value);\n                });\n\n                el.addEventListener('blur', event => {\n                    if(el.classList.contains(emptyClass)) {\n                        removeClass(el, vnode, changedClass);\n                    }\n\n                    removeClass(el, vnode, focusClass);\n                });\n\n                el.addEventListener('input', event => {\n                    changedValue(event.target, event.target.value);\n                });\n\n                // Add/remove the has-focus class from the form control\n                el.addEventListener('focus', event => {\n                    addClass(el, vnode, focusClass);\n                });\n\n                // Bubble the native events up to the vue component.\n                each(vnode.context.bindEvents, name => {\n                    el.addEventListener(name, event => {\n                        vnode.context.$emit(name, event);\n                    });\n                });\n            },\n            inserted(el, binding, vnode) {\n                addEmptyClass(el, vnode);\n\n                if(el.selectedIndex > -1) {\n                    addClass(el, vnode, changedClass);\n                }\n            },\n            update(el, binding, vnode) {\n                addEmptyClass(el, vnode);\n            }\n        }\n    },\n\n    methods: {\n\n        blur() {\n            if(this.getInputField()) {\n                this.getInputField().blur();\n            }\n        },\n\n        focus() {\n            if(this.getInputField()) {\n                this.getInputField().focus();\n            }\n        },\n\n        getInputField() {\n            return this.$el.querySelector(\n                '.form-control, input, select, textarea'\n            );\n        },\n\n        getFieldErrors() {\n            let errors = this.error || this.errors;\n\n            if(isObject(this.errors)) {\n                errors = this.errors[this.$attrs.name || this.$attrs.id];\n            }\n\n            return !errors || isArray(errors) || isObject(errors) ? errors : [errors];\n        }\n\n    },\n\n    computed: {\n\n        controlAttributes() {\n            return Object.keys(this.$attrs)\n                .concat([['class', this.controlClasses]])\n                .reduce((carry, key) => {\n                    if(isArray(key)) {\n                        carry[key[0]] = key[1];\n                    }\n                    else {\n                        carry[key] = this[key] || this.$attrs[key];\n                    }\n\n                    return carry;\n                }, {});\n        },\n\n        controlClass() {\n            return this.custom ? this.customControlClass : (\n                this.defaultControlClass + (this.plaintext ? '-plaintext' : '')\n            );\n        },\n\n        controlSizeClass() {\n            return prefix(this.size, this.controlClass);\n        },\n\n        customControlClass() {\n            return 'custom-control';\n        },\n\n        formGroupClasses() {\n            const name = prefix(this.$options.name, this.custom ? customPrefix : '');\n\n            return this.mergeClasses(name, prefix(this.size, name), {\n                'has-activity': this.activity,\n                'is-valid': !!(this.valid || this.validFeedback),\n                'is-invalid': !!(this.invalid || this.invalidFeedback)\n            });\n        },\n\n        controlClasses() {\n            return this.mergeClasses(\n                this.controlClass,\n                this.colorableClasses,\n                this.controlSizeClass,\n                (this.spacing || ''),\n                ((this.valid || this.validFeedback) ? 'is-valid' : ''),\n                ((this.invalid || this.invalidFeedback) ? 'is-invalid' : '')\n            );\n        },\n\n        hasDefaultSlot() {\n            return !!this.$slots.default;\n        },\n\n        invalidFeedback() {\n            const errors = this.getFieldErrors();\n\n            return this.error || (\n                isArray(errors) ? errors.join('<br>') : errors\n            );\n        },\n\n        validFeedback() {\n            return isArray(this.feedback) ? this.feedback.join('<br>') : this.feedback;\n        }\n\n    }\n\n};\n","export default function normalizeComponent(compiledTemplate, injectStyle, defaultExport, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, isShadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof isShadowMode === 'function') {\n        createInjectorSSR = createInjector;\n        createInjector = isShadowMode;\n        isShadowMode = false;\n    }\n    // Vue.extend constructor export interop\n    const options = typeof defaultExport === 'function' ? defaultExport.options : defaultExport;\n    // render functions\n    if (compiledTemplate && compiledTemplate.render) {\n        options.render = compiledTemplate.render;\n        options.staticRenderFns = compiledTemplate.staticRenderFns;\n        options._compiled = true;\n        // functional template\n        if (isFunctionalTemplate) {\n            options.functional = true;\n        }\n    }\n    // scopedId\n    if (scopeId) {\n        options._scopeId = scopeId;\n    }\n    let hook;\n    if (moduleIdentifier) {\n        // server build\n        hook = function (context) {\n            // 2.3 injection\n            context =\n                context || // cached call\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\n            // 2.2 with runInNewContext: true\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n                context = __VUE_SSR_CONTEXT__;\n            }\n            // inject component styles\n            if (injectStyle) {\n                injectStyle.call(this, createInjectorSSR(context));\n            }\n            // register component module identifier for async chunk inference\n            if (context && context._registeredComponents) {\n                context._registeredComponents.add(moduleIdentifier);\n            }\n        };\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        options._ssrRegister = hook;\n    }\n    else if (injectStyle) {\n        hook = isShadowMode\n            ? function () {\n                injectStyle.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n            }\n            : function (context) {\n                injectStyle.call(this, createInjector(context));\n            };\n    }\n    if (hook) {\n        if (options.functional) {\n            // register for functional component in vue file\n            const originalRender = options.render;\n            options.render = function renderWithStyleInjection(h, context) {\n                hook.call(context);\n                return originalRender(h, context);\n            };\n        }\n        else {\n            // inject component registration as beforeCreate hook\n            const existing = options.beforeCreate;\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n    }\n    return defaultExport;\n}\n","export default function(height) {\n    return isFinite(height) ? height + 'px' : height;\n}\n","export default function uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n        const r = Math.random() * 16 | 0;\n        const v = c === 'x' ? r : (r & (0x3) | (0x8));\n        return v.toString(16);\n    });\n}\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.14.6\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop, 10);\n    var marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthOddness = reference.width % 2 === popper.width % 2;\n  var bothOddWidth = reference.width % 2 === 1 && popper.width % 2 === 1;\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthOddness ? Math.round : Math.floor;\n  var verticalToInteger = !shouldRound ? noRound : Math.round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport'\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar noop = function noop() {};\n\nvar _WINDOW = {};\nvar _DOCUMENT = {};\nvar _MUTATION_OBSERVER = null;\nvar _PERFORMANCE = {\n  mark: noop,\n  measure: noop\n};\n\ntry {\n  if (typeof window !== 'undefined') _WINDOW = window;\n  if (typeof document !== 'undefined') _DOCUMENT = document;\n  if (typeof MutationObserver !== 'undefined') _MUTATION_OBSERVER = MutationObserver;\n  if (typeof performance !== 'undefined') _PERFORMANCE = performance;\n} catch (e) {}\n\nvar _ref = _WINDOW.navigator || {},\n    _ref$userAgent = _ref.userAgent,\n    userAgent = _ref$userAgent === void 0 ? '' : _ref$userAgent;\n\nvar WINDOW = _WINDOW;\nvar DOCUMENT = _DOCUMENT;\nvar MUTATION_OBSERVER = _MUTATION_OBSERVER;\nvar PERFORMANCE = _PERFORMANCE;\nvar IS_BROWSER = !!WINDOW.document;\nvar IS_DOM = !!DOCUMENT.documentElement && !!DOCUMENT.head && typeof DOCUMENT.addEventListener === 'function' && typeof DOCUMENT.createElement === 'function';\nvar IS_IE = ~userAgent.indexOf('MSIE') || ~userAgent.indexOf('Trident/');\n\nvar NAMESPACE_IDENTIFIER = '___FONT_AWESOME___';\nvar UNITS_IN_GRID = 16;\nvar DEFAULT_FAMILY_PREFIX = 'fa';\nvar DEFAULT_REPLACEMENT_CLASS = 'svg-inline--fa';\nvar DATA_FA_I2SVG = 'data-fa-i2svg';\nvar DATA_FA_PSEUDO_ELEMENT = 'data-fa-pseudo-element';\nvar DATA_PREFIX = 'data-prefix';\nvar DATA_ICON = 'data-icon';\nvar HTML_CLASS_I2SVG_BASE_CLASS = 'fontawesome-i2svg';\nvar TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS = ['HTML', 'HEAD', 'STYLE', 'SCRIPT'];\nvar PRODUCTION = function () {\n  try {\n    return process.env.NODE_ENV === 'production';\n  } catch (e) {\n    return false;\n  }\n}();\nvar oneToTen = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar oneToTwenty = oneToTen.concat([11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\nvar ATTRIBUTES_WATCHED_FOR_MUTATION = ['class', 'data-prefix', 'data-icon', 'data-fa-transform', 'data-fa-mask'];\nvar RESERVED_CLASSES = ['xs', 'sm', 'lg', 'fw', 'ul', 'li', 'border', 'pull-left', 'pull-right', 'spin', 'pulse', 'rotate-90', 'rotate-180', 'rotate-270', 'flip-horizontal', 'flip-vertical', 'stack', 'stack-1x', 'stack-2x', 'inverse', 'layers', 'layers-text', 'layers-counter'].concat(oneToTen.map(function (n) {\n  return \"\".concat(n, \"x\");\n})).concat(oneToTwenty.map(function (n) {\n  return \"w-\".concat(n);\n}));\n\nvar initial = WINDOW.FontAwesomeConfig || {};\n\nfunction getAttrConfig(attr) {\n  var element = DOCUMENT.querySelector('script[' + attr + ']');\n\n  if (element) {\n    return element.getAttribute(attr);\n  }\n}\n\nfunction coerce(val) {\n  // Getting an empty string will occur if the attribute is set on the HTML tag but without a value\n  // We'll assume that this is an indication that it should be toggled to true\n  // For example <script data-search-pseudo-elements src=\"...\"></script>\n  if (val === '') return true;\n  if (val === 'false') return false;\n  if (val === 'true') return true;\n  return val;\n}\n\nif (DOCUMENT && typeof DOCUMENT.querySelector === 'function') {\n  var attrs = [['data-family-prefix', 'familyPrefix'], ['data-replacement-class', 'replacementClass'], ['data-auto-replace-svg', 'autoReplaceSvg'], ['data-auto-add-css', 'autoAddCss'], ['data-auto-a11y', 'autoA11y'], ['data-search-pseudo-elements', 'searchPseudoElements'], ['data-observe-mutations', 'observeMutations'], ['data-keep-original-source', 'keepOriginalSource'], ['data-measure-performance', 'measurePerformance'], ['data-show-missing-icons', 'showMissingIcons']];\n  attrs.forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        attr = _ref2[0],\n        key = _ref2[1];\n\n    var val = coerce(getAttrConfig(attr));\n\n    if (val !== undefined && val !== null) {\n      initial[key] = val;\n    }\n  });\n}\n\nvar _default = _objectSpread({\n  familyPrefix: DEFAULT_FAMILY_PREFIX,\n  replacementClass: DEFAULT_REPLACEMENT_CLASS,\n  autoReplaceSvg: true,\n  autoAddCss: true,\n  autoA11y: true,\n  searchPseudoElements: false,\n  observeMutations: true,\n  keepOriginalSource: true,\n  measurePerformance: false,\n  showMissingIcons: true\n}, initial);\n\nif (!_default.autoReplaceSvg) _default.observeMutations = false;\n\nvar config = _objectSpread({}, _default);\n\nWINDOW.FontAwesomeConfig = config;\n\nvar w = WINDOW || {};\nif (!w[NAMESPACE_IDENTIFIER]) w[NAMESPACE_IDENTIFIER] = {};\nif (!w[NAMESPACE_IDENTIFIER].styles) w[NAMESPACE_IDENTIFIER].styles = {};\nif (!w[NAMESPACE_IDENTIFIER].hooks) w[NAMESPACE_IDENTIFIER].hooks = {};\nif (!w[NAMESPACE_IDENTIFIER].shims) w[NAMESPACE_IDENTIFIER].shims = [];\nvar namespace = w[NAMESPACE_IDENTIFIER];\n\nvar functions = [];\n\nvar listener = function listener() {\n  DOCUMENT.removeEventListener('DOMContentLoaded', listener);\n  loaded = 1;\n  functions.map(function (fn) {\n    return fn();\n  });\n};\n\nvar loaded = false;\n\nif (IS_DOM) {\n  loaded = (DOCUMENT.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(DOCUMENT.readyState);\n  if (!loaded) DOCUMENT.addEventListener('DOMContentLoaded', listener);\n}\n\nfunction domready (fn) {\n  if (!IS_DOM) return;\n  loaded ? setTimeout(fn, 0) : functions.push(fn);\n}\n\nvar d = UNITS_IN_GRID;\nvar meaninglessTransform = {\n  size: 16,\n  x: 0,\n  y: 0,\n  rotate: 0,\n  flipX: false,\n  flipY: false\n};\n\nfunction isReserved(name) {\n  return ~RESERVED_CLASSES.indexOf(name);\n}\nfunction insertCss(css) {\n  if (!css || !IS_DOM) {\n    return;\n  }\n\n  var style = DOCUMENT.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  var headChildren = DOCUMENT.head.childNodes;\n  var beforeChild = null;\n\n  for (var i = headChildren.length - 1; i > -1; i--) {\n    var child = headChildren[i];\n    var tagName = (child.tagName || '').toUpperCase();\n\n    if (['STYLE', 'LINK'].indexOf(tagName) > -1) {\n      beforeChild = child;\n    }\n  }\n\n  DOCUMENT.head.insertBefore(style, beforeChild);\n  return css;\n}\nvar idPool = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nfunction nextUniqueId() {\n  var size = 12;\n  var id = '';\n\n  while (size-- > 0) {\n    id += idPool[Math.random() * 62 | 0];\n  }\n\n  return id;\n}\nfunction toArray(obj) {\n  var array = [];\n\n  for (var i = (obj || []).length >>> 0; i--;) {\n    array[i] = obj[i];\n  }\n\n  return array;\n}\nfunction classArray(node) {\n  if (node.classList) {\n    return toArray(node.classList);\n  } else {\n    return (node.getAttribute('class') || '').split(' ').filter(function (i) {\n      return i;\n    });\n  }\n}\nfunction getIconName(familyPrefix, cls) {\n  var parts = cls.split('-');\n  var prefix = parts[0];\n  var iconName = parts.slice(1).join('-');\n\n  if (prefix === familyPrefix && iconName !== '' && !isReserved(iconName)) {\n    return iconName;\n  } else {\n    return null;\n  }\n}\nfunction htmlEscape(str) {\n  return \"\".concat(str).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\nfunction joinAttributes(attributes) {\n  return Object.keys(attributes || {}).reduce(function (acc, attributeName) {\n    return acc + \"\".concat(attributeName, \"=\\\"\").concat(htmlEscape(attributes[attributeName]), \"\\\" \");\n  }, '').trim();\n}\nfunction joinStyles(styles) {\n  return Object.keys(styles || {}).reduce(function (acc, styleName) {\n    return acc + \"\".concat(styleName, \": \").concat(styles[styleName], \";\");\n  }, '');\n}\nfunction transformIsMeaningful(transform) {\n  return transform.size !== meaninglessTransform.size || transform.x !== meaninglessTransform.x || transform.y !== meaninglessTransform.y || transform.rotate !== meaninglessTransform.rotate || transform.flipX || transform.flipY;\n}\nfunction transformForSvg(_ref) {\n  var transform = _ref.transform,\n      containerWidth = _ref.containerWidth,\n      iconWidth = _ref.iconWidth;\n  var outer = {\n    transform: \"translate(\".concat(containerWidth / 2, \" 256)\")\n  };\n  var innerTranslate = \"translate(\".concat(transform.x * 32, \", \").concat(transform.y * 32, \") \");\n  var innerScale = \"scale(\".concat(transform.size / 16 * (transform.flipX ? -1 : 1), \", \").concat(transform.size / 16 * (transform.flipY ? -1 : 1), \") \");\n  var innerRotate = \"rotate(\".concat(transform.rotate, \" 0 0)\");\n  var inner = {\n    transform: \"\".concat(innerTranslate, \" \").concat(innerScale, \" \").concat(innerRotate)\n  };\n  var path = {\n    transform: \"translate(\".concat(iconWidth / 2 * -1, \" -256)\")\n  };\n  return {\n    outer: outer,\n    inner: inner,\n    path: path\n  };\n}\nfunction transformForCss(_ref2) {\n  var transform = _ref2.transform,\n      _ref2$width = _ref2.width,\n      width = _ref2$width === void 0 ? UNITS_IN_GRID : _ref2$width,\n      _ref2$height = _ref2.height,\n      height = _ref2$height === void 0 ? UNITS_IN_GRID : _ref2$height,\n      _ref2$startCentered = _ref2.startCentered,\n      startCentered = _ref2$startCentered === void 0 ? false : _ref2$startCentered;\n  var val = '';\n\n  if (startCentered && IS_IE) {\n    val += \"translate(\".concat(transform.x / d - width / 2, \"em, \").concat(transform.y / d - height / 2, \"em) \");\n  } else if (startCentered) {\n    val += \"translate(calc(-50% + \".concat(transform.x / d, \"em), calc(-50% + \").concat(transform.y / d, \"em)) \");\n  } else {\n    val += \"translate(\".concat(transform.x / d, \"em, \").concat(transform.y / d, \"em) \");\n  }\n\n  val += \"scale(\".concat(transform.size / d * (transform.flipX ? -1 : 1), \", \").concat(transform.size / d * (transform.flipY ? -1 : 1), \") \");\n  val += \"rotate(\".concat(transform.rotate, \"deg) \");\n  return val;\n}\n\nvar ALL_SPACE = {\n  x: 0,\n  y: 0,\n  width: '100%',\n  height: '100%'\n};\nfunction makeIconMasking (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      mask = _ref.mask,\n      transform = _ref.transform;\n  var mainWidth = main.width,\n      mainPath = main.icon;\n  var maskWidth = mask.width,\n      maskPath = mask.icon;\n  var trans = transformForSvg({\n    transform: transform,\n    containerWidth: maskWidth,\n    iconWidth: mainWidth\n  });\n  var maskRect = {\n    tag: 'rect',\n    attributes: _objectSpread({}, ALL_SPACE, {\n      fill: 'white'\n    })\n  };\n  var maskInnerGroup = {\n    tag: 'g',\n    attributes: _objectSpread({}, trans.inner),\n    children: [{\n      tag: 'path',\n      attributes: _objectSpread({}, mainPath.attributes, trans.path, {\n        fill: 'black'\n      })\n    }]\n  };\n  var maskOuterGroup = {\n    tag: 'g',\n    attributes: _objectSpread({}, trans.outer),\n    children: [maskInnerGroup]\n  };\n  var maskId = \"mask-\".concat(nextUniqueId());\n  var clipId = \"clip-\".concat(nextUniqueId());\n  var maskTag = {\n    tag: 'mask',\n    attributes: _objectSpread({}, ALL_SPACE, {\n      id: maskId,\n      maskUnits: 'userSpaceOnUse',\n      maskContentUnits: 'userSpaceOnUse'\n    }),\n    children: [maskRect, maskOuterGroup]\n  };\n  var defs = {\n    tag: 'defs',\n    children: [{\n      tag: 'clipPath',\n      attributes: {\n        id: clipId\n      },\n      children: [maskPath]\n    }, maskTag]\n  };\n  children.push(defs, {\n    tag: 'rect',\n    attributes: _objectSpread({\n      fill: 'currentColor',\n      'clip-path': \"url(#\".concat(clipId, \")\"),\n      mask: \"url(#\".concat(maskId, \")\")\n    }, ALL_SPACE)\n  });\n  return {\n    children: children,\n    attributes: attributes\n  };\n}\n\nfunction makeIconStandard (_ref) {\n  var children = _ref.children,\n      attributes = _ref.attributes,\n      main = _ref.main,\n      transform = _ref.transform,\n      styles = _ref.styles;\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  if (transformIsMeaningful(transform)) {\n    var trans = transformForSvg({\n      transform: transform,\n      containerWidth: main.width,\n      iconWidth: main.width\n    });\n    children.push({\n      tag: 'g',\n      attributes: _objectSpread({}, trans.outer),\n      children: [{\n        tag: 'g',\n        attributes: _objectSpread({}, trans.inner),\n        children: [{\n          tag: main.icon.tag,\n          children: main.icon.children,\n          attributes: _objectSpread({}, main.icon.attributes, trans.path)\n        }]\n      }]\n    });\n  } else {\n    children.push(main.icon);\n  }\n\n  return {\n    children: children,\n    attributes: attributes\n  };\n}\n\nfunction asIcon (_ref) {\n  var children = _ref.children,\n      main = _ref.main,\n      mask = _ref.mask,\n      attributes = _ref.attributes,\n      styles = _ref.styles,\n      transform = _ref.transform;\n\n  if (transformIsMeaningful(transform) && main.found && !mask.found) {\n    var width = main.width,\n        height = main.height;\n    var offset = {\n      x: width / height / 2,\n      y: 0.5\n    };\n    attributes['style'] = joinStyles(_objectSpread({}, styles, {\n      'transform-origin': \"\".concat(offset.x + transform.x / 16, \"em \").concat(offset.y + transform.y / 16, \"em\")\n    }));\n  }\n\n  return [{\n    tag: 'svg',\n    attributes: attributes,\n    children: children\n  }];\n}\n\nfunction asSymbol (_ref) {\n  var prefix = _ref.prefix,\n      iconName = _ref.iconName,\n      children = _ref.children,\n      attributes = _ref.attributes,\n      symbol = _ref.symbol;\n  var id = symbol === true ? \"\".concat(prefix, \"-\").concat(config.familyPrefix, \"-\").concat(iconName) : symbol;\n  return [{\n    tag: 'svg',\n    attributes: {\n      style: 'display: none;'\n    },\n    children: [{\n      tag: 'symbol',\n      attributes: _objectSpread({}, attributes, {\n        id: id\n      }),\n      children: children\n    }]\n  }];\n}\n\nfunction makeInlineSvgAbstract(params) {\n  var _params$icons = params.icons,\n      main = _params$icons.main,\n      mask = _params$icons.mask,\n      prefix = params.prefix,\n      iconName = params.iconName,\n      transform = params.transform,\n      symbol = params.symbol,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable = params.watchable,\n      watchable = _params$watchable === void 0 ? false : _params$watchable;\n\n  var _ref = mask.found ? mask : main,\n      width = _ref.width,\n      height = _ref.height;\n\n  var widthClass = \"fa-w-\".concat(Math.ceil(width / height * 16));\n  var attrClass = [config.replacementClass, iconName ? \"\".concat(config.familyPrefix, \"-\").concat(iconName) : '', widthClass].filter(function (c) {\n    return extra.classes.indexOf(c) === -1;\n  }).concat(extra.classes).join(' ');\n  var content = {\n    children: [],\n    attributes: _objectSpread({}, extra.attributes, {\n      'data-prefix': prefix,\n      'data-icon': iconName,\n      'class': attrClass,\n      'role': 'img',\n      'xmlns': 'http://www.w3.org/2000/svg',\n      'viewBox': \"0 0 \".concat(width, \" \").concat(height)\n    })\n  };\n\n  if (watchable) {\n    content.attributes[DATA_FA_I2SVG] = '';\n  }\n\n  if (title) content.children.push({\n    tag: 'title',\n    attributes: {\n      id: content.attributes['aria-labelledby'] || \"title-\".concat(nextUniqueId())\n    },\n    children: [title]\n  });\n\n  var args = _objectSpread({}, content, {\n    prefix: prefix,\n    iconName: iconName,\n    main: main,\n    mask: mask,\n    transform: transform,\n    symbol: symbol,\n    styles: extra.styles\n  });\n\n  var _ref2 = mask.found && main.found ? makeIconMasking(args) : makeIconStandard(args),\n      children = _ref2.children,\n      attributes = _ref2.attributes;\n\n  args.children = children;\n  args.attributes = attributes;\n\n  if (symbol) {\n    return asSymbol(args);\n  } else {\n    return asIcon(args);\n  }\n}\nfunction makeLayersTextAbstract(params) {\n  var content = params.content,\n      width = params.width,\n      height = params.height,\n      transform = params.transform,\n      title = params.title,\n      extra = params.extra,\n      _params$watchable2 = params.watchable,\n      watchable = _params$watchable2 === void 0 ? false : _params$watchable2;\n\n  var attributes = _objectSpread({}, extra.attributes, title ? {\n    'title': title\n  } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  if (watchable) {\n    attributes[DATA_FA_I2SVG] = '';\n  }\n\n  var styles = _objectSpread({}, extra.styles);\n\n  if (transformIsMeaningful(transform)) {\n    styles['transform'] = transformForCss({\n      transform: transform,\n      startCentered: true,\n      width: width,\n      height: height\n    });\n    styles['-webkit-transform'] = styles['transform'];\n  }\n\n  var styleString = joinStyles(styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({\n      tag: 'span',\n      attributes: {\n        class: 'sr-only'\n      },\n      children: [title]\n    });\n  }\n\n  return val;\n}\nfunction makeLayersCounterAbstract(params) {\n  var content = params.content,\n      title = params.title,\n      extra = params.extra;\n\n  var attributes = _objectSpread({}, extra.attributes, title ? {\n    'title': title\n  } : {}, {\n    'class': extra.classes.join(' ')\n  });\n\n  var styleString = joinStyles(extra.styles);\n\n  if (styleString.length > 0) {\n    attributes['style'] = styleString;\n  }\n\n  var val = [];\n  val.push({\n    tag: 'span',\n    attributes: attributes,\n    children: [content]\n  });\n\n  if (title) {\n    val.push({\n      tag: 'span',\n      attributes: {\n        class: 'sr-only'\n      },\n      children: [title]\n    });\n  }\n\n  return val;\n}\n\nvar noop$1 = function noop() {};\n\nvar p = config.measurePerformance && PERFORMANCE && PERFORMANCE.mark && PERFORMANCE.measure ? PERFORMANCE : {\n  mark: noop$1,\n  measure: noop$1\n};\nvar preamble = \"FA \\\"5.6.3\\\"\";\n\nvar begin = function begin(name) {\n  p.mark(\"\".concat(preamble, \" \").concat(name, \" begins\"));\n  return function () {\n    return end(name);\n  };\n};\n\nvar end = function end(name) {\n  p.mark(\"\".concat(preamble, \" \").concat(name, \" ends\"));\n  p.measure(\"\".concat(preamble, \" \").concat(name), \"\".concat(preamble, \" \").concat(name, \" begins\"), \"\".concat(preamble, \" \").concat(name, \" ends\"));\n};\n\nvar perf = {\n  begin: begin,\n  end: end\n};\n\n/**\n * Internal helper to bind a function known to have 4 arguments\n * to a given context.\n */\n\nvar bindInternal4 = function bindInternal4(func, thisContext) {\n  return function (a, b, c, d) {\n    return func.call(thisContext, a, b, c, d);\n  };\n};\n\n/**\n * # Reduce\n *\n * A fast object `.reduce()` implementation.\n *\n * @param  {Object}   subject      The object to reduce over.\n * @param  {Function} fn           The reducer function.\n * @param  {mixed}    initialValue The initial value for the reducer, defaults to subject[0].\n * @param  {Object}   thisContext  The context for the reducer.\n * @return {mixed}                 The final result.\n */\n\n\nvar reduce = function fastReduceObject(subject, fn, initialValue, thisContext) {\n  var keys = Object.keys(subject),\n      length = keys.length,\n      iterator = thisContext !== undefined ? bindInternal4(fn, thisContext) : fn,\n      i,\n      key,\n      result;\n\n  if (initialValue === undefined) {\n    i = 1;\n    result = subject[keys[0]];\n  } else {\n    i = 0;\n    result = initialValue;\n  }\n\n  for (; i < length; i++) {\n    key = keys[i];\n    result = iterator(result, subject[key], key, subject);\n  }\n\n  return result;\n};\n\nvar styles = namespace.styles,\n    shims = namespace.shims;\nvar _byUnicode = {};\nvar _byLigature = {};\nvar _byOldName = {};\nvar build = function build() {\n  var lookup = function lookup(reducer) {\n    return reduce(styles, function (o, style, prefix) {\n      o[prefix] = reduce(style, reducer, {});\n      return o;\n    }, {});\n  };\n\n  _byUnicode = lookup(function (acc, icon, iconName) {\n    acc[icon[3]] = iconName;\n    return acc;\n  });\n  _byLigature = lookup(function (acc, icon, iconName) {\n    var ligatures = icon[2];\n    acc[iconName] = iconName;\n    ligatures.forEach(function (ligature) {\n      acc[ligature] = iconName;\n    });\n    return acc;\n  });\n  var hasRegular = 'far' in styles;\n  _byOldName = reduce(shims, function (acc, shim) {\n    var oldName = shim[0];\n    var prefix = shim[1];\n    var iconName = shim[2];\n\n    if (prefix === 'far' && !hasRegular) {\n      prefix = 'fas';\n    }\n\n    acc[oldName] = {\n      prefix: prefix,\n      iconName: iconName\n    };\n    return acc;\n  }, {});\n};\nbuild();\nfunction byUnicode(prefix, unicode) {\n  return _byUnicode[prefix][unicode];\n}\nfunction byLigature(prefix, ligature) {\n  return _byLigature[prefix][ligature];\n}\nfunction byOldName(name) {\n  return _byOldName[name] || {\n    prefix: null,\n    iconName: null\n  };\n}\n\nvar styles$1 = namespace.styles;\nvar emptyCanonicalIcon = function emptyCanonicalIcon() {\n  return {\n    prefix: null,\n    iconName: null,\n    rest: []\n  };\n};\nfunction getCanonicalIcon(values) {\n  return values.reduce(function (acc, cls) {\n    var iconName = getIconName(config.familyPrefix, cls);\n\n    if (styles$1[cls]) {\n      acc.prefix = cls;\n    } else if (iconName) {\n      var shim = acc.prefix === 'fa' ? byOldName(iconName) : {};\n      acc.iconName = shim.iconName || iconName;\n      acc.prefix = shim.prefix || acc.prefix;\n    } else if (cls !== config.replacementClass && cls.indexOf('fa-w-') !== 0) {\n      acc.rest.push(cls);\n    }\n\n    return acc;\n  }, emptyCanonicalIcon());\n}\nfunction iconFromMapping(mapping, prefix, iconName) {\n  if (mapping && mapping[prefix] && mapping[prefix][iconName]) {\n    return {\n      prefix: prefix,\n      iconName: iconName,\n      icon: mapping[prefix][iconName]\n    };\n  }\n}\n\nfunction toHtml(abstractNodes) {\n  var tag = abstractNodes.tag,\n      _abstractNodes$attrib = abstractNodes.attributes,\n      attributes = _abstractNodes$attrib === void 0 ? {} : _abstractNodes$attrib,\n      _abstractNodes$childr = abstractNodes.children,\n      children = _abstractNodes$childr === void 0 ? [] : _abstractNodes$childr;\n\n  if (typeof abstractNodes === 'string') {\n    return htmlEscape(abstractNodes);\n  } else {\n    return \"<\".concat(tag, \" \").concat(joinAttributes(attributes), \">\").concat(children.map(toHtml).join(''), \"</\").concat(tag, \">\");\n  }\n}\n\nvar noop$2 = function noop() {};\n\nfunction isWatched(node) {\n  var i2svg = node.getAttribute ? node.getAttribute(DATA_FA_I2SVG) : null;\n  return typeof i2svg === 'string';\n}\n\nfunction getMutator() {\n  if (config.autoReplaceSvg === true) {\n    return mutators.replace;\n  }\n\n  var mutator = mutators[config.autoReplaceSvg];\n  return mutator || mutators.replace;\n}\n\nvar mutators = {\n  replace: function replace(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1];\n    var newOuterHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n\n    if (node.parentNode && node.outerHTML) {\n      node.outerHTML = newOuterHTML + (config.keepOriginalSource && node.tagName.toLowerCase() !== 'svg' ? \"<!-- \".concat(node.outerHTML, \" -->\") : '');\n    } else if (node.parentNode) {\n      var newNode = document.createElement('span');\n      node.parentNode.replaceChild(newNode, node);\n      newNode.outerHTML = newOuterHTML;\n    }\n  },\n  nest: function nest(mutation) {\n    var node = mutation[0];\n    var abstract = mutation[1]; // If we already have a replaced node we do not want to continue nesting within it.\n    // Short-circuit to the standard replacement\n\n    if (~classArray(node).indexOf(config.replacementClass)) {\n      return mutators.replace(mutation);\n    }\n\n    var forSvg = new RegExp(\"\".concat(config.familyPrefix, \"-.*\"));\n    delete abstract[0].attributes.style;\n    var splitClasses = abstract[0].attributes.class.split(' ').reduce(function (acc, cls) {\n      if (cls === config.replacementClass || cls.match(forSvg)) {\n        acc.toSvg.push(cls);\n      } else {\n        acc.toNode.push(cls);\n      }\n\n      return acc;\n    }, {\n      toNode: [],\n      toSvg: []\n    });\n    abstract[0].attributes.class = splitClasses.toSvg.join(' ');\n    var newInnerHTML = abstract.map(function (a) {\n      return toHtml(a);\n    }).join('\\n');\n    node.setAttribute('class', splitClasses.toNode.join(' '));\n    node.setAttribute(DATA_FA_I2SVG, '');\n    node.innerHTML = newInnerHTML;\n  }\n};\nfunction perform(mutations, callback) {\n  var callbackFunction = typeof callback === 'function' ? callback : noop$2;\n\n  if (mutations.length === 0) {\n    callbackFunction();\n  } else {\n    var frame = WINDOW.requestAnimationFrame || function (op) {\n      return op();\n    };\n\n    frame(function () {\n      var mutator = getMutator();\n      var mark = perf.begin('mutate');\n      mutations.map(mutator);\n      mark();\n      callbackFunction();\n    });\n  }\n}\nvar disabled = false;\nfunction disableObservation(operation) {\n  disabled = true;\n  operation();\n  disabled = false;\n}\nvar mo = null;\nfunction observe(options) {\n  if (!MUTATION_OBSERVER) {\n    return;\n  }\n\n  if (!config.observeMutations) {\n    return;\n  }\n\n  var treeCallback = options.treeCallback,\n      nodeCallback = options.nodeCallback,\n      pseudoElementsCallback = options.pseudoElementsCallback,\n      _options$observeMutat = options.observeMutationsRoot,\n      observeMutationsRoot = _options$observeMutat === void 0 ? DOCUMENT.body : _options$observeMutat;\n  mo = new MUTATION_OBSERVER(function (objects) {\n    if (disabled) return;\n    toArray(objects).forEach(function (mutationRecord) {\n      if (mutationRecord.type === 'childList' && mutationRecord.addedNodes.length > 0 && !isWatched(mutationRecord.addedNodes[0])) {\n        if (config.searchPseudoElements) {\n          pseudoElementsCallback(mutationRecord.target);\n        }\n\n        treeCallback(mutationRecord.target);\n      }\n\n      if (mutationRecord.type === 'attributes' && mutationRecord.target.parentNode && config.searchPseudoElements) {\n        pseudoElementsCallback(mutationRecord.target.parentNode);\n      }\n\n      if (mutationRecord.type === 'attributes' && isWatched(mutationRecord.target) && ~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(mutationRecord.attributeName)) {\n        if (mutationRecord.attributeName === 'class') {\n          var _getCanonicalIcon = getCanonicalIcon(classArray(mutationRecord.target)),\n              prefix = _getCanonicalIcon.prefix,\n              iconName = _getCanonicalIcon.iconName;\n\n          if (prefix) mutationRecord.target.setAttribute('data-prefix', prefix);\n          if (iconName) mutationRecord.target.setAttribute('data-icon', iconName);\n        } else {\n          nodeCallback(mutationRecord.target);\n        }\n      }\n    });\n  });\n  if (!IS_DOM) return;\n  mo.observe(observeMutationsRoot, {\n    childList: true,\n    attributes: true,\n    characterData: true,\n    subtree: true\n  });\n}\nfunction disconnect() {\n  if (!mo) return;\n  mo.disconnect();\n}\n\nfunction styleParser (node) {\n  var style = node.getAttribute('style');\n  var val = [];\n\n  if (style) {\n    val = style.split(';').reduce(function (acc, style) {\n      var styles = style.split(':');\n      var prop = styles[0];\n      var value = styles.slice(1);\n\n      if (prop && value.length > 0) {\n        acc[prop] = value.join(':').trim();\n      }\n\n      return acc;\n    }, {});\n  }\n\n  return val;\n}\n\nfunction toHex(unicode) {\n  var result = '';\n\n  for (var i = 0; i < unicode.length; i++) {\n    var hex = unicode.charCodeAt(i).toString(16);\n    result += ('000' + hex).slice(-4);\n  }\n\n  return result;\n}\n\nfunction classParser (node) {\n  var existingPrefix = node.getAttribute('data-prefix');\n  var existingIconName = node.getAttribute('data-icon');\n  var innerText = node.innerText !== undefined ? node.innerText.trim() : '';\n  var val = getCanonicalIcon(classArray(node));\n\n  if (existingPrefix && existingIconName) {\n    val.prefix = existingPrefix;\n    val.iconName = existingIconName;\n  }\n\n  if (val.prefix && innerText.length > 1) {\n    val.iconName = byLigature(val.prefix, node.innerText);\n  } else if (val.prefix && innerText.length === 1) {\n    val.iconName = byUnicode(val.prefix, toHex(node.innerText));\n  }\n\n  return val;\n}\n\nvar parseTransformString = function parseTransformString(transformString) {\n  var transform = {\n    size: 16,\n    x: 0,\n    y: 0,\n    flipX: false,\n    flipY: false,\n    rotate: 0\n  };\n\n  if (!transformString) {\n    return transform;\n  } else {\n    return transformString.toLowerCase().split(' ').reduce(function (acc, n) {\n      var parts = n.toLowerCase().split('-');\n      var first = parts[0];\n      var rest = parts.slice(1).join('-');\n\n      if (first && rest === 'h') {\n        acc.flipX = true;\n        return acc;\n      }\n\n      if (first && rest === 'v') {\n        acc.flipY = true;\n        return acc;\n      }\n\n      rest = parseFloat(rest);\n\n      if (isNaN(rest)) {\n        return acc;\n      }\n\n      switch (first) {\n        case 'grow':\n          acc.size = acc.size + rest;\n          break;\n\n        case 'shrink':\n          acc.size = acc.size - rest;\n          break;\n\n        case 'left':\n          acc.x = acc.x - rest;\n          break;\n\n        case 'right':\n          acc.x = acc.x + rest;\n          break;\n\n        case 'up':\n          acc.y = acc.y - rest;\n          break;\n\n        case 'down':\n          acc.y = acc.y + rest;\n          break;\n\n        case 'rotate':\n          acc.rotate = acc.rotate + rest;\n          break;\n      }\n\n      return acc;\n    }, transform);\n  }\n};\nfunction transformParser (node) {\n  return parseTransformString(node.getAttribute('data-fa-transform'));\n}\n\nfunction symbolParser (node) {\n  var symbol = node.getAttribute('data-fa-symbol');\n  return symbol === null ? false : symbol === '' ? true : symbol;\n}\n\nfunction attributesParser (node) {\n  var extraAttributes = toArray(node.attributes).reduce(function (acc, attr) {\n    if (acc.name !== 'class' && acc.name !== 'style') {\n      acc[attr.name] = attr.value;\n    }\n\n    return acc;\n  }, {});\n  var title = node.getAttribute('title');\n\n  if (config.autoA11y) {\n    if (title) {\n      extraAttributes['aria-labelledby'] = \"\".concat(config.replacementClass, \"-title-\").concat(nextUniqueId());\n    } else {\n      extraAttributes['aria-hidden'] = 'true';\n    }\n  }\n\n  return extraAttributes;\n}\n\nfunction maskParser (node) {\n  var mask = node.getAttribute('data-fa-mask');\n\n  if (!mask) {\n    return emptyCanonicalIcon();\n  } else {\n    return getCanonicalIcon(mask.split(' ').map(function (i) {\n      return i.trim();\n    }));\n  }\n}\n\nvar blankMeta = {\n  iconName: null,\n  title: null,\n  prefix: null,\n  transform: meaninglessTransform,\n  symbol: false,\n  mask: null,\n  extra: {\n    classes: [],\n    styles: {},\n    attributes: {}\n  }\n};\nfunction parseMeta(node) {\n  var _classParser = classParser(node),\n      iconName = _classParser.iconName,\n      prefix = _classParser.prefix,\n      extraClasses = _classParser.rest;\n\n  var extraStyles = styleParser(node);\n  var transform = transformParser(node);\n  var symbol = symbolParser(node);\n  var extraAttributes = attributesParser(node);\n  var mask = maskParser(node);\n  return {\n    iconName: iconName,\n    title: node.getAttribute('title'),\n    prefix: prefix,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    extra: {\n      classes: extraClasses,\n      styles: extraStyles,\n      attributes: extraAttributes\n    }\n  };\n}\n\nfunction MissingIcon(error) {\n  this.name = 'MissingIcon';\n  this.message = error || 'Icon unavailable';\n  this.stack = new Error().stack;\n}\nMissingIcon.prototype = Object.create(Error.prototype);\nMissingIcon.prototype.constructor = MissingIcon;\n\nvar FILL = {\n  fill: 'currentColor'\n};\nvar ANIMATION_BASE = {\n  attributeType: 'XML',\n  repeatCount: 'indefinite',\n  dur: '2s'\n};\nvar RING = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    d: 'M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z'\n  })\n};\n\nvar OPACITY_ANIMATE = _objectSpread({}, ANIMATION_BASE, {\n  attributeName: 'opacity'\n});\n\nvar DOT = {\n  tag: 'circle',\n  attributes: _objectSpread({}, FILL, {\n    cx: '256',\n    cy: '364',\n    r: '28'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, ANIMATION_BASE, {\n      attributeName: 'r',\n      values: '28;14;28;28;14;28;'\n    })\n  }, {\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '1;0;1;1;0;1;'\n    })\n  }]\n};\nvar QUESTION = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    opacity: '1',\n    d: 'M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '1;0;0;0;0;1;'\n    })\n  }]\n};\nvar EXCLAMATION = {\n  tag: 'path',\n  attributes: _objectSpread({}, FILL, {\n    opacity: '0',\n    d: 'M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z'\n  }),\n  children: [{\n    tag: 'animate',\n    attributes: _objectSpread({}, OPACITY_ANIMATE, {\n      values: '0;0;1;1;0;0;'\n    })\n  }]\n};\nvar missing = {\n  tag: 'g',\n  children: [RING, DOT, QUESTION, EXCLAMATION]\n};\n\nvar styles$2 = namespace.styles;\nvar LAYERS_TEXT_CLASSNAME = 'fa-layers-text';\nvar FONT_FAMILY_PATTERN = /Font Awesome 5 (Solid|Regular|Light|Brands|Free|Pro)/;\nvar STYLE_TO_PREFIX = {\n  'Solid': 'fas',\n  'Regular': 'far',\n  'Light': 'fal',\n  'Brands': 'fab'\n};\nvar FONT_WEIGHT_TO_PREFIX = {\n  '900': 'fas',\n  '400': 'far',\n  '300': 'fal'\n};\n\nfunction findIcon(iconName, prefix) {\n  var val = {\n    found: false,\n    width: 512,\n    height: 512,\n    icon: missing\n  };\n\n  if (iconName && prefix && styles$2[prefix] && styles$2[prefix][iconName]) {\n    var icon = styles$2[prefix][iconName];\n    var width = icon[0];\n    var height = icon[1];\n    var vectorData = icon.slice(4);\n    val = {\n      found: true,\n      width: width,\n      height: height,\n      icon: {\n        tag: 'path',\n        attributes: {\n          fill: 'currentColor',\n          d: vectorData[0]\n        }\n      }\n    };\n  } else if (iconName && prefix && !config.showMissingIcons) {\n    throw new MissingIcon(\"Icon is missing for prefix \".concat(prefix, \" with icon name \").concat(iconName));\n  }\n\n  return val;\n}\n\nfunction generateSvgReplacementMutation(node, nodeMeta) {\n  var iconName = nodeMeta.iconName,\n      title = nodeMeta.title,\n      prefix = nodeMeta.prefix,\n      transform = nodeMeta.transform,\n      symbol = nodeMeta.symbol,\n      mask = nodeMeta.mask,\n      extra = nodeMeta.extra;\n  return [node, makeInlineSvgAbstract({\n    icons: {\n      main: findIcon(iconName, prefix),\n      mask: findIcon(mask.iconName, mask.prefix)\n    },\n    prefix: prefix,\n    iconName: iconName,\n    transform: transform,\n    symbol: symbol,\n    mask: mask,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateLayersText(node, nodeMeta) {\n  var title = nodeMeta.title,\n      transform = nodeMeta.transform,\n      extra = nodeMeta.extra;\n  var width = null;\n  var height = null;\n\n  if (IS_IE) {\n    var computedFontSize = parseInt(getComputedStyle(node).fontSize, 10);\n    var boundingClientRect = node.getBoundingClientRect();\n    width = boundingClientRect.width / computedFontSize;\n    height = boundingClientRect.height / computedFontSize;\n  }\n\n  if (config.autoA11y && !title) {\n    extra.attributes['aria-hidden'] = 'true';\n  }\n\n  return [node, makeLayersTextAbstract({\n    content: node.innerHTML,\n    width: width,\n    height: height,\n    transform: transform,\n    title: title,\n    extra: extra,\n    watchable: true\n  })];\n}\n\nfunction generateMutation(node) {\n  var nodeMeta = parseMeta(node);\n\n  if (~nodeMeta.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)) {\n    return generateLayersText(node, nodeMeta);\n  } else {\n    return generateSvgReplacementMutation(node, nodeMeta);\n  }\n}\n\nfunction searchPseudoElements(root) {\n  if (!IS_DOM) return;\n  var end = perf.begin('searchPseudoElements');\n  disableObservation(function () {\n    toArray(root.querySelectorAll('*')).filter(function (n) {\n      return n.parentNode !== document.head && !~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(n.tagName.toUpperCase()) && !n.getAttribute(DATA_FA_PSEUDO_ELEMENT) && (!n.parentNode || n.parentNode.tagName !== 'svg');\n    }).forEach(function (node) {\n      [':before', ':after'].forEach(function (pos) {\n        var children = toArray(node.children);\n        var alreadyProcessedPseudoElement = children.filter(function (c) {\n          return c.getAttribute(DATA_FA_PSEUDO_ELEMENT) === pos;\n        })[0];\n        var styles = WINDOW.getComputedStyle(node, pos);\n        var fontFamily = styles.getPropertyValue('font-family').match(FONT_FAMILY_PATTERN);\n        var fontWeight = styles.getPropertyValue('font-weight');\n\n        if (alreadyProcessedPseudoElement && !fontFamily) {\n          // If we've already processed it but the current computed style does not result in a font-family,\n          // that probably means that a class name that was previously present to make the icon has been\n          // removed. So we now should delete the icon.\n          node.removeChild(alreadyProcessedPseudoElement);\n        } else if (fontFamily) {\n          var content = styles.getPropertyValue('content');\n          var prefix = ~['Light', 'Regular', 'Solid', 'Brands'].indexOf(fontFamily[1]) ? STYLE_TO_PREFIX[fontFamily[1]] : FONT_WEIGHT_TO_PREFIX[fontWeight];\n          var iconName = byUnicode(prefix, toHex(content.length === 3 ? content.substr(1, 1) : content)); // Only convert the pseudo element in this :before/:after position into an icon if we haven't\n          // already done so with the same prefix and iconName\n\n          if (!alreadyProcessedPseudoElement || alreadyProcessedPseudoElement.getAttribute(DATA_PREFIX) !== prefix || alreadyProcessedPseudoElement.getAttribute(DATA_ICON) !== iconName) {\n            if (alreadyProcessedPseudoElement) {\n              // Delete the old one, since we're replacing it with a new one\n              node.removeChild(alreadyProcessedPseudoElement);\n            }\n\n            var extra = blankMeta.extra;\n            extra.attributes[DATA_FA_PSEUDO_ELEMENT] = pos;\n            var abstract = makeInlineSvgAbstract(_objectSpread({}, blankMeta, {\n              icons: {\n                main: findIcon(iconName, prefix),\n                mask: emptyCanonicalIcon()\n              },\n              prefix: prefix,\n              iconName: iconName,\n              extra: extra,\n              watchable: true\n            }));\n            var element = DOCUMENT.createElement('svg');\n\n            if (pos === ':before') {\n              node.insertBefore(element, node.firstChild);\n            } else {\n              node.appendChild(element);\n            }\n\n            element.outerHTML = abstract.map(function (a) {\n              return toHtml(a);\n            }).join('\\n');\n          }\n        }\n      });\n    });\n  });\n  end();\n}\nfunction onTree(root) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (!IS_DOM) return;\n  var htmlClassList = DOCUMENT.documentElement.classList;\n\n  var hclAdd = function hclAdd(suffix) {\n    return htmlClassList.add(\"\".concat(HTML_CLASS_I2SVG_BASE_CLASS, \"-\").concat(suffix));\n  };\n\n  var hclRemove = function hclRemove(suffix) {\n    return htmlClassList.remove(\"\".concat(HTML_CLASS_I2SVG_BASE_CLASS, \"-\").concat(suffix));\n  };\n\n  var prefixes = Object.keys(styles$2);\n  var prefixesDomQuery = [\".\".concat(LAYERS_TEXT_CLASSNAME, \":not([\").concat(DATA_FA_I2SVG, \"])\")].concat(prefixes.map(function (p) {\n    return \".\".concat(p, \":not([\").concat(DATA_FA_I2SVG, \"])\");\n  })).join(', ');\n\n  if (prefixesDomQuery.length === 0) {\n    return;\n  }\n\n  var candidates = toArray(root.querySelectorAll(prefixesDomQuery));\n\n  if (candidates.length > 0) {\n    hclAdd('pending');\n    hclRemove('complete');\n  } else {\n    return;\n  }\n\n  var mark = perf.begin('onTree');\n  var mutations = candidates.reduce(function (acc, node) {\n    try {\n      var mutation = generateMutation(node);\n\n      if (mutation) {\n        acc.push(mutation);\n      }\n    } catch (e) {\n      if (!PRODUCTION) {\n        if (e instanceof MissingIcon) {\n          console.error(e);\n        }\n      }\n    }\n\n    return acc;\n  }, []);\n  mark();\n  perform(mutations, function () {\n    hclAdd('active');\n    hclAdd('complete');\n    hclRemove('pending');\n    if (typeof callback === 'function') callback();\n  });\n}\nfunction onNode(node) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var mutation = generateMutation(node);\n\n  if (mutation) {\n    perform([mutation], callback);\n  }\n}\n\nvar baseStyles = \"svg:not(:root).svg-inline--fa {\\n  overflow: visible;\\n}\\n\\n.svg-inline--fa {\\n  display: inline-block;\\n  font-size: inherit;\\n  height: 1em;\\n  overflow: visible;\\n  vertical-align: -0.125em;\\n}\\n.svg-inline--fa.fa-lg {\\n  vertical-align: -0.225em;\\n}\\n.svg-inline--fa.fa-w-1 {\\n  width: 0.0625em;\\n}\\n.svg-inline--fa.fa-w-2 {\\n  width: 0.125em;\\n}\\n.svg-inline--fa.fa-w-3 {\\n  width: 0.1875em;\\n}\\n.svg-inline--fa.fa-w-4 {\\n  width: 0.25em;\\n}\\n.svg-inline--fa.fa-w-5 {\\n  width: 0.3125em;\\n}\\n.svg-inline--fa.fa-w-6 {\\n  width: 0.375em;\\n}\\n.svg-inline--fa.fa-w-7 {\\n  width: 0.4375em;\\n}\\n.svg-inline--fa.fa-w-8 {\\n  width: 0.5em;\\n}\\n.svg-inline--fa.fa-w-9 {\\n  width: 0.5625em;\\n}\\n.svg-inline--fa.fa-w-10 {\\n  width: 0.625em;\\n}\\n.svg-inline--fa.fa-w-11 {\\n  width: 0.6875em;\\n}\\n.svg-inline--fa.fa-w-12 {\\n  width: 0.75em;\\n}\\n.svg-inline--fa.fa-w-13 {\\n  width: 0.8125em;\\n}\\n.svg-inline--fa.fa-w-14 {\\n  width: 0.875em;\\n}\\n.svg-inline--fa.fa-w-15 {\\n  width: 0.9375em;\\n}\\n.svg-inline--fa.fa-w-16 {\\n  width: 1em;\\n}\\n.svg-inline--fa.fa-w-17 {\\n  width: 1.0625em;\\n}\\n.svg-inline--fa.fa-w-18 {\\n  width: 1.125em;\\n}\\n.svg-inline--fa.fa-w-19 {\\n  width: 1.1875em;\\n}\\n.svg-inline--fa.fa-w-20 {\\n  width: 1.25em;\\n}\\n.svg-inline--fa.fa-pull-left {\\n  margin-right: 0.3em;\\n  width: auto;\\n}\\n.svg-inline--fa.fa-pull-right {\\n  margin-left: 0.3em;\\n  width: auto;\\n}\\n.svg-inline--fa.fa-border {\\n  height: 1.5em;\\n}\\n.svg-inline--fa.fa-li {\\n  width: 2em;\\n}\\n.svg-inline--fa.fa-fw {\\n  width: 1.25em;\\n}\\n\\n.fa-layers svg.svg-inline--fa {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\\n.fa-layers {\\n  display: inline-block;\\n  height: 1em;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: -0.125em;\\n  width: 1em;\\n}\\n.fa-layers svg.svg-inline--fa {\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center;\\n}\\n\\n.fa-layers-counter, .fa-layers-text {\\n  display: inline-block;\\n  position: absolute;\\n  text-align: center;\\n}\\n\\n.fa-layers-text {\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n  -webkit-transform-origin: center center;\\n          transform-origin: center center;\\n}\\n\\n.fa-layers-counter {\\n  background-color: #ff253a;\\n  border-radius: 1em;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  color: #fff;\\n  height: 1.5em;\\n  line-height: 1;\\n  max-width: 5em;\\n  min-width: 1.5em;\\n  overflow: hidden;\\n  padding: 0.25em;\\n  right: 0;\\n  text-overflow: ellipsis;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right;\\n}\\n\\n.fa-layers-bottom-right {\\n  bottom: 0;\\n  right: 0;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom right;\\n          transform-origin: bottom right;\\n}\\n\\n.fa-layers-bottom-left {\\n  bottom: 0;\\n  left: 0;\\n  right: auto;\\n  top: auto;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: bottom left;\\n          transform-origin: bottom left;\\n}\\n\\n.fa-layers-top-right {\\n  right: 0;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top right;\\n          transform-origin: top right;\\n}\\n\\n.fa-layers-top-left {\\n  left: 0;\\n  right: auto;\\n  top: 0;\\n  -webkit-transform: scale(0.25);\\n          transform: scale(0.25);\\n  -webkit-transform-origin: top left;\\n          transform-origin: top left;\\n}\\n\\n.fa-lg {\\n  font-size: 1.3333333333em;\\n  line-height: 0.75em;\\n  vertical-align: -0.0667em;\\n}\\n\\n.fa-xs {\\n  font-size: 0.75em;\\n}\\n\\n.fa-sm {\\n  font-size: 0.875em;\\n}\\n\\n.fa-1x {\\n  font-size: 1em;\\n}\\n\\n.fa-2x {\\n  font-size: 2em;\\n}\\n\\n.fa-3x {\\n  font-size: 3em;\\n}\\n\\n.fa-4x {\\n  font-size: 4em;\\n}\\n\\n.fa-5x {\\n  font-size: 5em;\\n}\\n\\n.fa-6x {\\n  font-size: 6em;\\n}\\n\\n.fa-7x {\\n  font-size: 7em;\\n}\\n\\n.fa-8x {\\n  font-size: 8em;\\n}\\n\\n.fa-9x {\\n  font-size: 9em;\\n}\\n\\n.fa-10x {\\n  font-size: 10em;\\n}\\n\\n.fa-fw {\\n  text-align: center;\\n  width: 1.25em;\\n}\\n\\n.fa-ul {\\n  list-style-type: none;\\n  margin-left: 2.5em;\\n  padding-left: 0;\\n}\\n.fa-ul > li {\\n  position: relative;\\n}\\n\\n.fa-li {\\n  left: -2em;\\n  position: absolute;\\n  text-align: center;\\n  width: 2em;\\n  line-height: inherit;\\n}\\n\\n.fa-border {\\n  border: solid 0.08em #eee;\\n  border-radius: 0.1em;\\n  padding: 0.2em 0.25em 0.15em;\\n}\\n\\n.fa-pull-left {\\n  float: left;\\n}\\n\\n.fa-pull-right {\\n  float: right;\\n}\\n\\n.fa.fa-pull-left,\\n.fas.fa-pull-left,\\n.far.fa-pull-left,\\n.fal.fa-pull-left,\\n.fab.fa-pull-left {\\n  margin-right: 0.3em;\\n}\\n.fa.fa-pull-right,\\n.fas.fa-pull-right,\\n.far.fa-pull-right,\\n.fal.fa-pull-right,\\n.fab.fa-pull-right {\\n  margin-left: 0.3em;\\n}\\n\\n.fa-spin {\\n  -webkit-animation: fa-spin 2s infinite linear;\\n          animation: fa-spin 2s infinite linear;\\n}\\n\\n.fa-pulse {\\n  -webkit-animation: fa-spin 1s infinite steps(8);\\n          animation: fa-spin 1s infinite steps(8);\\n}\\n\\n@-webkit-keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes fa-spin {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n            transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n            transform: rotate(360deg);\\n  }\\n}\\n.fa-rotate-90 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\\\";\\n  -webkit-transform: rotate(90deg);\\n          transform: rotate(90deg);\\n}\\n\\n.fa-rotate-180 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\\\";\\n  -webkit-transform: rotate(180deg);\\n          transform: rotate(180deg);\\n}\\n\\n.fa-rotate-270 {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\\\";\\n  -webkit-transform: rotate(270deg);\\n          transform: rotate(270deg);\\n}\\n\\n.fa-flip-horizontal {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\\\";\\n  -webkit-transform: scale(-1, 1);\\n          transform: scale(-1, 1);\\n}\\n\\n.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(1, -1);\\n          transform: scale(1, -1);\\n}\\n\\n.fa-flip-horizontal.fa-flip-vertical {\\n  -ms-filter: \\\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\\\";\\n  -webkit-transform: scale(-1, -1);\\n          transform: scale(-1, -1);\\n}\\n\\n:root .fa-rotate-90,\\n:root .fa-rotate-180,\\n:root .fa-rotate-270,\\n:root .fa-flip-horizontal,\\n:root .fa-flip-vertical {\\n  -webkit-filter: none;\\n          filter: none;\\n}\\n\\n.fa-stack {\\n  display: inline-block;\\n  height: 2em;\\n  position: relative;\\n  width: 2.5em;\\n}\\n\\n.fa-stack-1x,\\n.fa-stack-2x {\\n  bottom: 0;\\n  left: 0;\\n  margin: auto;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\\n.svg-inline--fa.fa-stack-1x {\\n  height: 1em;\\n  width: 1.25em;\\n}\\n.svg-inline--fa.fa-stack-2x {\\n  height: 2em;\\n  width: 2.5em;\\n}\\n\\n.fa-inverse {\\n  color: #fff;\\n}\\n\\n.sr-only {\\n  border: 0;\\n  clip: rect(0, 0, 0, 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  width: 1px;\\n}\\n\\n.sr-only-focusable:active, .sr-only-focusable:focus {\\n  clip: auto;\\n  height: auto;\\n  margin: 0;\\n  overflow: visible;\\n  position: static;\\n  width: auto;\\n}\";\n\nfunction css () {\n  var dfp = DEFAULT_FAMILY_PREFIX;\n  var drc = DEFAULT_REPLACEMENT_CLASS;\n  var fp = config.familyPrefix;\n  var rc = config.replacementClass;\n  var s = baseStyles;\n\n  if (fp !== dfp || rc !== drc) {\n    var dPatt = new RegExp(\"\\\\.\".concat(dfp, \"\\\\-\"), 'g');\n    var rPatt = new RegExp(\"\\\\.\".concat(drc), 'g');\n    s = s.replace(dPatt, \".\".concat(fp, \"-\")).replace(rPatt, \".\".concat(rc));\n  }\n\n  return s;\n}\n\nfunction define(prefix, icons) {\n  var normalized = Object.keys(icons).reduce(function (acc, iconName) {\n    var icon = icons[iconName];\n    var expanded = !!icon.icon;\n\n    if (expanded) {\n      acc[icon.iconName] = icon.icon;\n    } else {\n      acc[iconName] = icon;\n    }\n\n    return acc;\n  }, {});\n\n  if (typeof namespace.hooks.addPack === 'function') {\n    namespace.hooks.addPack(prefix, normalized);\n  } else {\n    namespace.styles[prefix] = _objectSpread({}, namespace.styles[prefix] || {}, normalized);\n  }\n  /**\n   * Font Awesome 4 used the prefix of `fa` for all icons. With the introduction\n   * of new styles we needed to differentiate between them. Prefix `fa` is now an alias\n   * for `fas` so we'll easy the upgrade process for our users by automatically defining\n   * this as well.\n   */\n\n\n  if (prefix === 'fas') {\n    define('fa', icons);\n  }\n}\n\nvar Library =\n/*#__PURE__*/\nfunction () {\n  function Library() {\n    _classCallCheck(this, Library);\n\n    this.definitions = {};\n  }\n\n  _createClass(Library, [{\n    key: \"add\",\n    value: function add() {\n      var _this = this;\n\n      for (var _len = arguments.length, definitions = new Array(_len), _key = 0; _key < _len; _key++) {\n        definitions[_key] = arguments[_key];\n      }\n\n      var additions = definitions.reduce(this._pullDefinitions, {});\n      Object.keys(additions).forEach(function (key) {\n        _this.definitions[key] = _objectSpread({}, _this.definitions[key] || {}, additions[key]);\n        define(key, additions[key]);\n        build();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.definitions = {};\n    }\n  }, {\n    key: \"_pullDefinitions\",\n    value: function _pullDefinitions(additions, definition) {\n      var normalized = definition.prefix && definition.iconName && definition.icon ? {\n        0: definition\n      } : definition;\n      Object.keys(normalized).map(function (key) {\n        var _normalized$key = normalized[key],\n            prefix = _normalized$key.prefix,\n            iconName = _normalized$key.iconName,\n            icon = _normalized$key.icon;\n        if (!additions[prefix]) additions[prefix] = {};\n        additions[prefix][iconName] = icon;\n      });\n      return additions;\n    }\n  }]);\n\n  return Library;\n}();\n\nfunction prepIcon(icon) {\n  var width = icon[0];\n  var height = icon[1];\n  var vectorData = icon.slice(4);\n  return {\n    found: true,\n    width: width,\n    height: height,\n    icon: {\n      tag: 'path',\n      attributes: {\n        fill: 'currentColor',\n        d: vectorData[0]\n      }\n    }\n  };\n}\n\nfunction ensureCss() {\n  if (config.autoAddCss && !_cssInserted) {\n    insertCss(css());\n\n    _cssInserted = true;\n  }\n}\n\nfunction apiObject(val, abstractCreator) {\n  Object.defineProperty(val, 'abstract', {\n    get: abstractCreator\n  });\n  Object.defineProperty(val, 'html', {\n    get: function get() {\n      return val.abstract.map(function (a) {\n        return toHtml(a);\n      });\n    }\n  });\n  Object.defineProperty(val, 'node', {\n    get: function get() {\n      if (!IS_DOM) return;\n      var container = DOCUMENT.createElement('div');\n      container.innerHTML = val.html;\n      return container.children;\n    }\n  });\n  return val;\n}\n\nfunction findIconDefinition(params) {\n  var _params$prefix = params.prefix,\n      prefix = _params$prefix === void 0 ? 'fa' : _params$prefix,\n      iconName = params.iconName;\n  if (!iconName) return;\n  return iconFromMapping(library.definitions, prefix, iconName) || iconFromMapping(namespace.styles, prefix, iconName);\n}\n\nfunction resolveIcons(next) {\n  return function (maybeIconDefinition) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var iconDefinition = (maybeIconDefinition || {}).icon ? maybeIconDefinition : findIconDefinition(maybeIconDefinition || {});\n    var mask = params.mask;\n\n    if (mask) {\n      mask = (mask || {}).icon ? mask : findIconDefinition(mask || {});\n    }\n\n    return next(iconDefinition, _objectSpread({}, params, {\n      mask: mask\n    }));\n  };\n}\n\nvar library = new Library();\nvar noAuto = function noAuto() {\n  config.autoReplaceSvg = false;\n  config.observeMutations = false;\n  disconnect();\n};\nvar _cssInserted = false;\nvar dom = {\n  i2svg: function i2svg() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (IS_DOM) {\n      ensureCss();\n      var _params$node = params.node,\n          node = _params$node === void 0 ? DOCUMENT : _params$node,\n          _params$callback = params.callback,\n          callback = _params$callback === void 0 ? function () {} : _params$callback;\n\n      if (config.searchPseudoElements) {\n        searchPseudoElements(node);\n      }\n\n      onTree(node, callback);\n    }\n  },\n  css: css,\n  insertCss: function insertCss$$1() {\n    if (!_cssInserted) {\n      insertCss(css());\n\n      _cssInserted = true;\n    }\n  },\n  watch: function watch() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var autoReplaceSvgRoot = params.autoReplaceSvgRoot,\n        observeMutationsRoot = params.observeMutationsRoot;\n\n    if (config.autoReplaceSvg === false) {\n      config.autoReplaceSvg = true;\n    }\n\n    config.observeMutations = true;\n    domready(function () {\n      autoReplace({\n        autoReplaceSvgRoot: autoReplaceSvgRoot\n      });\n      observe({\n        treeCallback: onTree,\n        nodeCallback: onNode,\n        pseudoElementsCallback: searchPseudoElements,\n        observeMutationsRoot: observeMutationsRoot\n      });\n    });\n  }\n};\nvar parse = {\n  transform: function transform(transformString) {\n    return parseTransformString(transformString);\n  }\n};\nvar icon = resolveIcons(function (iconDefinition) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform = params.transform,\n      transform = _params$transform === void 0 ? meaninglessTransform : _params$transform,\n      _params$symbol = params.symbol,\n      symbol = _params$symbol === void 0 ? false : _params$symbol,\n      _params$mask = params.mask,\n      mask = _params$mask === void 0 ? null : _params$mask,\n      _params$title = params.title,\n      title = _params$title === void 0 ? null : _params$title,\n      _params$classes = params.classes,\n      classes = _params$classes === void 0 ? [] : _params$classes,\n      _params$attributes = params.attributes,\n      attributes = _params$attributes === void 0 ? {} : _params$attributes,\n      _params$styles = params.styles,\n      styles = _params$styles === void 0 ? {} : _params$styles;\n  if (!iconDefinition) return;\n  var prefix = iconDefinition.prefix,\n      iconName = iconDefinition.iconName,\n      icon = iconDefinition.icon;\n  return apiObject(_objectSpread({\n    type: 'icon'\n  }, iconDefinition), function () {\n    ensureCss();\n\n    if (config.autoA11y) {\n      if (title) {\n        attributes['aria-labelledby'] = \"\".concat(config.replacementClass, \"-title-\").concat(nextUniqueId());\n      } else {\n        attributes['aria-hidden'] = 'true';\n      }\n    }\n\n    return makeInlineSvgAbstract({\n      icons: {\n        main: prepIcon(icon),\n        mask: mask ? prepIcon(mask.icon) : {\n          found: false,\n          width: null,\n          height: null,\n          icon: {}\n        }\n      },\n      prefix: prefix,\n      iconName: iconName,\n      transform: _objectSpread({}, meaninglessTransform, transform),\n      symbol: symbol,\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: classes\n      }\n    });\n  });\n});\nvar text = function text(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$transform2 = params.transform,\n      transform = _params$transform2 === void 0 ? meaninglessTransform : _params$transform2,\n      _params$title2 = params.title,\n      title = _params$title2 === void 0 ? null : _params$title2,\n      _params$classes2 = params.classes,\n      classes = _params$classes2 === void 0 ? [] : _params$classes2,\n      _params$attributes2 = params.attributes,\n      attributes = _params$attributes2 === void 0 ? {} : _params$attributes2,\n      _params$styles2 = params.styles,\n      styles = _params$styles2 === void 0 ? {} : _params$styles2;\n  return apiObject({\n    type: 'text',\n    content: content\n  }, function () {\n    ensureCss();\n    return makeLayersTextAbstract({\n      content: content,\n      transform: _objectSpread({}, meaninglessTransform, transform),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [\"\".concat(config.familyPrefix, \"-layers-text\")].concat(_toConsumableArray(classes))\n      }\n    });\n  });\n};\nvar counter = function counter(content) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _params$title3 = params.title,\n      title = _params$title3 === void 0 ? null : _params$title3,\n      _params$classes3 = params.classes,\n      classes = _params$classes3 === void 0 ? [] : _params$classes3,\n      _params$attributes3 = params.attributes,\n      attributes = _params$attributes3 === void 0 ? {} : _params$attributes3,\n      _params$styles3 = params.styles,\n      styles = _params$styles3 === void 0 ? {} : _params$styles3;\n  return apiObject({\n    type: 'counter',\n    content: content\n  }, function () {\n    ensureCss();\n    return makeLayersCounterAbstract({\n      content: content.toString(),\n      title: title,\n      extra: {\n        attributes: attributes,\n        styles: styles,\n        classes: [\"\".concat(config.familyPrefix, \"-layers-counter\")].concat(_toConsumableArray(classes))\n      }\n    });\n  });\n};\nvar layer = function layer(assembler) {\n  return apiObject({\n    type: 'layer'\n  }, function () {\n    ensureCss();\n    var children = [];\n    assembler(function (args) {\n      Array.isArray(args) ? args.map(function (a) {\n        children = children.concat(a.abstract);\n      }) : children = children.concat(args.abstract);\n    });\n    return [{\n      tag: 'span',\n      attributes: {\n        class: \"\".concat(config.familyPrefix, \"-layers\")\n      },\n      children: children\n    }];\n  });\n};\nvar api = {\n  noAuto: noAuto,\n  config: config,\n  dom: dom,\n  library: library,\n  parse: parse,\n  findIconDefinition: findIconDefinition,\n  icon: icon,\n  text: text,\n  counter: counter,\n  layer: layer,\n  toHtml: toHtml\n};\n\nvar autoReplace = function autoReplace() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _params$autoReplaceSv = params.autoReplaceSvgRoot,\n      autoReplaceSvgRoot = _params$autoReplaceSv === void 0 ? DOCUMENT : _params$autoReplaceSv;\n  if (Object.keys(namespace.styles).length > 0 && IS_DOM && config.autoReplaceSvg) api.dom.i2svg({\n    node: autoReplaceSvgRoot\n  });\n};\n\nexport { icon, noAuto, config, toHtml, layer, text, counter, library, dom, parse, findIconDefinition };\n","import { parse, icon, config, text } from '@fortawesome/fontawesome-svg-core';\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar humps = createCommonjsModule(function (module) {\n(function(global) {\n\n  var _processKeys = function(convert, obj, options) {\n    if(!_isObject(obj) || _isDate(obj) || _isRegExp(obj) || _isBoolean(obj) || _isFunction(obj)) {\n      return obj;\n    }\n\n    var output,\n        i = 0,\n        l = 0;\n\n    if(_isArray(obj)) {\n      output = [];\n      for(l=obj.length; i<l; i++) {\n        output.push(_processKeys(convert, obj[i], options));\n      }\n    }\n    else {\n      output = {};\n      for(var key in obj) {\n        if(Object.prototype.hasOwnProperty.call(obj, key)) {\n          output[convert(key, options)] = _processKeys(convert, obj[key], options);\n        }\n      }\n    }\n    return output;\n  };\n\n  // String conversion methods\n\n  var separateWords = function(string, options) {\n    options = options || {};\n    var separator = options.separator || '_';\n    var split = options.split || /(?=[A-Z])/;\n\n    return string.split(split).join(separator);\n  };\n\n  var camelize = function(string) {\n    if (_isNumerical(string)) {\n      return string;\n    }\n    string = string.replace(/[\\-_\\s]+(.)?/g, function(match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n    // Ensure 1st char is always lowercase\n    return string.substr(0, 1).toLowerCase() + string.substr(1);\n  };\n\n  var pascalize = function(string) {\n    var camelized = camelize(string);\n    // Ensure 1st char is always uppercase\n    return camelized.substr(0, 1).toUpperCase() + camelized.substr(1);\n  };\n\n  var decamelize = function(string, options) {\n    return separateWords(string, options).toLowerCase();\n  };\n\n  // Utilities\n  // Taken from Underscore.js\n\n  var toString = Object.prototype.toString;\n\n  var _isFunction = function(obj) {\n    return typeof(obj) === 'function';\n  };\n  var _isObject = function(obj) {\n    return obj === Object(obj);\n  };\n  var _isArray = function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n  var _isDate = function(obj) {\n    return toString.call(obj) == '[object Date]';\n  };\n  var _isRegExp = function(obj) {\n    return toString.call(obj) == '[object RegExp]';\n  };\n  var _isBoolean = function(obj) {\n    return toString.call(obj) == '[object Boolean]';\n  };\n\n  // Performant way to determine if obj coerces to a number\n  var _isNumerical = function(obj) {\n    obj = obj - 0;\n    return obj === obj;\n  };\n\n  // Sets up function which handles processing keys\n  // allowing the convert function to be modified by a callback\n  var _processor = function(convert, options) {\n    var callback = options && 'process' in options ? options.process : options;\n\n    if(typeof(callback) !== 'function') {\n      return convert;\n    }\n\n    return function(string, options) {\n      return callback(string, convert, options);\n    }\n  };\n\n  var humps = {\n    camelize: camelize,\n    decamelize: decamelize,\n    pascalize: pascalize,\n    depascalize: decamelize,\n    camelizeKeys: function(object, options) {\n      return _processKeys(_processor(camelize, options), object);\n    },\n    decamelizeKeys: function(object, options) {\n      return _processKeys(_processor(decamelize, options), object, options);\n    },\n    pascalizeKeys: function(object, options) {\n      return _processKeys(_processor(pascalize, options), object);\n    },\n    depascalizeKeys: function () {\n      return this.decamelizeKeys.apply(this, arguments);\n    }\n  };\n\n  if (typeof undefined === 'function' && undefined.amd) {\n    undefined(humps);\n  } else if ('object' !== 'undefined' && module.exports) {\n    module.exports = humps;\n  } else {\n    global.humps = humps;\n  }\n\n})(commonjsGlobal);\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction styleToObject(style) {\n  return style.split(';').map(function (s) {\n    return s.trim();\n  }).filter(function (s) {\n    return s;\n  }).reduce(function (acc, pair) {\n    var i = pair.indexOf(':');\n    var prop = humps.camelize(pair.slice(0, i));\n    var value = pair.slice(i + 1).trim();\n\n    acc[prop] = value;\n\n    return acc;\n  }, {});\n}\n\nfunction classToObject(cls) {\n  return cls.split(/\\s+/).reduce(function (acc, c) {\n    acc[c] = true;\n\n    return acc;\n  }, {});\n}\n\nfunction combineClassObjects() {\n  for (var _len = arguments.length, objs = Array(_len), _key = 0; _key < _len; _key++) {\n    objs[_key] = arguments[_key];\n  }\n\n  return objs.reduce(function (acc, obj) {\n    if (Array.isArray(obj)) {\n      acc = acc.concat(obj);\n    } else {\n      acc.push(obj);\n    }\n\n    return acc;\n  }, []);\n}\n\nfunction convert(h, element) {\n  var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var children = (element.children || []).map(convert.bind(null, h));\n\n  var mixins = Object.keys(element.attributes || {}).reduce(function (acc, key) {\n    var val = element.attributes[key];\n\n    switch (key) {\n      case 'class':\n        acc['class'] = classToObject(val);\n        break;\n      case 'style':\n        acc['style'] = styleToObject(val);\n        break;\n      default:\n        acc.attrs[key] = val;\n    }\n\n    return acc;\n  }, { 'class': {}, style: {}, attrs: {} });\n\n  var _data$class = data.class,\n      dClass = _data$class === undefined ? {} : _data$class,\n      _data$style = data.style,\n      dStyle = _data$style === undefined ? {} : _data$style,\n      _data$attrs = data.attrs,\n      dAttrs = _data$attrs === undefined ? {} : _data$attrs,\n      remainingData = objectWithoutProperties(data, ['class', 'style', 'attrs']);\n\n\n  if (typeof element === 'string') {\n    return element;\n  } else {\n    return h(element.tag, _extends({\n      class: combineClassObjects(mixins.class, dClass),\n      style: _extends({}, mixins.style, dStyle),\n      attrs: _extends({}, mixins.attrs, dAttrs)\n    }, remainingData, {\n      props: props\n    }), children);\n  }\n}\n\nvar PRODUCTION = false;\n\ntry {\n  PRODUCTION = process.env.NODE_ENV === 'production';\n} catch (e) {}\n\nfunction log () {\n  if (!PRODUCTION && console && typeof console.error === 'function') {\n    var _console;\n\n    (_console = console).error.apply(_console, arguments);\n  }\n}\n\nfunction objectWithKey(key, value) {\n  return Array.isArray(value) && value.length > 0 || !Array.isArray(value) && value ? defineProperty({}, key, value) : {};\n}\n\nfunction classList(props) {\n  var _classes;\n\n  var classes = (_classes = {\n    'fa-spin': props.spin,\n    'fa-pulse': props.pulse,\n    'fa-fw': props.fixedWidth,\n    'fa-border': props.border,\n    'fa-li': props.listItem,\n    'fa-flip-horizontal': props.flip === 'horizontal' || props.flip === 'both',\n    'fa-flip-vertical': props.flip === 'vertical' || props.flip === 'both'\n  }, defineProperty(_classes, 'fa-' + props.size, props.size !== null), defineProperty(_classes, 'fa-rotate-' + props.rotation, props.rotation !== null), defineProperty(_classes, 'fa-pull-' + props.pull, props.pull !== null), _classes);\n\n  return Object.keys(classes).map(function (key) {\n    return classes[key] ? key : null;\n  }).filter(function (key) {\n    return key;\n  });\n}\n\nfunction addStaticClass(to, what) {\n  var val = (to || '').length === 0 ? [] : [to];\n\n  return val.concat(what).join(' ');\n}\n\nfunction normalizeIconArgs(icon$$1) {\n  if (icon$$1 === null) {\n    return null;\n  }\n\n  if ((typeof icon$$1 === 'undefined' ? 'undefined' : _typeof(icon$$1)) === 'object' && icon$$1.prefix && icon$$1.iconName) {\n    return icon$$1;\n  }\n\n  if (Array.isArray(icon$$1) && icon$$1.length === 2) {\n    return { prefix: icon$$1[0], iconName: icon$$1[1] };\n  }\n\n  if (typeof icon$$1 === 'string') {\n    return { prefix: 'fas', iconName: icon$$1 };\n  }\n}\n\nvar FontAwesomeIcon = {\n  name: 'FontAwesomeIcon',\n\n  functional: true,\n\n  props: {\n    border: {\n      type: Boolean,\n      default: false\n    },\n    fixedWidth: {\n      type: Boolean,\n      default: false\n    },\n    flip: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['horizontal', 'vertical', 'both'].indexOf(value) > -1;\n      }\n    },\n    icon: {\n      type: [Object, Array, String],\n      required: true\n    },\n    mask: {\n      type: [Object, Array, String],\n      default: null\n    },\n    listItem: {\n      type: Boolean,\n      default: false\n    },\n    pull: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['right', 'left'].indexOf(value) > -1;\n      }\n    },\n    pulse: {\n      type: Boolean,\n      default: false\n    },\n    rotation: {\n      type: Number,\n      default: null,\n      validator: function validator(value) {\n        return [90, 180, 270].indexOf(value) > -1;\n      }\n    },\n    size: {\n      type: String,\n      default: null,\n      validator: function validator(value) {\n        return ['lg', 'xs', 'sm', '1x', '2x', '3x', '4x', '5x', '6x', '7x', '8x', '9x', '10x'].indexOf(value) > -1;\n      }\n    },\n    spin: {\n      type: Boolean,\n      default: false\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    },\n    symbol: {\n      type: [Boolean, String],\n      default: false\n    },\n    title: {\n      type: String,\n      default: null\n    }\n  },\n\n  render: function render(createElement, context) {\n    var props = context.props;\n    var iconArgs = props.icon,\n        maskArgs = props.mask,\n        symbol = props.symbol,\n        title = props.title;\n\n    var icon$$1 = normalizeIconArgs(iconArgs);\n    var classes = objectWithKey('classes', classList(props));\n    var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n    var mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n\n    var renderedIcon = icon(icon$$1, _extends({}, classes, transform, mask, { symbol: symbol, title: title }));\n\n    if (!renderedIcon) {\n      return log('Could not find one or more icon(s)', icon$$1, mask);\n    }\n\n    var abstract = renderedIcon.abstract;\n\n    var convertCurry = convert.bind(null, createElement);\n\n    return convertCurry(abstract[0], {}, context.data);\n  }\n};\n\nvar FontAwesomeLayers = {\n  name: 'FontAwesomeLayers',\n\n  functional: true,\n\n  props: {\n    fixedWidth: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  render: function render(createElement, context) {\n    var familyPrefix = config.familyPrefix;\n    var staticClass = context.data.staticClass;\n\n\n    var classes = [familyPrefix + '-layers'].concat(toConsumableArray(context.props.fixedWidth ? [familyPrefix + '-fw'] : []));\n\n    return createElement('div', _extends({}, context.data, {\n      staticClass: addStaticClass(staticClass, classes)\n    }), context.children);\n  }\n};\n\nvar FontAwesomeLayersText = {\n  name: 'FontAwesomeLayersText',\n\n  functional: true,\n\n  props: {\n    value: {\n      type: [String, Number],\n      default: ''\n    },\n    transform: {\n      type: [String, Object],\n      default: null\n    }\n  },\n\n  render: function render(createElement, context) {\n    var props = context.props;\n\n    var transform = objectWithKey('transform', typeof props.transform === 'string' ? parse.transform(props.transform) : props.transform);\n\n    var renderedText = text(props.value.toString(), _extends({}, transform));\n\n    var abstract = renderedText.abstract;\n\n\n    var convertCurry = convert.bind(null, createElement);\n\n    return convertCurry(abstract[0], {}, context.data);\n  }\n};\n\nexport { FontAwesomeIcon, FontAwesomeLayers, FontAwesomeLayersText };\n","function duration(el) {\n    const duration = getComputedStyle(el).transitionDuration;\n    const numeric = parseFloat(duration, 10) || 0;\n    const unit = duration.match(/m?s/);\n\n    switch (unit[0]) {\n    case 's':\n        return numeric * 1000;\n    case 'ms':\n        return numeric;\n    }\n}\n\nexport default function transition(el) {\n    return new Promise((resolve, reject) => {\n        try {\n            const delay = duration(el);\n\n            setTimeout(() => {\n                resolve(delay);\n            }, delay);\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\n","import { isObject, isString } from '../Functions';\n\nexport default function instantiate(Vue, Component, options) {\n    if(Component instanceof Vue) {\n        return Component;\n    }\n\n    if(isObject(Component)) {\n        Component = Vue.extend(Component);\n    }\n    else if(isString(Component)) {\n        Component = Vue.extend({\n            functional: true,\n            render(h, context) {\n                return this._v(Component);\n            }\n        });\n    }\n\n    return new Component(options);\n}\n","import Modal from '../../Components/Modal';\nimport instantiate from '../../Helpers/Instantiate';\nimport { each, isObject, isFunction, deepExtend } from '../../Helpers/Functions';\n\nexport default function(Vue, options) {\n    Vue.prototype.$modal = function(Component, options) {\n        if(!isObject(options)) {\n            options = {};\n        }\n\n        console.log(options.modal);\n\n        const instance = instantiate(Vue, Modal, options.modal);\n\n        instance.$content = instantiate(Vue, Component, options.content);\n        instance.$slots.default = [instance.$content.$mount()._vnode];\n        instance.$mount(\n            document.body.appendChild(document.createElement('div'))\n        );\n\n        if(options.content && options.content.on) {\n            each(options.content.on, (fn, key) => {\n                instance.$content.$on(key, fn);\n            });\n        }\n\n        return instance;\n    };\n\n    Vue.prototype.$alert = function(title, Component, options) {\n        return new Promise((resolve, reject) => {\n            const modal = this.$modal(Component, deepExtend({\n                modal: {\n                    propsData: {\n                        title: title,\n                        type: 'alert'\n                    }\n                }\n            }, options));\n\n            modal.$on('confirm', event => {\n                modal.close();\n            });\n\n            modal.$on('close', event => {\n                resolve(modal);\n            });\n        });\n    };\n\n    Vue.prototype.$confirm = function(title, Component, options) {\n        return new Promise((resolve, reject) => {\n            const modal = this.$modal(Component || title, deepExtend({\n                modal: {\n                    propsData: {\n                        title: Component ? title : null,\n                        type: 'confirm'\n                    }\n                }\n            }, options));\n\n            modal.$on('cancel', event => {\n                reject(modal);\n            });\n\n            modal.$on('confirm', event => {\n                resolve(modal.close());\n            });\n        });\n    };\n\n    Vue.prototype.$prompt = function(title, Component, options, predicate) {\n        return new Promise((resolve, reject) => {\n            if(isFunction(options)) {\n                predicate = options;\n                options = {};\n            }\n            else if(isObject(options) && isFunction(options.predicate)) {\n                predicate = options.predicate;\n            }\n            else if(!isFunction(predicate)) {\n                predicate = () => true;\n            }\n\n            const modal = this.$modal(Component, deepExtend({\n                modal: {\n                    propsData: {\n                        title: title,\n                        type: 'prompt'\n                    }\n                }\n            }, options));\n\n            modal.$on('cancel', event => {\n                reject(modal);\n            });\n\n            modal.$on('confirm', event => {\n                const succeed = () => resolve(modal.close());\n                const fail = () => reject(modal.close());\n\n                if(predicate(modal, succeed, fail) === true) {\n                    succeed();\n                }\n            });\n        });\n    };\n}\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {this.id = null;};\n  Delayed.prototype.set = function (ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    input.init(d);\n  }\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range$$1;\n    try {range$$1 = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range$$1 || range$$1.parentElement() != te) { return false }\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n      var this$1 = this;\n\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n      var this$1 = this;\n\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this$1.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map$$1[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = true; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top || y >= coords.bottom;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[cm.options.gutters[i]] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range$$1 = doc.sel.ranges[i];\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range$$1.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range$$1.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range$$1, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range$$1.from(), sTo = range$$1.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (height < 2) { height = textHeight(display); }\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm);\n      return true\n    }\n    return false\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this$1.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(cm) {\n    var width = cm.display.gutters.offsetWidth;\n    cm.display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function updateGutters(cm) {\n    var gutters = cm.display.gutters, specs = cm.options.gutters;\n    removeChildren(gutters);\n    var i = 0;\n    for (; i < specs.length; ++i) {\n      var gutterClass = specs[i];\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n      if (gutterClass == \"CodeMirror-linenumbers\") {\n        cm.display.lineGutter = gElt;\n        gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = i ? \"\" : \"none\";\n    updateGutterSpace(cm);\n  }\n\n  // Make sure the gutters options contains the element\n  // \"CodeMirror-linenumbers\" when the lineNumbers option is true.\n  function setGuttersForLineNumbers(options) {\n    var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n    if (found == -1 && options.lineNumbers) {\n      options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n    } else if (found > -1 && !options.lineNumbers) {\n      options.gutters = options.gutters.slice(0);\n      options.gutters.splice(found, 1);\n    }\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n      var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n      var this$1 = this;\n\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n      var this$1 = this;\n\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        var this$1 = this;\n\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n      if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at)\n        { if (op(this$1.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this$1;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n          if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    var this$1 = this;\n\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this$1[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n      var this$1 = this;\n\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n      var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    var this$1 = this;\n\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this$1; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this$1.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range$$1 = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range$$1.head; }\n      else if (start == \"anchor\") { pos = range$$1.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n      else { pos = range$$1.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                           clipPos(this$1, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var this$1 = this;\n\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var this$1 = this;\n\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var this$1 = this;\n\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this$1, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n                span.from == null && lineNo$$1 != from.line ||\n                span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo$$1;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return clipPos(this, Pos(lineNo$$1, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this$1.linked[i];\n        if (link.doc != other) { continue }\n        this$1.linked.splice(i, 1);\n        other.unlinkDoc(this$1);\n        detachSharedMarkers(findSharedMarkers(this$1));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map$$1.fallthrough, handle, context) }\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n      else\n        { ourRange = range$$1; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      e_preventDefault(e);\n      display.input.focus();\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n    var order = getOrder(anchorLine);\n    if (!order) { return range$$1 }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.options.gutters.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.options.gutters[i];\n        signal(cm, type, cm, line, gutter, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      guttersChanged(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm) {\n      setGuttersForLineNumbers(cm.options);\n      guttersChanged(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm) {\n      setGuttersForLineNumbers(cm.options);\n      guttersChanged(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, guttersChanged, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function guttersChanged(cm) {\n    updateGutters(cm);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n    setGuttersForLineNumbers(options);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input);\n    display.wrapper.CodeMirror = this;\n    updateGutters(this);\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this$1, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var paste = cm.state.pasteIncoming || origin == \"paste\";\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(), to = range$$1.to();\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = false;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n      if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n          { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", !!autocorrect);\n    field.setAttribute(\"autocapitalize\", !!autocapitalize);\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function(map$$1) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var this$1 = this;\n\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var this$1 = this;\n\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n          if (!range$$1.empty()) {\n            var from = range$$1.from(), to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this$1, j, how); }\n            var newRanges = this$1.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n            if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var this$1 = this;\n\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range$$1 = this.doc.sel.primary();\n        if (start == null) { pos = range$$1.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range$$1.from() : range$$1.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var this$1 = this;\n\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this$1.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n            { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range$$1) {\n            var other = findPosH(doc, range$$1.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var this$1 = this;\n\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this$1, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this$1, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse)\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n          var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n          if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range$$1 == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {from: Pos(range$$1, 0), to: null};\n        } else if (range$$1.from == null) {\n          range$$1 = {from: range$$1, to: null};\n        }\n        if (!range$$1.to) { range$$1.to = range$$1.from; }\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range$$1 = found[0].find(0)))\n            { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = true;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = true; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      cm.state.pasteIncoming = true;\n      input.focus();\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.43.0\";\n\n  return CodeMirror;\n\n})));\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","module.exports = require('./lib/axios');","import axios from 'axios';\nimport { isArray } from 'vue-interface/src/Helpers/Functions';\n\nconst GUTTER_ID = 'CodeMirror-lint-errors';\n\nexport default class LintState {\n    constructor(cm, options) {\n        if(typeof options !== 'object') {\n            throw new Error('The options must be a JSON object.');\n        }\n\n        this.cm = cm;\n        this.errors = [];\n        this.options = options;\n    }\n\n    value(key, ...args) {\n        const subject = this.option(key);\n\n        return typeof subject === 'function' ? subject(this.cm, ...args) : subject;\n    }\n\n    option(key, defaultValue) {\n        return this.getOption(key, defaultValue);\n    }\n\n    callback(key, ...args) {\n        const fn = this.option(key);\n\n        if(typeof fn === 'function') {\n            return fn(...args);\n        }\n    }\n\n    setOption(key, value) {\n        this.options[key] = value;\n    }\n\n    getOption(key, defaultValue) {\n        const value = this.options[key];\n\n        return value === undefined ? defaultValue : value;\n    }\n\n    request(data, options) {\n        this.callback('onStart');\n\n        return new Promise((resolve, reject) => {\n            axios.post(\n                this.value('url'),\n                (data || this.value('data')),\n                (options || this.value('options') || this.options)\n            ).then(response => {\n                this.errors = [];\n                this.response = response = this.option('transformResponse')\n                    ? this.callback('transformResponse', response) : response.data;\n\n                resolve(response);\n\n                this.callback('onSuccess', response);\n                this.callback('onComplete', true, response);\n            }, error => {\n                this.response = null;\n                const errors = this.option('transformResponseError')\n                    ? this.callback('transformResponseError', error)\n                    : (error.response.data.errors || error.response.data);\n\n                if(isArray(errors)) {\n                    this.errors = errors;\n                }\n\n                reject(error);\n\n                this.callback('onError', error);\n                this.callback('onComplete', false, error);\n            });\n        });\n    }\n\n    findNearbyErrors(position) {\n        function check(value) {\n            return value && (\n                value.from.line <= position.line &&\n                value.to.line >= position.line\n            ) && (\n                value.from.ch <= position.ch &&\n                value.to.ch >= position.ch\n            );\n        }\n\n        return this.errors.filter(error => {\n            return error.match && (check(error.match.open) || check(error.match.close));\n        });\n    }\n\n    get id() {\n        return this.constructor.id;\n    }\n\n    get cm() {\n        return this.$cm;\n    }\n\n    set cm(value) {\n        this.$cm = value;\n    }\n\n    get options() {\n        return this.$options;\n    }\n\n    set options(value) {\n        this.$options = value;\n    }\n\n    get response() {\n        return this.$response;\n    }\n\n    set response(value) {\n        this.$response = value;\n    }\n\n    get errors() {\n        return this.$errors;\n    }\n\n    set errors(value) {\n        this.$errors = value;\n    }\n\n    get hasGutter() {\n        const gutters = this.cm.getOption('gutters');\n\n        for(var i = 0; i < gutters.length; ++i) {\n            if(gutters[i] === GUTTER_ID) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    static get id() {\n        return GUTTER_ID;\n    }\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'bug';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f188';\nvar svgPathData = 'M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faBug = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\" || value == \"in\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetype, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(isTS ? classfield : functiondef, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/.test(stream.current().toLowerCase())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"caret-color\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"will-change\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? Math.max(range.from, cm.firstLine()) : cm.firstLine();\n    this.max = range ? Math.min(range.to - 1, cm.lastLine()) : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter)\n      if (!openTag || iter.line != start.line) return\n      var end = toTagEnd(iter)\n      if (!end) return\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && cmp(endPos.from, startPos) > 0 ? {from: startPos, to: endPos.from} : null\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range, tag) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter, tag);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function() {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(), range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other)\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\n      else\n        cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function(cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      cm.execCommand(\"goCharLeft\");\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        cm.execCommand(\"goCharRight\");\n      } else if (type == \"skipThree\") {\n        for (var i = 0; i < 3; i++)\n          cm.execCommand(\"goCharRight\");\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        cm.execCommand(\"goCharLeft\");\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        cm.execCommand(\"goCharRight\");\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options) {\n    var widget = getOption(cm, options, \"widget\");\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"change\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"change\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold && marks[i].find().from.line == line) return marks[i];\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    cm.eachLine(from, to, function(line) {\n      var mark = null;\n      if (isFolded(cm, cur)) {\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize)\n          mark = marker(opts.indicatorOpen);\n      }\n      cm.setGutterMarker(line, opts.gutter, mark);\n      ++cur;\n    });\n  }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts.rangeFinder);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"brace\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n  var tokenType;\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0;;) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n\n  var startToken = \"{\", endToken = \"}\", startCh = findOpening(\"{\");\n  if (startCh == null) {\n    startToken = \"[\", endToken = \"]\";\n    startCh = findOpening(\"[\");\n  }\n\n  if (startCh == null) return;\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == tokenType) {\n        if (pos == nextOpen) ++count;\n        else if (!--count) { end = i; endCh = pos; break outer; }\n      }\n      ++pos;\n    }\n  }\n  if (end == null || line == end) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction lineIndent(cm, lineNo) {\n  var text = cm.getLine(lineNo)\n  var spaceTo = text.search(/\\S/)\n  if (spaceTo == -1 || /\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo, spaceTo + 1))))\n    return -1\n  return CodeMirror.countColumn(text, null, cm.getOption(\"tabSize\"))\n}\n\nCodeMirror.registerHelper(\"fold\", \"indent\", function(cm, start) {\n  var myIndent = lineIndent(cm, start.line)\n  if (myIndent < 0) return\n  var lastLineInFold = null\n\n  // Go through lines until we find a line that definitely doesn't belong in\n  // the block we're folding, or to the end.\n  for (var i = start.line + 1, end = cm.lastLine(); i <= end; ++i) {\n    var indent = lineIndent(cm, i)\n    if (indent == -1) {\n    } else if (indent > myIndent) {\n      // Lines with a greater indent are considered part of the block.\n      lastLineInFold = i;\n    } else {\n      // If this line has non-space, non-comment content, and is\n      // indented less or equal to the start line, it is the start of\n      // another block.\n      break;\n    }\n  }\n  if (lastLineInFold) return {\n    from: CodeMirror.Pos(start.line, cm.getLine(start.line).length),\n    to: CodeMirror.Pos(lastLineInFold, cm.getLine(lastLineInFold).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"markdown\", function(cm, start) {\n  var maxDepth = 100;\n\n  function isHeader(lineNo) {\n    var tokentype = cm.getTokenTypeAt(CodeMirror.Pos(lineNo, 0));\n    return tokentype && /\\bheader\\b/.test(tokentype);\n  }\n\n  function headerLevel(lineNo, line, nextLine) {\n    var match = line && line.match(/^#+/);\n    if (match && isHeader(lineNo)) return match[0].length;\n    match = nextLine && nextLine.match(/^[=\\-]+\\s*$/);\n    if (match && isHeader(lineNo + 1)) return nextLine[0] == \"=\" ? 1 : 2;\n    return maxDepth;\n  }\n\n  var firstLine = cm.getLine(start.line), nextLine = cm.getLine(start.line + 1);\n  var level = headerLevel(start.line, firstLine, nextLine);\n  if (level === maxDepth) return undefined;\n\n  var lastLineNo = cm.lastLine();\n  var end = start.line, nextNextLine = cm.getLine(end + 2);\n  while (end < lastLineNo) {\n    if (headerLevel(end + 1, nextLine, nextNextLine) <= level) break;\n    ++end;\n    nextLine = nextNextLine;\n    nextNextLine = cm.getLine(end + 2);\n  }\n\n  return {\n    from: CodeMirror.Pos(start.line, firstLine.length),\n    to: CodeMirror.Pos(end, cm.getLine(end).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerGlobalHelper(\"fold\", \"comment\", function(mode) {\n  return mode.blockCommentStart && mode.blockCommentEnd;\n}, function(cm, start) {\n  var mode = cm.getModeAt(start), startToken = mode.blockCommentStart, endToken = mode.blockCommentEnd;\n  if (!startToken || !endToken) return;\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh;\n  for (var at = start.ch, pass = 0;;) {\n    var found = at <= 0 ? -1 : lineText.lastIndexOf(startToken, at - 1);\n    if (found == -1) {\n      if (pass == 1) return;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < start.ch) return;\n    if (/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1))) &&\n        (found == 0 || lineText.slice(found - endToken.length, found) == endToken ||\n         !/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line, found))))) {\n      startCh = found + startToken.length;\n      break;\n    }\n    at = found - 1;\n  }\n\n  var depth = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (pos == nextOpen) ++depth;\n      else if (!--depth) { end = i; endCh = pos; break outer; }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\nvar mac = /Mac/.test(navigator.platform);\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  CodeMirror.defineExtension(\"closeHint\", function() {\n    if (this.state.completionActive) this.state.completionActive.close()\n  })\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (!pos.ch || this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n\n    if (mac) {\n      baseMap[\"Ctrl-P\"] = function() {handle.moveFocus(-1);};\n      baseMap[\"Ctrl-N\"] = function() {handle.moveFocus(1);};\n    }\n\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n    var ownerDocument = cm.getInputField().ownerDocument;\n    var parentWindow = ownerDocument.defaultView || ownerDocument.parentWindow;\n\n    var hints = this.hints = ownerDocument.createElement(\"ul\");\n    var theme = completion.cm.options.theme;\n    hints.className = \"CodeMirror-hints \" + theme;\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(ownerDocument.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(ownerDocument.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    hints.style.left = left + \"px\";\n    hints.style.top = top + \"px\";\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = parentWindow.innerWidth || Math.max(ownerDocument.body.offsetWidth, ownerDocument.documentElement.offsetWidth);\n    var winH = parentWindow.innerHeight || Math.max(ownerDocument.body.offsetHeight, ownerDocument.documentElement.offsetHeight);\n    (completion.options.container || ownerDocument.body).appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (parentWindow.pageYOffset || (ownerDocument.documentElement || ownerDocument.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[this.selectedHint], hints.childNodes[this.selectedHint]);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      if (node) node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur)\n    var term, from = CodeMirror.Pos(cur.line, token.start), to = cur\n    if (token.start < cur.ch && /\\w/.test(token.string.charAt(cur.ch - token.start - 1))) {\n      term = token.string.substr(0, cur.ch - token.start)\n    } else {\n      term = \"\"\n      from = cur\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n\n  function getHints(cm, options) {\n    var tags = options && options.schemaInfo;\n    var quote = (options && options.quoteChar) || '\"';\n    if (!tags) return;\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    if (token.end > cur.ch) {\n      token.end = cur.ch;\n      token.string = token.string.slice(0, cur.ch - token.start);\n    }\n    var inner = CodeMirror.innerMode(cm.getMode(), token.state);\n    if (inner.mode.name != \"xml\") return;\n    var result = [], replaceToken = false, prefix;\n    var tag = /\\btag\\b/.test(token.type) && !/>$/.test(token.string);\n    var tagName = tag && /^\\w/.test(token.string), tagStart;\n\n    if (tagName) {\n      var before = cm.getLine(cur.line).slice(Math.max(0, token.start - 2), token.start);\n      var tagType = /<\\/$/.test(before) ? \"close\" : /<$/.test(before) ? \"open\" : null;\n      if (tagType) tagStart = token.start - (tagType == \"close\" ? 2 : 1);\n    } else if (tag && token.string == \"<\") {\n      tagType = \"open\";\n    } else if (tag && token.string == \"</\") {\n      tagType = \"close\";\n    }\n\n    if (!tag && !inner.state.tagName || tagType) {\n      if (tagName)\n        prefix = token.string;\n      replaceToken = tagType;\n      var cx = inner.state.context, curTag = cx && tags[cx.tagName];\n      var childList = cx ? curTag && curTag.children : tags[\"!top\"];\n      if (childList && tagType != \"close\") {\n        for (var i = 0; i < childList.length; ++i) if (!prefix || childList[i].lastIndexOf(prefix, 0) == 0)\n          result.push(\"<\" + childList[i]);\n      } else if (tagType != \"close\") {\n        for (var name in tags)\n          if (tags.hasOwnProperty(name) && name != \"!top\" && name != \"!attrs\" && (!prefix || name.lastIndexOf(prefix, 0) == 0))\n            result.push(\"<\" + name);\n      }\n      if (cx && (!prefix || tagType == \"close\" && cx.tagName.lastIndexOf(prefix, 0) == 0))\n        result.push(\"</\" + cx.tagName + \">\");\n    } else {\n      // Attribute completion\n      var curTag = tags[inner.state.tagName], attrs = curTag && curTag.attrs;\n      var globalAttrs = tags[\"!attrs\"];\n      if (!attrs && !globalAttrs) return;\n      if (!attrs) {\n        attrs = globalAttrs;\n      } else if (globalAttrs) { // Combine tag-local and global attributes\n        var set = {};\n        for (var nm in globalAttrs) if (globalAttrs.hasOwnProperty(nm)) set[nm] = globalAttrs[nm];\n        for (var nm in attrs) if (attrs.hasOwnProperty(nm)) set[nm] = attrs[nm];\n        attrs = set;\n      }\n      if (token.type == \"string\" || token.string == \"=\") { // A value\n        var before = cm.getRange(Pos(cur.line, Math.max(0, cur.ch - 60)),\n                                 Pos(cur.line, token.type == \"string\" ? token.start : token.end));\n        var atName = before.match(/([^\\s\\u00a0=<>\\\"\\']+)=$/), atValues;\n        if (!atName || !attrs.hasOwnProperty(atName[1]) || !(atValues = attrs[atName[1]])) return;\n        if (typeof atValues == 'function') atValues = atValues.call(this, cm); // Functions can be used to supply values for autocomplete widget\n        if (token.type == \"string\") {\n          prefix = token.string;\n          var n = 0;\n          if (/['\"]/.test(token.string.charAt(0))) {\n            quote = token.string.charAt(0);\n            prefix = token.string.slice(1);\n            n++;\n          }\n          var len = token.string.length;\n          if (/['\"]/.test(token.string.charAt(len - 1))) {\n            quote = token.string.charAt(len - 1);\n            prefix = token.string.substr(n, len - 2);\n          }\n          replaceToken = true;\n        }\n        for (var i = 0; i < atValues.length; ++i) if (!prefix || atValues[i].lastIndexOf(prefix, 0) == 0)\n          result.push(quote + atValues[i] + quote);\n      } else { // An attribute name\n        if (token.type == \"attribute\") {\n          prefix = token.string;\n          replaceToken = true;\n        }\n        for (var attr in attrs) if (attrs.hasOwnProperty(attr) && (!prefix || attr.lastIndexOf(prefix, 0) == 0))\n          result.push(attr);\n      }\n    }\n    return {\n      list: result,\n      from: replaceToken ? Pos(cur.line, tagStart == null ? token.start : tagStart) : cur,\n      to: replaceToken ? Pos(cur.line, token.end) : cur\n    };\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"xml\", getHints);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./xml-hint\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./xml-hint\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var langs = \"ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu\".split(\" \");\n  var targets = [\"_blank\", \"_self\", \"_top\", \"_parent\"];\n  var charsets = [\"ascii\", \"utf-8\", \"utf-16\", \"latin1\", \"latin1\"];\n  var methods = [\"get\", \"post\", \"put\", \"delete\"];\n  var encs = [\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"];\n  var media = [\"all\", \"screen\", \"print\", \"embossed\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\", \"tty\", \"tv\", \"speech\",\n               \"3d-glasses\", \"resolution [>][<][=] [X]\", \"device-aspect-ratio: X/Y\", \"orientation:portrait\",\n               \"orientation:landscape\", \"device-height: [X]\", \"device-width: [X]\"];\n  var s = { attrs: {} }; // Simple tag, reused for a whole lot of tags\n\n  var data = {\n    a: {\n      attrs: {\n        href: null, ping: null, type: null,\n        media: media,\n        target: targets,\n        hreflang: langs\n      }\n    },\n    abbr: s,\n    acronym: s,\n    address: s,\n    applet: s,\n    area: {\n      attrs: {\n        alt: null, coords: null, href: null, target: null, ping: null,\n        media: media, hreflang: langs, type: null,\n        shape: [\"default\", \"rect\", \"circle\", \"poly\"]\n      }\n    },\n    article: s,\n    aside: s,\n    audio: {\n      attrs: {\n        src: null, mediagroup: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"],\n        preload: [\"none\", \"metadata\", \"auto\"],\n        autoplay: [\"\", \"autoplay\"],\n        loop: [\"\", \"loop\"],\n        controls: [\"\", \"controls\"]\n      }\n    },\n    b: s,\n    base: { attrs: { href: null, target: targets } },\n    basefont: s,\n    bdi: s,\n    bdo: s,\n    big: s,\n    blockquote: { attrs: { cite: null } },\n    body: s,\n    br: s,\n    button: {\n      attrs: {\n        form: null, formaction: null, name: null, value: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"autofocus\"],\n        formenctype: encs,\n        formmethod: methods,\n        formnovalidate: [\"\", \"novalidate\"],\n        formtarget: targets,\n        type: [\"submit\", \"reset\", \"button\"]\n      }\n    },\n    canvas: { attrs: { width: null, height: null } },\n    caption: s,\n    center: s,\n    cite: s,\n    code: s,\n    col: { attrs: { span: null } },\n    colgroup: { attrs: { span: null } },\n    command: {\n      attrs: {\n        type: [\"command\", \"checkbox\", \"radio\"],\n        label: null, icon: null, radiogroup: null, command: null, title: null,\n        disabled: [\"\", \"disabled\"],\n        checked: [\"\", \"checked\"]\n      }\n    },\n    data: { attrs: { value: null } },\n    datagrid: { attrs: { disabled: [\"\", \"disabled\"], multiple: [\"\", \"multiple\"] } },\n    datalist: { attrs: { data: null } },\n    dd: s,\n    del: { attrs: { cite: null, datetime: null } },\n    details: { attrs: { open: [\"\", \"open\"] } },\n    dfn: s,\n    dir: s,\n    div: s,\n    dl: s,\n    dt: s,\n    em: s,\n    embed: { attrs: { src: null, type: null, width: null, height: null } },\n    eventsource: { attrs: { src: null } },\n    fieldset: { attrs: { disabled: [\"\", \"disabled\"], form: null, name: null } },\n    figcaption: s,\n    figure: s,\n    font: s,\n    footer: s,\n    form: {\n      attrs: {\n        action: null, name: null,\n        \"accept-charset\": charsets,\n        autocomplete: [\"on\", \"off\"],\n        enctype: encs,\n        method: methods,\n        novalidate: [\"\", \"novalidate\"],\n        target: targets\n      }\n    },\n    frame: s,\n    frameset: s,\n    h1: s, h2: s, h3: s, h4: s, h5: s, h6: s,\n    head: {\n      attrs: {},\n      children: [\"title\", \"base\", \"link\", \"style\", \"meta\", \"script\", \"noscript\", \"command\"]\n    },\n    header: s,\n    hgroup: s,\n    hr: s,\n    html: {\n      attrs: { manifest: null },\n      children: [\"head\", \"body\"]\n    },\n    i: s,\n    iframe: {\n      attrs: {\n        src: null, srcdoc: null, name: null, width: null, height: null,\n        sandbox: [\"allow-top-navigation\", \"allow-same-origin\", \"allow-forms\", \"allow-scripts\"],\n        seamless: [\"\", \"seamless\"]\n      }\n    },\n    img: {\n      attrs: {\n        alt: null, src: null, ismap: null, usemap: null, width: null, height: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"]\n      }\n    },\n    input: {\n      attrs: {\n        alt: null, dirname: null, form: null, formaction: null,\n        height: null, list: null, max: null, maxlength: null, min: null,\n        name: null, pattern: null, placeholder: null, size: null, src: null,\n        step: null, value: null, width: null,\n        accept: [\"audio/*\", \"video/*\", \"image/*\"],\n        autocomplete: [\"on\", \"off\"],\n        autofocus: [\"\", \"autofocus\"],\n        checked: [\"\", \"checked\"],\n        disabled: [\"\", \"disabled\"],\n        formenctype: encs,\n        formmethod: methods,\n        formnovalidate: [\"\", \"novalidate\"],\n        formtarget: targets,\n        multiple: [\"\", \"multiple\"],\n        readonly: [\"\", \"readonly\"],\n        required: [\"\", \"required\"],\n        type: [\"hidden\", \"text\", \"search\", \"tel\", \"url\", \"email\", \"password\", \"datetime\", \"date\", \"month\",\n               \"week\", \"time\", \"datetime-local\", \"number\", \"range\", \"color\", \"checkbox\", \"radio\",\n               \"file\", \"submit\", \"image\", \"reset\", \"button\"]\n      }\n    },\n    ins: { attrs: { cite: null, datetime: null } },\n    kbd: s,\n    keygen: {\n      attrs: {\n        challenge: null, form: null, name: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        keytype: [\"RSA\"]\n      }\n    },\n    label: { attrs: { \"for\": null, form: null } },\n    legend: s,\n    li: { attrs: { value: null } },\n    link: {\n      attrs: {\n        href: null, type: null,\n        hreflang: langs,\n        media: media,\n        sizes: [\"all\", \"16x16\", \"16x16 32x32\", \"16x16 32x32 64x64\"]\n      }\n    },\n    map: { attrs: { name: null } },\n    mark: s,\n    menu: { attrs: { label: null, type: [\"list\", \"context\", \"toolbar\"] } },\n    meta: {\n      attrs: {\n        content: null,\n        charset: charsets,\n        name: [\"viewport\", \"application-name\", \"author\", \"description\", \"generator\", \"keywords\"],\n        \"http-equiv\": [\"content-language\", \"content-type\", \"default-style\", \"refresh\"]\n      }\n    },\n    meter: { attrs: { value: null, min: null, low: null, high: null, max: null, optimum: null } },\n    nav: s,\n    noframes: s,\n    noscript: s,\n    object: {\n      attrs: {\n        data: null, type: null, name: null, usemap: null, form: null, width: null, height: null,\n        typemustmatch: [\"\", \"typemustmatch\"]\n      }\n    },\n    ol: { attrs: { reversed: [\"\", \"reversed\"], start: null, type: [\"1\", \"a\", \"A\", \"i\", \"I\"] } },\n    optgroup: { attrs: { disabled: [\"\", \"disabled\"], label: null } },\n    option: { attrs: { disabled: [\"\", \"disabled\"], label: null, selected: [\"\", \"selected\"], value: null } },\n    output: { attrs: { \"for\": null, form: null, name: null } },\n    p: s,\n    param: { attrs: { name: null, value: null } },\n    pre: s,\n    progress: { attrs: { value: null, max: null } },\n    q: { attrs: { cite: null } },\n    rp: s,\n    rt: s,\n    ruby: s,\n    s: s,\n    samp: s,\n    script: {\n      attrs: {\n        type: [\"text/javascript\"],\n        src: null,\n        async: [\"\", \"async\"],\n        defer: [\"\", \"defer\"],\n        charset: charsets\n      }\n    },\n    section: s,\n    select: {\n      attrs: {\n        form: null, name: null, size: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        multiple: [\"\", \"multiple\"]\n      }\n    },\n    small: s,\n    source: { attrs: { src: null, type: null, media: null } },\n    span: s,\n    strike: s,\n    strong: s,\n    style: {\n      attrs: {\n        type: [\"text/css\"],\n        media: media,\n        scoped: null\n      }\n    },\n    sub: s,\n    summary: s,\n    sup: s,\n    table: s,\n    tbody: s,\n    td: { attrs: { colspan: null, rowspan: null, headers: null } },\n    textarea: {\n      attrs: {\n        dirname: null, form: null, maxlength: null, name: null, placeholder: null,\n        rows: null, cols: null,\n        autofocus: [\"\", \"autofocus\"],\n        disabled: [\"\", \"disabled\"],\n        readonly: [\"\", \"readonly\"],\n        required: [\"\", \"required\"],\n        wrap: [\"soft\", \"hard\"]\n      }\n    },\n    tfoot: s,\n    th: { attrs: { colspan: null, rowspan: null, headers: null, scope: [\"row\", \"col\", \"rowgroup\", \"colgroup\"] } },\n    thead: s,\n    time: { attrs: { datetime: null } },\n    title: s,\n    tr: s,\n    track: {\n      attrs: {\n        src: null, label: null, \"default\": null,\n        kind: [\"subtitles\", \"captions\", \"descriptions\", \"chapters\", \"metadata\"],\n        srclang: langs\n      }\n    },\n    tt: s,\n    u: s,\n    ul: s,\n    \"var\": s,\n    video: {\n      attrs: {\n        src: null, poster: null, width: null, height: null,\n        crossorigin: [\"anonymous\", \"use-credentials\"],\n        preload: [\"auto\", \"metadata\", \"none\"],\n        autoplay: [\"\", \"autoplay\"],\n        mediagroup: [\"movie\"],\n        muted: [\"\", \"muted\"],\n        controls: [\"\", \"controls\"]\n      }\n    },\n    wbr: s\n  };\n\n  var globalAttrs = {\n    accesskey: [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n    \"class\": null,\n    contenteditable: [\"true\", \"false\"],\n    contextmenu: null,\n    dir: [\"ltr\", \"rtl\", \"auto\"],\n    draggable: [\"true\", \"false\", \"auto\"],\n    dropzone: [\"copy\", \"move\", \"link\", \"string:\", \"file:\"],\n    hidden: [\"hidden\"],\n    id: null,\n    inert: [\"inert\"],\n    itemid: null,\n    itemprop: null,\n    itemref: null,\n    itemscope: [\"itemscope\"],\n    itemtype: null,\n    lang: [\"en\", \"es\"],\n    spellcheck: [\"true\", \"false\"],\n    autocorrect: [\"true\", \"false\"],\n    autocapitalize: [\"true\", \"false\"],\n    style: null,\n    tabindex: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n    title: null,\n    translate: [\"yes\", \"no\"],\n    onclick: null,\n    rel: [\"stylesheet\", \"alternate\", \"author\", \"bookmark\", \"help\", \"license\", \"next\", \"nofollow\", \"noreferrer\", \"prefetch\", \"prev\", \"search\", \"tag\"]\n  };\n  function populate(obj) {\n    for (var attr in globalAttrs) if (globalAttrs.hasOwnProperty(attr))\n      obj.attrs[attr] = globalAttrs[attr];\n  }\n\n  populate(s);\n  for (var tag in data) if (data.hasOwnProperty(tag) && data[tag] != s)\n    populate(data[tag]);\n\n  CodeMirror.htmlSchema = data;\n  function htmlHint(cm, options) {\n    var local = {schemaInfo: data};\n    if (options) for (var opt in options) local[opt] = options[opt];\n    return CodeMirror.hint.xml(cm, local);\n  }\n  CodeMirror.registerHelper(\"hint\", \"html\", htmlHint);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// declare global: diff_match_patch, DIFF_INSERT, DIFF_DELETE, DIFF_EQUAL\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\")); // Note non-packaged dependency diff_match_patch\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"diff_match_patch\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var Pos = CodeMirror.Pos;\n  var svgNS = \"http://www.w3.org/2000/svg\";\n\n  function DiffView(mv, type) {\n    this.mv = mv;\n    this.type = type;\n    this.classes = type == \"left\"\n      ? {chunk: \"CodeMirror-merge-l-chunk\",\n         start: \"CodeMirror-merge-l-chunk-start\",\n         end: \"CodeMirror-merge-l-chunk-end\",\n         insert: \"CodeMirror-merge-l-inserted\",\n         del: \"CodeMirror-merge-l-deleted\",\n         connect: \"CodeMirror-merge-l-connect\"}\n      : {chunk: \"CodeMirror-merge-r-chunk\",\n         start: \"CodeMirror-merge-r-chunk-start\",\n         end: \"CodeMirror-merge-r-chunk-end\",\n         insert: \"CodeMirror-merge-r-inserted\",\n         del: \"CodeMirror-merge-r-deleted\",\n         connect: \"CodeMirror-merge-r-connect\"};\n  }\n\n  DiffView.prototype = {\n    constructor: DiffView,\n    init: function(pane, orig, options) {\n      this.edit = this.mv.edit;\n      ;(this.edit.state.diffViews || (this.edit.state.diffViews = [])).push(this);\n      this.orig = CodeMirror(pane, copyObj({value: orig, readOnly: !this.mv.options.allowEditingOriginals}, copyObj(options)));\n      if (this.mv.options.connect == \"align\") {\n        if (!this.edit.state.trackAlignable) this.edit.state.trackAlignable = new TrackAlignable(this.edit)\n        this.orig.state.trackAlignable = new TrackAlignable(this.orig)\n      }\n      this.lockButton.title = this.edit.phrase(\"Toggle locked scrolling\");\n\n      this.orig.state.diffViews = [this];\n      var classLocation = options.chunkClassLocation || \"background\";\n      if (Object.prototype.toString.call(classLocation) != \"[object Array]\") classLocation = [classLocation]\n      this.classes.classLocation = classLocation\n\n      this.diff = getDiff(asString(orig), asString(options.value), this.mv.options.ignoreWhitespace);\n      this.chunks = getChunks(this.diff);\n      this.diffOutOfDate = this.dealigned = false;\n      this.needsScrollSync = null\n\n      this.showDifferences = options.showDifferences !== false;\n    },\n    registerEvents: function(otherDv) {\n      this.forceUpdate = registerUpdate(this);\n      setScrollLock(this, true, false);\n      registerScroll(this, otherDv);\n    },\n    setShowDifferences: function(val) {\n      val = val !== false;\n      if (val != this.showDifferences) {\n        this.showDifferences = val;\n        this.forceUpdate(\"full\");\n      }\n    }\n  };\n\n  function ensureDiff(dv) {\n    if (dv.diffOutOfDate) {\n      dv.diff = getDiff(dv.orig.getValue(), dv.edit.getValue(), dv.mv.options.ignoreWhitespace);\n      dv.chunks = getChunks(dv.diff);\n      dv.diffOutOfDate = false;\n      CodeMirror.signal(dv.edit, \"updateDiff\", dv.diff);\n    }\n  }\n\n  var updating = false;\n  function registerUpdate(dv) {\n    var edit = {from: 0, to: 0, marked: []};\n    var orig = {from: 0, to: 0, marked: []};\n    var debounceChange, updatingFast = false;\n    function update(mode) {\n      updating = true;\n      updatingFast = false;\n      if (mode == \"full\") {\n        if (dv.svg) clear(dv.svg);\n        if (dv.copyButtons) clear(dv.copyButtons);\n        clearMarks(dv.edit, edit.marked, dv.classes);\n        clearMarks(dv.orig, orig.marked, dv.classes);\n        edit.from = edit.to = orig.from = orig.to = 0;\n      }\n      ensureDiff(dv);\n      if (dv.showDifferences) {\n        updateMarks(dv.edit, dv.diff, edit, DIFF_INSERT, dv.classes);\n        updateMarks(dv.orig, dv.diff, orig, DIFF_DELETE, dv.classes);\n      }\n\n      if (dv.mv.options.connect == \"align\")\n        alignChunks(dv);\n      makeConnections(dv);\n      if (dv.needsScrollSync != null) syncScroll(dv, dv.needsScrollSync)\n\n      updating = false;\n    }\n    function setDealign(fast) {\n      if (updating) return;\n      dv.dealigned = true;\n      set(fast);\n    }\n    function set(fast) {\n      if (updating || updatingFast) return;\n      clearTimeout(debounceChange);\n      if (fast === true) updatingFast = true;\n      debounceChange = setTimeout(update, fast === true ? 20 : 250);\n    }\n    function change(_cm, change) {\n      if (!dv.diffOutOfDate) {\n        dv.diffOutOfDate = true;\n        edit.from = edit.to = orig.from = orig.to = 0;\n      }\n      // Update faster when a line was added/removed\n      setDealign(change.text.length - 1 != change.to.line - change.from.line);\n    }\n    function swapDoc() {\n      dv.diffOutOfDate = true;\n      dv.dealigned = true;\n      update(\"full\");\n    }\n    dv.edit.on(\"change\", change);\n    dv.orig.on(\"change\", change);\n    dv.edit.on(\"swapDoc\", swapDoc);\n    dv.orig.on(\"swapDoc\", swapDoc);\n    if (dv.mv.options.connect == \"align\") {\n      CodeMirror.on(dv.edit.state.trackAlignable, \"realign\", setDealign)\n      CodeMirror.on(dv.orig.state.trackAlignable, \"realign\", setDealign)\n    }\n    dv.edit.on(\"viewportChange\", function() { set(false); });\n    dv.orig.on(\"viewportChange\", function() { set(false); });\n    update();\n    return update;\n  }\n\n  function registerScroll(dv, otherDv) {\n    dv.edit.on(\"scroll\", function() {\n      syncScroll(dv, true) && makeConnections(dv);\n    });\n    dv.orig.on(\"scroll\", function() {\n      syncScroll(dv, false) && makeConnections(dv);\n      if (otherDv) syncScroll(otherDv, true) && makeConnections(otherDv);\n    });\n  }\n\n  function syncScroll(dv, toOrig) {\n    // Change handler will do a refresh after a timeout when diff is out of date\n    if (dv.diffOutOfDate) {\n      if (dv.lockScroll && dv.needsScrollSync == null) dv.needsScrollSync = toOrig\n      return false\n    }\n    dv.needsScrollSync = null\n    if (!dv.lockScroll) return true;\n    var editor, other, now = +new Date;\n    if (toOrig) { editor = dv.edit; other = dv.orig; }\n    else { editor = dv.orig; other = dv.edit; }\n    // Don't take action if the position of this editor was recently set\n    // (to prevent feedback loops)\n    if (editor.state.scrollSetBy == dv && (editor.state.scrollSetAt || 0) + 250 > now) return false;\n\n    var sInfo = editor.getScrollInfo();\n    if (dv.mv.options.connect == \"align\") {\n      targetPos = sInfo.top;\n    } else {\n      var halfScreen = .5 * sInfo.clientHeight, midY = sInfo.top + halfScreen;\n      var mid = editor.lineAtHeight(midY, \"local\");\n      var around = chunkBoundariesAround(dv.chunks, mid, toOrig);\n      var off = getOffsets(editor, toOrig ? around.edit : around.orig);\n      var offOther = getOffsets(other, toOrig ? around.orig : around.edit);\n      var ratio = (midY - off.top) / (off.bot - off.top);\n      var targetPos = (offOther.top - halfScreen) + ratio * (offOther.bot - offOther.top);\n\n      var botDist, mix;\n      // Some careful tweaking to make sure no space is left out of view\n      // when scrolling to top or bottom.\n      if (targetPos > sInfo.top && (mix = sInfo.top / halfScreen) < 1) {\n        targetPos = targetPos * mix + sInfo.top * (1 - mix);\n      } else if ((botDist = sInfo.height - sInfo.clientHeight - sInfo.top) < halfScreen) {\n        var otherInfo = other.getScrollInfo();\n        var botDistOther = otherInfo.height - otherInfo.clientHeight - targetPos;\n        if (botDistOther > botDist && (mix = botDist / halfScreen) < 1)\n          targetPos = targetPos * mix + (otherInfo.height - otherInfo.clientHeight - botDist) * (1 - mix);\n      }\n    }\n\n    other.scrollTo(sInfo.left, targetPos);\n    other.state.scrollSetAt = now;\n    other.state.scrollSetBy = dv;\n    return true;\n  }\n\n  function getOffsets(editor, around) {\n    var bot = around.after;\n    if (bot == null) bot = editor.lastLine() + 1;\n    return {top: editor.heightAtLine(around.before || 0, \"local\"),\n            bot: editor.heightAtLine(bot, \"local\")};\n  }\n\n  function setScrollLock(dv, val, action) {\n    dv.lockScroll = val;\n    if (val && action != false) syncScroll(dv, DIFF_INSERT) && makeConnections(dv);\n    (val ? CodeMirror.addClass : CodeMirror.rmClass)(dv.lockButton, \"CodeMirror-merge-scrolllock-enabled\");\n  }\n\n  // Updating the marks for editor content\n\n  function removeClass(editor, line, classes) {\n    var locs = classes.classLocation\n    for (var i = 0; i < locs.length; i++) {\n      editor.removeLineClass(line, locs[i], classes.chunk);\n      editor.removeLineClass(line, locs[i], classes.start);\n      editor.removeLineClass(line, locs[i], classes.end);\n    }\n  }\n\n  function clearMarks(editor, arr, classes) {\n    for (var i = 0; i < arr.length; ++i) {\n      var mark = arr[i];\n      if (mark instanceof CodeMirror.TextMarker)\n        mark.clear();\n      else if (mark.parent)\n        removeClass(editor, mark, classes);\n    }\n    arr.length = 0;\n  }\n\n  // FIXME maybe add a margin around viewport to prevent too many updates\n  function updateMarks(editor, diff, state, type, classes) {\n    var vp = editor.getViewport();\n    editor.operation(function() {\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        clearMarks(editor, state.marked, classes);\n        markChanges(editor, diff, type, state.marked, vp.from, vp.to, classes);\n        state.from = vp.from; state.to = vp.to;\n      } else {\n        if (vp.from < state.from) {\n          markChanges(editor, diff, type, state.marked, vp.from, state.from, classes);\n          state.from = vp.from;\n        }\n        if (vp.to > state.to) {\n          markChanges(editor, diff, type, state.marked, state.to, vp.to, classes);\n          state.to = vp.to;\n        }\n      }\n    });\n  }\n\n  function addClass(editor, lineNr, classes, main, start, end) {\n    var locs = classes.classLocation, line = editor.getLineHandle(lineNr);\n    for (var i = 0; i < locs.length; i++) {\n      if (main) editor.addLineClass(line, locs[i], classes.chunk);\n      if (start) editor.addLineClass(line, locs[i], classes.start);\n      if (end) editor.addLineClass(line, locs[i], classes.end);\n    }\n    return line;\n  }\n\n  function markChanges(editor, diff, type, marks, from, to, classes) {\n    var pos = Pos(0, 0);\n    var top = Pos(from, 0), bot = editor.clipPos(Pos(to - 1));\n    var cls = type == DIFF_DELETE ? classes.del : classes.insert;\n    function markChunk(start, end) {\n      var bfrom = Math.max(from, start), bto = Math.min(to, end);\n      for (var i = bfrom; i < bto; ++i)\n        marks.push(addClass(editor, i, classes, true, i == start, i == end - 1));\n      // When the chunk is empty, make sure a horizontal line shows up\n      if (start == end && bfrom == end && bto == end) {\n        if (bfrom)\n          marks.push(addClass(editor, bfrom - 1, classes, false, false, true));\n        else\n          marks.push(addClass(editor, bfrom, classes, false, true, false));\n      }\n    }\n\n    var chunkStart = 0, pending = false;\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i], tp = part[0], str = part[1];\n      if (tp == DIFF_EQUAL) {\n        var cleanFrom = pos.line + (startOfLineClean(diff, i) ? 0 : 1);\n        moveOver(pos, str);\n        var cleanTo = pos.line + (endOfLineClean(diff, i) ? 1 : 0);\n        if (cleanTo > cleanFrom) {\n          if (pending) { markChunk(chunkStart, cleanFrom); pending = false }\n          chunkStart = cleanTo;\n        }\n      } else {\n        pending = true\n        if (tp == type) {\n          var end = moveOver(pos, str, true);\n          var a = posMax(top, pos), b = posMin(bot, end);\n          if (!posEq(a, b))\n            marks.push(editor.markText(a, b, {className: cls}));\n          pos = end;\n        }\n      }\n    }\n    if (pending) markChunk(chunkStart, pos.line + 1);\n  }\n\n  // Updating the gap between editor and original\n\n  function makeConnections(dv) {\n    if (!dv.showDifferences) return;\n\n    if (dv.svg) {\n      clear(dv.svg);\n      var w = dv.gap.offsetWidth;\n      attrs(dv.svg, \"width\", w, \"height\", dv.gap.offsetHeight);\n    }\n    if (dv.copyButtons) clear(dv.copyButtons);\n\n    var vpEdit = dv.edit.getViewport(), vpOrig = dv.orig.getViewport();\n    var outerTop = dv.mv.wrap.getBoundingClientRect().top\n    var sTopEdit = outerTop - dv.edit.getScrollerElement().getBoundingClientRect().top + dv.edit.getScrollInfo().top\n    var sTopOrig = outerTop - dv.orig.getScrollerElement().getBoundingClientRect().top + dv.orig.getScrollInfo().top;\n    for (var i = 0; i < dv.chunks.length; i++) {\n      var ch = dv.chunks[i];\n      if (ch.editFrom <= vpEdit.to && ch.editTo >= vpEdit.from &&\n          ch.origFrom <= vpOrig.to && ch.origTo >= vpOrig.from)\n        drawConnectorsForChunk(dv, ch, sTopOrig, sTopEdit, w);\n    }\n  }\n\n  function getMatchingOrigLine(editLine, chunks) {\n    var editStart = 0, origStart = 0;\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      if (chunk.editTo > editLine && chunk.editFrom <= editLine) return null;\n      if (chunk.editFrom > editLine) break;\n      editStart = chunk.editTo;\n      origStart = chunk.origTo;\n    }\n    return origStart + (editLine - editStart);\n  }\n\n  // Combines information about chunks and widgets/markers to return\n  // an array of lines, in a single editor, that probably need to be\n  // aligned with their counterparts in the editor next to it.\n  function alignableFor(cm, chunks, isOrig) {\n    var tracker = cm.state.trackAlignable\n    var start = cm.firstLine(), trackI = 0\n    var result = []\n    for (var i = 0;; i++) {\n      var chunk = chunks[i]\n      var chunkStart = !chunk ? 1e9 : isOrig ? chunk.origFrom : chunk.editFrom\n      for (; trackI < tracker.alignable.length; trackI += 2) {\n        var n = tracker.alignable[trackI] + 1\n        if (n <= start) continue\n        if (n <= chunkStart) result.push(n)\n        else break\n      }\n      if (!chunk) break\n      result.push(start = isOrig ? chunk.origTo : chunk.editTo)\n    }\n    return result\n  }\n\n  // Given information about alignable lines in two editors, fill in\n  // the result (an array of three-element arrays) to reflect the\n  // lines that need to be aligned with each other.\n  function mergeAlignable(result, origAlignable, chunks, setIndex) {\n    var rI = 0, origI = 0, chunkI = 0, diff = 0\n    outer: for (;; rI++) {\n      var nextR = result[rI], nextO = origAlignable[origI]\n      if (!nextR && nextO == null) break\n\n      var rLine = nextR ? nextR[0] : 1e9, oLine = nextO == null ? 1e9 : nextO\n      while (chunkI < chunks.length) {\n        var chunk = chunks[chunkI]\n        if (chunk.origFrom <= oLine && chunk.origTo > oLine) {\n          origI++\n          rI--\n          continue outer;\n        }\n        if (chunk.editTo > rLine) {\n          if (chunk.editFrom <= rLine) continue outer;\n          break\n        }\n        diff += (chunk.origTo - chunk.origFrom) - (chunk.editTo - chunk.editFrom)\n        chunkI++\n      }\n      if (rLine == oLine - diff) {\n        nextR[setIndex] = oLine\n        origI++\n      } else if (rLine < oLine - diff) {\n        nextR[setIndex] = rLine + diff\n      } else {\n        var record = [oLine - diff, null, null]\n        record[setIndex] = oLine\n        result.splice(rI, 0, record)\n        origI++\n      }\n    }\n  }\n\n  function findAlignedLines(dv, other) {\n    var alignable = alignableFor(dv.edit, dv.chunks, false), result = []\n    if (other) for (var i = 0, j = 0; i < other.chunks.length; i++) {\n      var n = other.chunks[i].editTo\n      while (j < alignable.length && alignable[j] < n) j++\n      if (j == alignable.length || alignable[j] != n) alignable.splice(j++, 0, n)\n    }\n    for (var i = 0; i < alignable.length; i++)\n      result.push([alignable[i], null, null])\n\n    mergeAlignable(result, alignableFor(dv.orig, dv.chunks, true), dv.chunks, 1)\n    if (other)\n      mergeAlignable(result, alignableFor(other.orig, other.chunks, true), other.chunks, 2)\n\n    return result\n  }\n\n  function alignChunks(dv, force) {\n    if (!dv.dealigned && !force) return;\n    if (!dv.orig.curOp) return dv.orig.operation(function() {\n      alignChunks(dv, force);\n    });\n\n    dv.dealigned = false;\n    var other = dv.mv.left == dv ? dv.mv.right : dv.mv.left;\n    if (other) {\n      ensureDiff(other);\n      other.dealigned = false;\n    }\n    var linesToAlign = findAlignedLines(dv, other);\n\n    // Clear old aligners\n    var aligners = dv.mv.aligners;\n    for (var i = 0; i < aligners.length; i++)\n      aligners[i].clear();\n    aligners.length = 0;\n\n    var cm = [dv.edit, dv.orig], scroll = [];\n    if (other) cm.push(other.orig);\n    for (var i = 0; i < cm.length; i++)\n      scroll.push(cm[i].getScrollInfo().top);\n\n    for (var ln = 0; ln < linesToAlign.length; ln++)\n      alignLines(cm, linesToAlign[ln], aligners);\n\n    for (var i = 0; i < cm.length; i++)\n      cm[i].scrollTo(null, scroll[i]);\n  }\n\n  function alignLines(cm, lines, aligners) {\n    var maxOffset = 0, offset = [];\n    for (var i = 0; i < cm.length; i++) if (lines[i] != null) {\n      var off = cm[i].heightAtLine(lines[i], \"local\");\n      offset[i] = off;\n      maxOffset = Math.max(maxOffset, off);\n    }\n    for (var i = 0; i < cm.length; i++) if (lines[i] != null) {\n      var diff = maxOffset - offset[i];\n      if (diff > 1)\n        aligners.push(padAbove(cm[i], lines[i], diff));\n    }\n  }\n\n  function padAbove(cm, line, size) {\n    var above = true;\n    if (line > cm.lastLine()) {\n      line--;\n      above = false;\n    }\n    var elt = document.createElement(\"div\");\n    elt.className = \"CodeMirror-merge-spacer\";\n    elt.style.height = size + \"px\"; elt.style.minWidth = \"1px\";\n    return cm.addLineWidget(line, elt, {height: size, above: above, mergeSpacer: true, handleMouseEvents: true});\n  }\n\n  function drawConnectorsForChunk(dv, chunk, sTopOrig, sTopEdit, w) {\n    var flip = dv.type == \"left\";\n    var top = dv.orig.heightAtLine(chunk.origFrom, \"local\", true) - sTopOrig;\n    if (dv.svg) {\n      var topLpx = top;\n      var topRpx = dv.edit.heightAtLine(chunk.editFrom, \"local\", true) - sTopEdit;\n      if (flip) { var tmp = topLpx; topLpx = topRpx; topRpx = tmp; }\n      var botLpx = dv.orig.heightAtLine(chunk.origTo, \"local\", true) - sTopOrig;\n      var botRpx = dv.edit.heightAtLine(chunk.editTo, \"local\", true) - sTopEdit;\n      if (flip) { var tmp = botLpx; botLpx = botRpx; botRpx = tmp; }\n      var curveTop = \" C \" + w/2 + \" \" + topRpx + \" \" + w/2 + \" \" + topLpx + \" \" + (w + 2) + \" \" + topLpx;\n      var curveBot = \" C \" + w/2 + \" \" + botLpx + \" \" + w/2 + \" \" + botRpx + \" -1 \" + botRpx;\n      attrs(dv.svg.appendChild(document.createElementNS(svgNS, \"path\")),\n            \"d\", \"M -1 \" + topRpx + curveTop + \" L \" + (w + 2) + \" \" + botLpx + curveBot + \" z\",\n            \"class\", dv.classes.connect);\n    }\n    if (dv.copyButtons) {\n      var copy = dv.copyButtons.appendChild(elt(\"div\", dv.type == \"left\" ? \"\\u21dd\" : \"\\u21dc\",\n                                                \"CodeMirror-merge-copy\"));\n      var editOriginals = dv.mv.options.allowEditingOriginals;\n      copy.title = dv.edit.phrase(editOriginals ? \"Push to left\" : \"Revert chunk\");\n      copy.chunk = chunk;\n      copy.style.top = (chunk.origTo > chunk.origFrom ? top : dv.edit.heightAtLine(chunk.editFrom, \"local\") - sTopEdit) + \"px\";\n\n      if (editOriginals) {\n        var topReverse = dv.edit.heightAtLine(chunk.editFrom, \"local\") - sTopEdit;\n        var copyReverse = dv.copyButtons.appendChild(elt(\"div\", dv.type == \"right\" ? \"\\u21dd\" : \"\\u21dc\",\n                                                         \"CodeMirror-merge-copy-reverse\"));\n        copyReverse.title = \"Push to right\";\n        copyReverse.chunk = {editFrom: chunk.origFrom, editTo: chunk.origTo,\n                             origFrom: chunk.editFrom, origTo: chunk.editTo};\n        copyReverse.style.top = topReverse + \"px\";\n        dv.type == \"right\" ? copyReverse.style.left = \"2px\" : copyReverse.style.right = \"2px\";\n      }\n    }\n  }\n\n  function copyChunk(dv, to, from, chunk) {\n    if (dv.diffOutOfDate) return;\n    var origStart = chunk.origTo > from.lastLine() ? Pos(chunk.origFrom - 1) : Pos(chunk.origFrom, 0)\n    var origEnd = Pos(chunk.origTo, 0)\n    var editStart = chunk.editTo > to.lastLine() ? Pos(chunk.editFrom - 1) : Pos(chunk.editFrom, 0)\n    var editEnd = Pos(chunk.editTo, 0)\n    var handler = dv.mv.options.revertChunk\n    if (handler)\n      handler(dv.mv, from, origStart, origEnd, to, editStart, editEnd)\n    else\n      to.replaceRange(from.getRange(origStart, origEnd), editStart, editEnd)\n  }\n\n  // Merge view, containing 0, 1, or 2 diff views.\n\n  var MergeView = CodeMirror.MergeView = function(node, options) {\n    if (!(this instanceof MergeView)) return new MergeView(node, options);\n\n    this.options = options;\n    var origLeft = options.origLeft, origRight = options.origRight == null ? options.orig : options.origRight;\n\n    var hasLeft = origLeft != null, hasRight = origRight != null;\n    var panes = 1 + (hasLeft ? 1 : 0) + (hasRight ? 1 : 0);\n    var wrap = [], left = this.left = null, right = this.right = null;\n    var self = this;\n\n    if (hasLeft) {\n      left = this.left = new DiffView(this, \"left\");\n      var leftPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-left\");\n      wrap.push(leftPane);\n      wrap.push(buildGap(left));\n    }\n\n    var editPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-editor\");\n    wrap.push(editPane);\n\n    if (hasRight) {\n      right = this.right = new DiffView(this, \"right\");\n      wrap.push(buildGap(right));\n      var rightPane = elt(\"div\", null, \"CodeMirror-merge-pane CodeMirror-merge-right\");\n      wrap.push(rightPane);\n    }\n\n    (hasRight ? rightPane : editPane).className += \" CodeMirror-merge-pane-rightmost\";\n\n    wrap.push(elt(\"div\", null, null, \"height: 0; clear: both;\"));\n\n    var wrapElt = this.wrap = node.appendChild(elt(\"div\", wrap, \"CodeMirror-merge CodeMirror-merge-\" + panes + \"pane\"));\n    this.edit = CodeMirror(editPane, copyObj(options));\n\n    if (left) left.init(leftPane, origLeft, options);\n    if (right) right.init(rightPane, origRight, options);\n    if (options.collapseIdentical)\n      this.editor().operation(function() {\n        collapseIdenticalStretches(self, options.collapseIdentical);\n      });\n    if (options.connect == \"align\") {\n      this.aligners = [];\n      alignChunks(this.left || this.right, true);\n    }\n    if (left) left.registerEvents(right)\n    if (right) right.registerEvents(left)\n\n\n    var onResize = function() {\n      if (left) makeConnections(left);\n      if (right) makeConnections(right);\n    };\n    CodeMirror.on(window, \"resize\", onResize);\n    var resizeInterval = setInterval(function() {\n      for (var p = wrapElt.parentNode; p && p != document.body; p = p.parentNode) {}\n      if (!p) { clearInterval(resizeInterval); CodeMirror.off(window, \"resize\", onResize); }\n    }, 5000);\n  };\n\n  function buildGap(dv) {\n    var lock = dv.lockButton = elt(\"div\", null, \"CodeMirror-merge-scrolllock\");\n    var lockWrap = elt(\"div\", [lock], \"CodeMirror-merge-scrolllock-wrap\");\n    CodeMirror.on(lock, \"click\", function() { setScrollLock(dv, !dv.lockScroll); });\n    var gapElts = [lockWrap];\n    if (dv.mv.options.revertButtons !== false) {\n      dv.copyButtons = elt(\"div\", null, \"CodeMirror-merge-copybuttons-\" + dv.type);\n      CodeMirror.on(dv.copyButtons, \"click\", function(e) {\n        var node = e.target || e.srcElement;\n        if (!node.chunk) return;\n        if (node.className == \"CodeMirror-merge-copy-reverse\") {\n          copyChunk(dv, dv.orig, dv.edit, node.chunk);\n          return;\n        }\n        copyChunk(dv, dv.edit, dv.orig, node.chunk);\n      });\n      gapElts.unshift(dv.copyButtons);\n    }\n    if (dv.mv.options.connect != \"align\") {\n      var svg = document.createElementNS && document.createElementNS(svgNS, \"svg\");\n      if (svg && !svg.createSVGRect) svg = null;\n      dv.svg = svg;\n      if (svg) gapElts.push(svg);\n    }\n\n    return dv.gap = elt(\"div\", gapElts, \"CodeMirror-merge-gap\");\n  }\n\n  MergeView.prototype = {\n    constructor: MergeView,\n    editor: function() { return this.edit; },\n    rightOriginal: function() { return this.right && this.right.orig; },\n    leftOriginal: function() { return this.left && this.left.orig; },\n    setShowDifferences: function(val) {\n      if (this.right) this.right.setShowDifferences(val);\n      if (this.left) this.left.setShowDifferences(val);\n    },\n    rightChunks: function() {\n      if (this.right) { ensureDiff(this.right); return this.right.chunks; }\n    },\n    leftChunks: function() {\n      if (this.left) { ensureDiff(this.left); return this.left.chunks; }\n    }\n  };\n\n  function asString(obj) {\n    if (typeof obj == \"string\") return obj;\n    else return obj.getValue();\n  }\n\n  // Operations on diffs\n  var dmp;\n  function getDiff(a, b, ignoreWhitespace) {\n    if (!dmp) dmp = new diff_match_patch();\n\n    var diff = dmp.diff_main(a, b);\n    // The library sometimes leaves in empty parts, which confuse the algorithm\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i];\n      if (ignoreWhitespace ? !/[^ \\t]/.test(part[1]) : !part[1]) {\n        diff.splice(i--, 1);\n      } else if (i && diff[i - 1][0] == part[0]) {\n        diff.splice(i--, 1);\n        diff[i][1] += part[1];\n      }\n    }\n    return diff;\n  }\n\n  function getChunks(diff) {\n    var chunks = [];\n    if (!diff.length) return chunks;\n    var startEdit = 0, startOrig = 0;\n    var edit = Pos(0, 0), orig = Pos(0, 0);\n    for (var i = 0; i < diff.length; ++i) {\n      var part = diff[i], tp = part[0];\n      if (tp == DIFF_EQUAL) {\n        var startOff = !startOfLineClean(diff, i) || edit.line < startEdit || orig.line < startOrig ? 1 : 0;\n        var cleanFromEdit = edit.line + startOff, cleanFromOrig = orig.line + startOff;\n        moveOver(edit, part[1], null, orig);\n        var endOff = endOfLineClean(diff, i) ? 1 : 0;\n        var cleanToEdit = edit.line + endOff, cleanToOrig = orig.line + endOff;\n        if (cleanToEdit > cleanFromEdit) {\n          if (i) chunks.push({origFrom: startOrig, origTo: cleanFromOrig,\n                              editFrom: startEdit, editTo: cleanFromEdit});\n          startEdit = cleanToEdit; startOrig = cleanToOrig;\n        }\n      } else {\n        moveOver(tp == DIFF_INSERT ? edit : orig, part[1]);\n      }\n    }\n    if (startEdit <= edit.line || startOrig <= orig.line)\n      chunks.push({origFrom: startOrig, origTo: orig.line + 1,\n                   editFrom: startEdit, editTo: edit.line + 1});\n    return chunks;\n  }\n\n  function endOfLineClean(diff, i) {\n    if (i == diff.length - 1) return true;\n    var next = diff[i + 1][1];\n    if ((next.length == 1 && i < diff.length - 2) || next.charCodeAt(0) != 10) return false;\n    if (i == diff.length - 2) return true;\n    next = diff[i + 2][1];\n    return (next.length > 1 || i == diff.length - 3) && next.charCodeAt(0) == 10;\n  }\n\n  function startOfLineClean(diff, i) {\n    if (i == 0) return true;\n    var last = diff[i - 1][1];\n    if (last.charCodeAt(last.length - 1) != 10) return false;\n    if (i == 1) return true;\n    last = diff[i - 2][1];\n    return last.charCodeAt(last.length - 1) == 10;\n  }\n\n  function chunkBoundariesAround(chunks, n, nInEdit) {\n    var beforeE, afterE, beforeO, afterO;\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      var fromLocal = nInEdit ? chunk.editFrom : chunk.origFrom;\n      var toLocal = nInEdit ? chunk.editTo : chunk.origTo;\n      if (afterE == null) {\n        if (fromLocal > n) { afterE = chunk.editFrom; afterO = chunk.origFrom; }\n        else if (toLocal > n) { afterE = chunk.editTo; afterO = chunk.origTo; }\n      }\n      if (toLocal <= n) { beforeE = chunk.editTo; beforeO = chunk.origTo; }\n      else if (fromLocal <= n) { beforeE = chunk.editFrom; beforeO = chunk.origFrom; }\n    }\n    return {edit: {before: beforeE, after: afterE}, orig: {before: beforeO, after: afterO}};\n  }\n\n  function collapseSingle(cm, from, to) {\n    cm.addLineClass(from, \"wrap\", \"CodeMirror-merge-collapsed-line\");\n    var widget = document.createElement(\"span\");\n    widget.className = \"CodeMirror-merge-collapsed-widget\";\n    widget.title = cm.phrase(\"Identical text collapsed. Click to expand.\");\n    var mark = cm.markText(Pos(from, 0), Pos(to - 1), {\n      inclusiveLeft: true,\n      inclusiveRight: true,\n      replacedWith: widget,\n      clearOnEnter: true\n    });\n    function clear() {\n      mark.clear();\n      cm.removeLineClass(from, \"wrap\", \"CodeMirror-merge-collapsed-line\");\n    }\n    if (mark.explicitlyCleared) clear();\n    CodeMirror.on(widget, \"click\", clear);\n    mark.on(\"clear\", clear);\n    CodeMirror.on(widget, \"click\", clear);\n    return {mark: mark, clear: clear};\n  }\n\n  function collapseStretch(size, editors) {\n    var marks = [];\n    function clear() {\n      for (var i = 0; i < marks.length; i++) marks[i].clear();\n    }\n    for (var i = 0; i < editors.length; i++) {\n      var editor = editors[i];\n      var mark = collapseSingle(editor.cm, editor.line, editor.line + size);\n      marks.push(mark);\n      mark.mark.on(\"clear\", clear);\n    }\n    return marks[0].mark;\n  }\n\n  function unclearNearChunks(dv, margin, off, clear) {\n    for (var i = 0; i < dv.chunks.length; i++) {\n      var chunk = dv.chunks[i];\n      for (var l = chunk.editFrom - margin; l < chunk.editTo + margin; l++) {\n        var pos = l + off;\n        if (pos >= 0 && pos < clear.length) clear[pos] = false;\n      }\n    }\n  }\n\n  function collapseIdenticalStretches(mv, margin) {\n    if (typeof margin != \"number\") margin = 2;\n    var clear = [], edit = mv.editor(), off = edit.firstLine();\n    for (var l = off, e = edit.lastLine(); l <= e; l++) clear.push(true);\n    if (mv.left) unclearNearChunks(mv.left, margin, off, clear);\n    if (mv.right) unclearNearChunks(mv.right, margin, off, clear);\n\n    for (var i = 0; i < clear.length; i++) {\n      if (clear[i]) {\n        var line = i + off;\n        for (var size = 1; i < clear.length - 1 && clear[i + 1]; i++, size++) {}\n        if (size > margin) {\n          var editors = [{line: line, cm: edit}];\n          if (mv.left) editors.push({line: getMatchingOrigLine(line, mv.left.chunks), cm: mv.left.orig});\n          if (mv.right) editors.push({line: getMatchingOrigLine(line, mv.right.chunks), cm: mv.right.orig});\n          var mark = collapseStretch(size, editors);\n          if (mv.options.onCollapse) mv.options.onCollapse(mv, line, size, mark);\n        }\n      }\n    }\n  }\n\n  // General utilities\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) e.className = className;\n    if (style) e.style.cssText = style;\n    if (typeof content == \"string\") e.appendChild(document.createTextNode(content));\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\n    return e;\n  }\n\n  function clear(node) {\n    for (var count = node.childNodes.length; count > 0; --count)\n      node.removeChild(node.firstChild);\n  }\n\n  function attrs(elt) {\n    for (var i = 1; i < arguments.length; i += 2)\n      elt.setAttribute(arguments[i], arguments[i+1]);\n  }\n\n  function copyObj(obj, target) {\n    if (!target) target = {};\n    for (var prop in obj) if (obj.hasOwnProperty(prop)) target[prop] = obj[prop];\n    return target;\n  }\n\n  function moveOver(pos, str, copy, other) {\n    var out = copy ? Pos(pos.line, pos.ch) : pos, at = 0;\n    for (;;) {\n      var nl = str.indexOf(\"\\n\", at);\n      if (nl == -1) break;\n      ++out.line;\n      if (other) ++other.line;\n      at = nl + 1;\n    }\n    out.ch = (at ? 0 : out.ch) + (str.length - at);\n    if (other) other.ch = (at ? 0 : other.ch) + (str.length - at);\n    return out;\n  }\n\n  // Tracks collapsed markers and line widgets, in order to be able to\n  // accurately align the content of two editors.\n\n  var F_WIDGET = 1, F_WIDGET_BELOW = 2, F_MARKER = 4\n\n  function TrackAlignable(cm) {\n    this.cm = cm\n    this.alignable = []\n    this.height = cm.doc.height\n    var self = this\n    cm.on(\"markerAdded\", function(_, marker) {\n      if (!marker.collapsed) return\n      var found = marker.find(1)\n      if (found != null) self.set(found.line, F_MARKER)\n    })\n    cm.on(\"markerCleared\", function(_, marker, _min, max) {\n      if (max != null && marker.collapsed)\n        self.check(max, F_MARKER, self.hasMarker)\n    })\n    cm.on(\"markerChanged\", this.signal.bind(this))\n    cm.on(\"lineWidgetAdded\", function(_, widget, lineNo) {\n      if (widget.mergeSpacer) return\n      if (widget.above) self.set(lineNo - 1, F_WIDGET_BELOW)\n      else self.set(lineNo, F_WIDGET)\n    })\n    cm.on(\"lineWidgetCleared\", function(_, widget, lineNo) {\n      if (widget.mergeSpacer) return\n      if (widget.above) self.check(lineNo - 1, F_WIDGET_BELOW, self.hasWidgetBelow)\n      else self.check(lineNo, F_WIDGET, self.hasWidget)\n    })\n    cm.on(\"lineWidgetChanged\", this.signal.bind(this))\n    cm.on(\"change\", function(_, change) {\n      var start = change.from.line, nBefore = change.to.line - change.from.line\n      var nAfter = change.text.length - 1, end = start + nAfter\n      if (nBefore || nAfter) self.map(start, nBefore, nAfter)\n      self.check(end, F_MARKER, self.hasMarker)\n      if (nBefore || nAfter) self.check(change.from.line, F_MARKER, self.hasMarker)\n    })\n    cm.on(\"viewportChange\", function() {\n      if (self.cm.doc.height != self.height) self.signal()\n    })\n  }\n\n  TrackAlignable.prototype = {\n    signal: function() {\n      CodeMirror.signal(this, \"realign\")\n      this.height = this.cm.doc.height\n    },\n\n    set: function(n, flags) {\n      var pos = -1\n      for (; pos < this.alignable.length; pos += 2) {\n        var diff = this.alignable[pos] - n\n        if (diff == 0) {\n          if ((this.alignable[pos + 1] & flags) == flags) return\n          this.alignable[pos + 1] |= flags\n          this.signal()\n          return\n        }\n        if (diff > 0) break\n      }\n      this.signal()\n      this.alignable.splice(pos, 0, n, flags)\n    },\n\n    find: function(n) {\n      for (var i = 0; i < this.alignable.length; i += 2)\n        if (this.alignable[i] == n) return i\n      return -1\n    },\n\n    check: function(n, flag, pred) {\n      var found = this.find(n)\n      if (found == -1 || !(this.alignable[found + 1] & flag)) return\n      if (!pred.call(this, n)) {\n        this.signal()\n        var flags = this.alignable[found + 1] & ~flag\n        if (flags) this.alignable[found + 1] = flags\n        else this.alignable.splice(found, 2)\n      }\n    },\n\n    hasMarker: function(n) {\n      var handle = this.cm.getLineHandle(n)\n      if (handle.markedSpans) for (var i = 0; i < handle.markedSpans.length; i++)\n        if (handle.markedSpans[i].mark.collapsed && handle.markedSpans[i].to != null)\n          return true\n      return false\n    },\n\n    hasWidget: function(n) {\n      var handle = this.cm.getLineHandle(n)\n      if (handle.widgets) for (var i = 0; i < handle.widgets.length; i++)\n        if (!handle.widgets[i].above && !handle.widgets[i].mergeSpacer) return true\n      return false\n    },\n\n    hasWidgetBelow: function(n) {\n      if (n == this.cm.lastLine()) return false\n      var handle = this.cm.getLineHandle(n + 1)\n      if (handle.widgets) for (var i = 0; i < handle.widgets.length; i++)\n        if (handle.widgets[i].above && !handle.widgets[i].mergeSpacer) return true\n      return false\n    },\n\n    map: function(from, nBefore, nAfter) {\n      var diff = nAfter - nBefore, to = from + nBefore, widgetFrom = -1, widgetTo = -1\n      for (var i = 0; i < this.alignable.length; i += 2) {\n        var n = this.alignable[i]\n        if (n == from && (this.alignable[i + 1] & F_WIDGET_BELOW)) widgetFrom = i\n        if (n == to && (this.alignable[i + 1] & F_WIDGET_BELOW)) widgetTo = i\n        if (n <= from) continue\n        else if (n < to) this.alignable.splice(i--, 2)\n        else this.alignable[i] += diff\n      }\n      if (widgetFrom > -1) {\n        var flags = this.alignable[widgetFrom + 1]\n        if (flags == F_WIDGET_BELOW) this.alignable.splice(widgetFrom, 2)\n        else this.alignable[widgetFrom + 1] = flags & ~F_WIDGET_BELOW\n      }\n      if (widgetTo > -1 && nAfter)\n        this.set(from + nAfter, F_WIDGET_BELOW)\n    }\n  }\n\n  function posMin(a, b) { return (a.line - b.line || a.ch - b.ch) < 0 ? a : b; }\n  function posMax(a, b) { return (a.line - b.line || a.ch - b.ch) > 0 ? a : b; }\n  function posEq(a, b) { return a.line == b.line && a.ch == b.ch; }\n\n  function findPrevDiff(chunks, start, isOrig) {\n    for (var i = chunks.length - 1; i >= 0; i--) {\n      var chunk = chunks[i];\n      var to = (isOrig ? chunk.origTo : chunk.editTo) - 1;\n      if (to < start) return to;\n    }\n  }\n\n  function findNextDiff(chunks, start, isOrig) {\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      var from = (isOrig ? chunk.origFrom : chunk.editFrom);\n      if (from > start) return from;\n    }\n  }\n\n  function goNearbyDiff(cm, dir) {\n    var found = null, views = cm.state.diffViews, line = cm.getCursor().line;\n    if (views) for (var i = 0; i < views.length; i++) {\n      var dv = views[i], isOrig = cm == dv.orig;\n      ensureDiff(dv);\n      var pos = dir < 0 ? findPrevDiff(dv.chunks, line, isOrig) : findNextDiff(dv.chunks, line, isOrig);\n      if (pos != null && (found == null || (dir < 0 ? pos > found : pos < found)))\n        found = pos;\n    }\n    if (found != null)\n      cm.setCursor(found, 0);\n    else\n      return CodeMirror.Pass;\n  }\n\n  CodeMirror.commands.goNextDiff = function(cm) {\n    return goNearbyDiff(cm, 1);\n  };\n  CodeMirror.commands.goPrevDiff = function(cm) {\n    return goNearbyDiff(cm, -1);\n  };\n});\n","export default {\n\n    computed: {\n\n        colorableClasses() {\n            const classes = {};\n\n            for(let i in this.$attrs) {\n                if(i.match(/^bg|text|border|bg-gradient-/)) {\n                    classes[i] = true;\n                }\n            }\n\n            return classes;\n        }\n\n    }\n\n};\n","import { each, extend, isArray, isObject } from '../../Helpers/Functions';\n\nexport default {\n\n    methods: {\n\n        mergeClasses() {\n            let classes = {};\n\n            each([].slice.call(arguments), arg => {\n                if(isObject(arg)) {\n                    extend(classes, arg);\n                }\n                else if(isArray(arg)) {\n                    classes = classes.concat(arg);\n                }\n                else if(arg) {\n                    classes[arg] = true;\n                }\n            });\n\n            return classes;\n        }\n\n    }\n\n};\n","<template>\n    <textarea :value=\"value\" />\n</template>\n\n<script>\nimport CodeMirror from 'codemirror';\nimport 'codemirror/theme/yeti.css';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/addon/merge/merge.css';\nimport 'codemirror/addon/fold/foldgutter.css';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/dracula.css';\nimport 'codemirror/addon/hint/show-hint.css';\nimport 'codemirror/mode/htmlmixed/htmlmixed';\nimport 'codemirror/addon/edit/matchtags';\nimport 'codemirror/addon/edit/closebrackets';\nimport 'codemirror/addon/fold/foldcode';\nimport 'codemirror/addon/fold/foldgutter';\nimport 'codemirror/addon/fold/brace-fold';\nimport 'codemirror/addon/fold/xml-fold';\nimport 'codemirror/addon/fold/indent-fold';\nimport 'codemirror/addon/fold/markdown-fold';\nimport 'codemirror/addon/fold/comment-fold';\nimport 'codemirror/addon/hint/show-hint';\nimport 'codemirror/addon/hint/xml-hint';\nimport 'codemirror/addon/hint/html-hint';\nimport 'codemirror/addon/merge/merge';\nimport FormControl from 'vue-interface/src/Mixins/FormControl';\nimport { deepExtend } from 'vue-interface/src/Helpers/Functions';\n\nexport default {\n\n    inheritAttrs: false,\n\n    name: 'editor-field',\n\n    mixins: [\n        FormControl\n    ],\n\n    props: {\n\n        defaultOptions: {\n            type: Object,\n            default() {\n                return {\n                    mode: 'htmlmixed',\n                    theme: 'dracula',\n                    indentAuto: true,\n                    newlineAndIndent: true,\n                    lineNumbers: true,\n                    lineWrapping: true,\n                    indentUnit: 4\n                };\n            }\n        },\n\n        height: {\n            type: String,\n            default: '100%'\n        },\n\n        width: {\n            type: String,\n            default: '100%'\n        }\n\n    },\n\n    computed: {\n\n        options() {\n            return deepExtend({}, this.defaultOptions, this.$attrs);\n        }\n\n    },\n\n    mounted() {\n        this.cm = CodeMirror.fromTextArea(this.$el, this.options);\n        this.cm.on('change', () => this.$emit('input', this.cm.getValue()));\n        this.cm.setSize(this.width, this.height);\n    },\n\n    data() {\n        return {\n            cm: null\n        };\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.CodeMirror {\n    position: absolute;\n    width: 100%;\n\n    .CodeMirror-lint-errors {\n        width: 1.2em;\n    }\n\n    .CodeMirror-lint-error-icon {\n        width: 1em;\n        height: 1em;\n        padding: .2em;\n        background: $danger;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-radius: 100%;\n        transform: translateY(25%);\n        margin: auto;\n\n        svg {\n            color: $white;\n            font-size: .7em;\n        }\n    }\n\n    .CodeMirror-lint-error-underline {\n        color: red !important;\n        font-weight: bold;\n        background-repeat: repeat-x;\n        background-position-y: bottom;\n        background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==\")\n    }\n}\n\n.CodeMirror-lint-tooltip {\n    background: $danger;\n    color: $white;\n    z-index: 10;\n    padding: .5em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n</style>\n","export default {\n    prefix: 'fas',\n    iconName: 'alt',\n    icon: [\n        20,\n        18,\n        [],\n        null,\n        'M.027.656h6.773l7.805 15.609h5.379v1.734h-6.785l-7.805-15.609h-5.367v-1.734zm11.848 0h8.109v1.734h-8.109v-1.734z'\n    ]\n};\n","export default {\n    prefix: 'fas',\n    iconName: 'ctrl',\n    icon: [\n        15,\n        9,\n        [],\n        null,\n        'M.602 7.594l6.938-6.938 6.949 6.938-1.23 1.23-5.719-5.719-5.707 5.719-1.23-1.23z'\n    ]\n};\n","export default {\n    prefix: 'fas',\n    iconName: 'shift',\n    icon: [\n        20,\n        19,\n        [],\n        null,\n        'M.027 10.176l9.973-9.973 9.984 9.973h-4.992v8.824h-9.973v-8.824h-4.992zm9.973-7.922l-6.621 6.621h3.082v8.684h7.09v-8.684h3.07l-6.621-6.621z'\n    ]\n};\n","import prefix from '../../Helpers/Prefix/Prefix';\n\nexport default {\n\n    props: {\n\n        /**\n         * The variant attribute\n         *\n         * @property String\n         */\n        variant: {\n            type: String,\n            default: 'primary'\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return this.$options.name;\n        },\n\n        variantClass() {\n            return prefix(this.variant, this.variantClassPrefix);\n        }\n\n    }\n\n};\n","<template>\n    <a v-if=\"href\" :href=\"href\" class=\"badge\" :class=\"mergeClasses(classes, variantClass)\">\n        <slot>{{label}}</slot>\n        <span class=\"sr-only\" v-html=\"accessibility\"/>\n    </a>\n    <span v-else class=\"badge\" :class=\"mergeClasses(classes, variantClass)\">\n        <slot>{{label}}</slot>\n        <span class=\"sr-only\" v-html=\"accessibility\"/>\n    </span>\n</template>\n\n<script>\nimport prefix from '../../Helpers/Prefix';\nimport Variant from '../../Mixins/Variant';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'badge',\n\n    mixins: [\n        Variant,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * The screen reader accessibility label.\n         *\n         * @property String\n         */\n        accessibility: String,\n\n        /**\n         * If an href attribute is passed, the badge becomes an anchor.\n         *\n         * @property String\n         */\n        href: String,\n\n        /**\n         * The badge appear as pill shaped.\n         *\n         * @property String\n         */\n        pill: Boolean,\n\n        /**\n         * The badge label.\n         *\n         * @property String\n         */\n        label: [Number, String],\n\n        /**\n         * The badge appear as secondary in size to the parent element.\n         *\n         * @property String\n         */\n        secondary: Boolean\n\n    },\n\n    computed: {\n\n        classes() {\n            return prefix({\n                'pill': this.pill,\n                'secondary': this.secondary\n            }, this.$options.name);\n        }\n    }\n};\n</script>\n","<template>\n    <component class=\"navbar-brand\" :class=\"{'h1': h1}\" :is=\"component\" :to=\"to\" :href=\"href || to ? '#' : null\">\n        <img v-if=\"src\" class=\"d-inline-block align-center\" :src=\"src\" :width=\"unit(width)\" :height=\"unit(height)\" :alt=\"alt\"/>\n        <slot/>\n    </component>\n</template>\n\n<script>\nimport unit from '../../Helpers/Unit';\n\nexport default {\n\n    props: {\n\n        /**\n         * The img `alt` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        alt: String,\n\n        /**\n         * The HTML wrapping tag.\n         *\n         * @property Object\n         */\n        tag: String,\n\n        /**\n         * The img `width` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        width: [Number, String],\n\n        /**\n         * The img `height` attribute. `src` must be define before this prop has\n         * any affect.\n         *\n         * @property Object\n         */\n        height: [Number, String],\n\n        /**\n         * The `to` attribute that is passed to the component.\n         *\n         * @property Object\n         */\n        to: [Object, String],\n\n        /**\n         * The `href` attribute that is passed to the component.\n         *\n         * @property Object\n         */\n        href: String,\n\n        /**\n         * Append the `h1` class to increase the display size\n         *\n         * @property Object\n         */\n        h1: Boolean,\n\n        /**\n         * If a `src` attribute is passed, then use it to add an img tag\n         *\n         * @property Object\n         */\n        src: String\n\n    },\n\n    computed: {\n\n        component() {\n            return this.tag || (this.to ? 'router-link' : (this.href ? 'a' : 'span'));\n        }\n\n    },\n\n    methods: {\n        unit(value) {\n            return unit(value);\n        }\n    }\n\n};\n</script>\n","<template>\n    <div class=\"navbar-collapse\" id=\"navbarCollapse\" :class=\"{'collapse': collapse}\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-collapse',\n\n    props: {\n\n        collapse: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <span class=\"navbar-text\">\n        <slot/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-text'\n\n};\n</script>\n","<template>\n    <span class=\"navbar-toggler-icon\">\n        <slot/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navbar-toggler-icon'\n\n};\n</script>\n","<template>\n    <button\n        type=\"button\"\n        class=\"navbar-toggler\"\n        data-toggle=\"collapse\"\n        :data-target=\"target\"\n        :aria-controls=\"target\"\n        :aria-expanded=\"expanded\"\n        :aria-label=\"label\"\n        @click=\"onClick\">\n        <slot><navbar-toggler-icon/></slot>\n    </button>\n</template>\n\n<script>\nimport NavbarTogglerIcon from './NavbarTogglerIcon';\n\nexport default {\n\n    name: 'navbar-toggler',\n\n    components: {\n        NavbarTogglerIcon\n    },\n\n    props: {\n\n        expanded: Boolean,\n\n        label: {\n            type: String,\n            default: 'Toggle navigation'\n        },\n\n        target: {\n            type: String,\n            default: '.navbar-collapse'\n        }\n\n    },\n\n    methods: {\n\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <span class=\"navigation-error fa-stack fa-md\" :title=\"error\">\n        <i class=\"fa fa-stack-2x fa-certificate\"/>\n        <i class=\"fa fa-stack-1x fa-exclamation fa-inverse\"/>\n    </span>\n</template>\n\n<script>\nexport default {\n\n    name: 'navigation-error',\n\n    props: {\n\n        error: {\n            type: String,\n            required: true\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.navigation-error {\n    color: $danger;\n}\n</style>\n","<template>\n    <component :is=\"component\" :class=\"classes\" @click=\"$emit('click', $event)\">\n        <slot />\n    </component>\n</template>\n\n<script>\nimport NavigationLink from './NavigationLink';\n\nexport default {\n\n    name: 'navigation-item',\n\n    extends: NavigationLink,\n\n    props: {\n\n        /**\n         * The HTML element\n         *\n         * @prop {String}\n         */\n        element: String,\n\n        /**\n         * Is the component a list element\n         *\n         * @prop {Boolean}\n         */\n        list: Boolean,\n\n        /**\n         * Add the nav-item class to the link\n         *\n         * @prop {Boolean}\n         */\n        item: {\n            type: Boolean,\n            default: true\n        }\n\n    },\n\n    computed: {\n\n        component() {\n            if(this.element) {\n                return this.element;\n            }\n            else if(this.href) {\n                return 'a';\n            }\n            else if(this.list) {\n                return 'li';\n            }\n\n            return 'div';\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <nav class=\"nav\" :class=\"classes\" :role=\"role\">\n        <slot/>\n    </nav>\n</template>\n\n<script>\nimport NavigationItem from './NavigationItem';\nimport prefix from '../../Helpers/Prefix';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'navigation',\n\n    components: {\n        NavigationItem\n    },\n\n    mixins: [\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Helper to add the justify-content-X class.\n         *\n         * @prop {Array}\n         */\n        align: String,\n\n        /**\n         * An array of buttons\n         *\n         * @prop {Array}\n         */\n        buttons: Array,\n\n        /**\n         * The navigation inside a card\n         *\n         * @prop {Boolean}\n         */\n        card: Boolean,\n\n        /**\n         * Justify nav items to fill the width equally (using flex).\n         *\n         * @prop {Array}\n         */\n        fill: Boolean,\n\n        /**\n         * Add `nav-justified` class to the component.\n         *\n         * @prop {Array}\n         */\n        justified: Boolean,\n\n        /**\n         * Display items as pill shapes\n         *\n         * @prop {Array}\n         */\n        pills: Boolean,\n\n        /**\n         * Display items as tab shapes\n         *\n         * @prop {Array}\n         */\n        tabs: Boolean,\n\n        /**\n         * Display the buttons vertically\n         *\n         * @prop {Boolean}\n         */\n        vertical: Boolean,\n\n        /**\n         * The role attribute\n         *\n         * @prop {String}\n         */\n        role: String\n\n    },\n\n    computed: {\n\n        classes() {\n            this.$nextTick(() => {\n                if(!this.isCard) {\n                    this.isCard = this.$parent.$el.classList.contains('card-header');\n                }\n            });\n\n            return this.mergeClasses(\n                this.align ? prefix(this.align, 'justify-content') : null,\n                this.colorableClasses, {\n                    'card-header-tabs': this.isCard && this.tabs,\n                    'card-header-pills': this.isCard && this.pills,\n                    'nav-justified': this.justified,\n                    'nav-fill': this.fill,\n                    'nav-pills': this.pills,\n                    'nav-tabs': this.tabs,\n                    'flex-column': this.vertical\n                }\n            );\n        }\n\n    },\n\n    data() {\n        return {\n            isCard: this.card\n        };\n    }\n\n};\n</script>\n","<template>\n    <component\n        :is=\"component\"\n        :to=\"to\"\n        :href=\"href || (component === 'a' ? '#' : false)\"\n        :type=\"component === 'button' ? 'button' : false\"\n        :class=\"{'active': active}\"\n        class=\"dropdown-item\"\n        @click=\"onClick\">\n        <i v-if=\"icon\" :class=\"icon\"/>\n        <slot>{{label}}</slot>\n    </component>\n</template>\n\n<script>\nimport Proxy from '../../Mixins/Proxy/Proxy';\n\nexport default {\n\n    name: 'dropdown-menu-item',\n\n    mixins: [\n        Proxy\n    ],\n\n    props: {\n\n        /**\n         * Is the menu item active.\n         *\n         * @property Object\n         */\n        active: Boolean,\n\n        /**\n         * Is the menu item a button\n         *\n         * @property Object\n         */\n        button: Boolean,\n\n        /**\n         * The `element` attribute.\n         *\n         * @property Object\n         */\n        element: String,\n\n        /**\n         * The `href` attribute.\n         *\n         * @property Object\n         */\n        href: String,\n\n        /**\n         * The icon of the dropdown menu item.\n         *\n         * @property Object\n         */\n        icon: String,\n\n        /**\n         * The label of the dropdown menu item.\n         *\n         * @property Object\n         */\n        label: String,\n\n        /**\n         * If an to is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        to: [Object, String]\n\n    },\n\n    computed: {\n\n        component() {\n            return this.element || (this.to ? 'router-link' : (this.button ? 'button' : 'a'));\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @property Object\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\na.dropdown-item {\n    cursor: pointer;\n}\n</style>\n","import { isFunction } from '../../Helpers/Functions';\n\nexport default {\n\n    methods: {\n        proxy(callback, event) {\n            if(isFunction(callback)) {\n                callback.apply(this, [].slice.call(arguments).splice(1));\n                event.preventDefault();\n            }\n        }\n    }\n\n};\n","<template>\n    <h5 class=\"dropdown-header\">\n        <slot>{{header}}</slot>\n    </h5>\n</template>\n\n<script>\nexport default {\n\n    name: 'dropdown-menu-header',\n\n    props: {\n\n        /**\n         * The value of the header\n         *\n         * @property Object\n         */\n        header: String\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"dropdown-divider\"></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'dropdown-menu-divider'\n\n};\n</script>\n","<template>\n    <div class=\"dropdown-menu\" :class=\"{'dropdown-menu-right': align === 'right', 'show': show}\" :aria-labelledby=\"id\" tabindex=\"-1\" @click=\"onClick\">\n        <template v-for=\"item in items\">\n            <component :is=\"prefix(item.type || 'item', 'dropdown-menu')\" v-bind=\"item\"/>\n        </template>\n        <slot/>\n    </div>\n</template>\n\n<script>\nimport uuid from '../../Helpers/Uuid';\nimport prefix from '../../Helpers/Prefix';\nimport { each } from '../../Helpers/Functions';\nimport DropdownMenuItem from './DropdownMenuItem';\nimport DropdownMenuHeader from './DropdownMenuHeader';\nimport DropdownMenuDivider from './DropdownMenuDivider';\n\nexport default {\n\n    name: 'dropdown-menu',\n\n    components: {\n        DropdownMenuItem,\n        DropdownMenuHeader,\n        DropdownMenuDivider\n    },\n\n    props: {\n\n        /**\n         * The `id` attribute on the toggle button and aria label. If no `id` is\n         * defined, then a UUID will be generated instead.\n         *\n         * @property Object\n         */\n        id: {\n            type: String,\n            default: uuid\n        },\n\n        /**\n         * Display the dropdown menu aligned left or right\n         *\n         * @property String\n         */\n        align: {\n            type: String,\n            default: 'left',\n            validate(value) {\n                return ['left', 'right'].indexOf(value.toLowerCase()) !== -1;\n            }\n        },\n\n        /**\n         * The default visibility of the dropdown menu.\n         *\n         * @property Object\n         */\n        show: Boolean,\n\n        /**\n         * An array of dropdown items. If an key/value pair isn't defined, the\n         * default value will be used. If no items are defined, then the slot\n         * named \"items\" can be used to define the options with HTML.\n         *\n         * [{\n         *      type: 'item', // String [item|header|divider]\n         *      href: '#', // String\n         *      label: 'Some label', // String\n         *      onClick: (event) => {} // Function\n         * }]\n         *\n         * @property Array\n         */\n        items: Array\n\n    },\n\n    methods: {\n\n        prefix: prefix,\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @param Object event\n         * @param Object item\n         * @return void\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        },\n\n        /**\n         * A callback function for the `click` event.\n         *\n         * @param Object event\n         * @param Object item\n         * @return void\n         */\n        onItemClick(event, item) {\n            this.$emit('item:click', event, item);\n        }\n\n    },\n\n    mounted() {\n        each(this.$children, child => {\n            child.$on('click', event => {\n                this.onItemClick(event, child);\n            });\n        });\n    }\n\n};\n</script>\n","import prefix from '../../Helpers/Prefix/Prefix';\n\nexport default {\n\n    props: {\n\n        /**\n         * The size of the form control\n         *\n         * @property String\n         */\n        size: {\n            type: String,\n            default: 'md',\n            validate: value => ['sm', 'md', 'lg'].indexOf(value) !== -1\n        }\n\n    },\n\n    computed: {\n\n        sizeableClassPrefix() {\n            return this.$options.name;\n        },\n\n        sizeableClass() {\n            return prefix(this.size, this.sizeableClassPrefix);\n        }\n\n    }\n\n};\n","<template>\n    <router-link v-if=\"to\" :to=\"to\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </router-link>\n    <a v-else-if=\"href\" :href=\"href\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </a>\n    <label v-else-if=\"label\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\" role=\"button\">\n        <slot/>\n    </label>\n    <button v-else :type=\"type\" :disabled=\"disabled\" :class=\"classes\" @click=\"onClick\">\n        <slot/>\n    </button>\n</template>\n\n<script>\nimport Variant from '../../Mixins/Variant';\nimport Sizeable from '../../Mixins/Sizeable';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'btn',\n\n    mixins: [\n        Variant,\n        Sizeable,\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * Display button with active state\n         *\n         * @property String\n         */\n        active: Boolean,\n\n        /**\n         * Display button with blocked state\n         *\n         * @property String\n         */\n        block: Boolean,\n\n        /**\n         * Display button with disabled state\n         *\n         * @property String\n         */\n        disabled: Boolean,\n\n        /**\n         * If an href is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        href: String,\n\n        /**\n         * Should use <label> as the element for the button. Used for inputs\n         * wrappers (toggles).\n         *\n         * @property Boolean\n         */\n        label: Boolean,\n\n        /**\n         * Display as an outline button\n         *\n         * @property String\n         */\n        outline: Boolean,\n\n        /**\n         * If an to is passed, button is an router-link element\n         *\n         * @property Boolean\n         */\n        to: [Object, String],\n\n        /**\n         * The type attribute for the button. Not applied if an anchor\n         *\n         * @property String\n         */\n        type: String\n\n    },\n\n    methods: {\n\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return this.$options.name + (this.outline ? '-outline' : '');\n        },\n\n        classes() {\n            return this.mergeClasses(\n                'btn',\n                this.variantClass,\n                this.sizeableClass,\n                this.colorableClasses,\n                this.block ? 'btn-block' : '',\n                this.active ? 'active' : ''\n            );\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/mixins.scss';\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n@mixin button-block($size) {\n    width: 100%;\n    display: block;\n}\n\n@include media-breakpoint-down(xs) {\n    .btn-xs-block {\n        @include button-block(xs);\n\n        + .btn-xs-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(sm) {\n    .btn-sm-block {\n        @include button-block(sm);\n\n        + .btn-xs-block,\n        + .btn-sm-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(md) {\n    .btn-md-block {\n        @include button-block(md);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(lg) {\n    .btn-lg-block {\n        @include button-block(lg);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block,\n        + .btn-lg-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n@include media-breakpoint-down(xl) {\n    .btn-xl-block {\n        @include button-block(xl);\n\n        + .btn-xs-block,\n        + .btn-sm-block,\n        + .btn-md-block,\n        + .btn-lg-block,\n        + .btn-xl-block {\n            margin-top: $btn-block-spacing-y;\n        }\n    }\n}\n\n</style>\n","<template>\n    <div :class=\"classes\" :data-toggle=\"toggle ? 'buttons' : false\" role=\"group\">\n        <btn v-if=\"buttons\" v-for=\"(button, i) in buttons\" :key=\"i\" v-bind=\"button\" />\n        <slot/>\n    </div>\n</template>\n\n<script>\nimport Btn from '../Btn';\nimport Sizeable from '../../Mixins/Sizeable';\nimport Colorable from '../../Mixins/Colorable';\nimport MergeClasses from '../../Mixins/MergeClasses';\n\nexport default {\n\n    name: 'btn-group',\n\n    components: {\n        Btn\n    },\n\n    mixins: [\n        Sizeable,\n        Colorable,\n        MergeClasses\n    ],\n\n    props: {\n\n        /**\n         * An array of buttons\n         *\n         * @type {Array}\n         */\n        buttons: Array,\n\n        /**\n         * Denote the button group as toggle buttons\n         *\n         * @type {Boolean}\n         */\n        toggle: Boolean,\n\n        /**\n         * Display the buttons vertically\n         *\n         * @type {Boolean}\n         */\n        vertical: Boolean\n\n    },\n\n    computed: {\n\n        classes() {\n            return this.mergeClasses(\n                this.colorableClasses, {\n                    'btn-group': !this.vertical,\n                    'btn-group-toggle': this.toggle,\n                    'btn-group-vertical': this.vertical\n                }\n            );\n        }\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"btn-group-toggle\" data-toggle=\"buttons\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'btn-group-toggle'\n\n};\n</script>\n","<template>\n    <div class=\"btn-toolbar\" role=\"toolbar\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'btn-toolbar'\n\n};\n</script>\n","<template>\n\n    <btn-group v-if=\"split\">\n        <template v-if=\"!dropleft\">\n            <a v-if=\"href\" :href=\"href\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n            </a>\n            <button v-else :type=\"type\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label-wrapper\"><i v-if=\"icon\" :class=\"icon\"/> <slot name=\"label\">{{label}}</slot></slot>\n            </button>\n        </template>\n        <btn-group :class=\"{'dropup': dropup, 'dropright': dropright, 'dropleft': dropleft}\">\n            <button type=\"button\" aria-haspopup=\"true\" :aria-expanded=\"isDropdownShowing\" :id=\"$attrs.id\" :class=\"toggleClasses\" @click.prevent=\"!isDropdownShowing ? show() : hide()\" @blur=\"onBlur\"></button>\n            <dropdown-menu\n                :id=\"$attrs.id\"\n                :align=\"align\"\n                :show.sync=\"isDropdownShowing\"\n                @click=\"onMenuClick\"\n                @item:click=\"onItemClick\">\n                <slot/>\n            </dropdown-menu>\n        </btn-group>\n        <template v-if=\"dropleft\">\n            <a v-if=\"href\" :href=\"href\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n            </a>\n            <button v-else :type=\"type\" :class=\"actionClasses\" @click=\"onClick\">\n                <slot name=\"label-wrapper\"><i v-if=\"icon\" :class=\"icon\"/> <slot name=\"label\">{{label}}</slot></slot>\n            </button>\n        </template>\n    </btn-group>\n\n    <btn-group v-else :class=\"{'dropup': dropup, 'dropright': dropright, 'dropleft': dropleft}\" @click=\"onClick\">\n        <button aria-haspopup=\"true\" :aria-expanded=\"isDropdownShowing\" :type=\"type\" :id=\"$attrs.id\" :class=\"toggleClasses\" @click.prevent=\"!isDropdownShowing ? show() : hide()\" @blur=\"onBlur\">\n            <slot name=\"label\"><i v-if=\"icon\" :class=\"icon\"/> {{label}}</slot>\n        </button>\n\n        <dropdown-menu\n            :id=\"$attrs.id\"\n            :align=\"align\"\n            :show.sync=\"isDropdownShowing\"\n            @click=\"onMenuClick\"\n            @item:click=\"onItemClick\">\n            <slot/>\n        </dropdown-menu>\n    </btn-group>\n\n</template>\n\n<script>\nimport Btn from '../Btn';\nimport Popper from 'popper.js';\nimport BtnGroup from '../BtnGroup';\nimport uuid from '../../Helpers/Uuid';\nimport prefix from '../../Helpers/Prefix';\nimport DropdownMenu from '../DropdownMenu';\nimport { each } from '../../Helpers/Functions';\n\nconst TAB_KEYCODE = 9;\nconst LEFT_ARROW_KEYCODE = 37;\nconst RIGHT_ARROW_KEYCODE = 39;\nconst UP_ARROW_KEYCODE = 38;\nconst DOWN_ARROW_KEYCODE = 40;\n\nlet ignoreBlurEvent = false;\n\nexport default {\n\n    name: 'btn-dropdown',\n\n    extends: Btn,\n\n    components: {\n        BtnGroup,\n        DropdownMenu\n    },\n\n    props: {\n\n        /**\n         * The button icon that appears before the label.\n         *\n         * @property String\n         */\n        autoclose: Boolean,\n\n        /**\n         * The button icon that appears before the label.\n         *\n         * @property String\n         */\n        icon: String,\n\n        /**\n         * The toggle button's label. If not defined as an attribute,\n         * you can override with the component's slot (inner html).\n         *\n         * @property String\n         */\n        label: String,\n\n        /**\n         * The `id` attribute on the toggle button and aria label. If no `id` is\n         * defined, then a UUID will be generated instead.\n         *\n         * @property String\n         */\n        id: {\n            type: String,\n            default: uuid\n        },\n\n        /**\n         * The button type attribute.\n         *\n         * @property String\n         */\n        type: {\n            type: String,\n            default: 'button'\n        },\n\n        /**\n         * Display the dropdown menu aligned left or right\n         *\n         * @property String\n         */\n        align: {\n            type: String,\n            default: 'left',\n            validate(value) {\n                return ['left', 'right'].indexOf(value.toLowerCase()) !== -1;\n            }\n        },\n\n        /**\n         * Display the dropdown button with a split toggle button.\n         *\n         * @property Boolean\n         */\n        split: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropup instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropup: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropright instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropright: {\n            type: Boolean,\n            default: false\n        },\n\n        /**\n         * Display as a dropleft instead of a dropdown.\n         *\n         * @property Boolean\n         */\n        dropleft: {\n            type: Boolean,\n            default: false\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * Focus on the the dropdown toggle button\n         *\n         * @return void\n         */\n        focus() {\n            this.$el.querySelector('.dropdown-toggle').focus();\n        },\n\n        /**\n         * Focus on the the dropdown toggle button\n         *\n         * @return void\n         */\n        queryFocusable() {\n            return this.$el.querySelector('.dropdown-menu').querySelectorAll('label, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n        },\n\n        /**\n         * Method to check if the given element is focusable.\n         *\n         * @return void\n         */\n        isFocusable(element) {\n            const nodes = this.queryFocusable();\n\n            for(let i in nodes) {\n                if(element === nodes[i]) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Toggle the dropdown menu\n         *\n         * @return void\n         */\n        toggle() {\n            !this.isDropdownShowing ? this.show() : this.hide();\n        },\n\n        /**\n         * Show the dropdown menu\n         *\n         * @return void\n         */\n        show() {\n            this.isDropdownShowing = true;\n\n            this.$nextTick(() => {\n                let side = 'bottom';\n\n                if(this.dropup) {\n                    side = 'top';\n                }\n                else if(this.dropleft) {\n                    side = 'left';\n                }\n                else if(this.dropright) {\n                    side = 'right';\n                }\n\n                const menu = this.$el.querySelector('.dropdown-menu');\n                const toggle = this.$el.querySelector('.dropdown-toggle');\n                const position = [side, this.align === 'left' ? 'start' : 'end'];\n\n                this.$popper = new Popper(toggle, menu, {\n                    placement: position.join('-')\n                });\n\n                if(this.queryFocusable().item(0)) {\n                    this.$el.querySelector('input, select, textarea').focus();\n                }\n\n                this.$emit('show');\n            });\n        },\n\n        /**\n         * Hide the dropdown menu\n         *\n         * @return void\n         */\n        hide() {\n            this.$emit('toggle', this.isDropdownShowing = false);\n            this.$emit('hide');\n        },\n\n        /**\n         * A callback function for the `click` event for the action button\n         *\n         * @return void\n         */\n        onClick(event) {\n            this.hide();\n            this.$emit('click', event);\n        },\n\n        /**\n         * A callback function for the `blur` event for the action button\n         *\n         * @return void\n         */\n        onBlur(event) {\n            if(!this.$el.contains(event.relatedTarget)) {\n                this.hide();\n            }\n        },\n\n        /**\n         * A callback function for the `item:click` event for the action button\n         *\n         * @return void\n         */\n        onMenuClick(event, item) {\n            if(event.target === this.$el.querySelector('.dropdown-menu')) {\n                this.focus();\n            }\n        },\n\n        /**\n         * A callback function for the `item:click` event for the action button\n         *\n         * @return void\n         */\n        onItemClick(event, item) {\n            if(!this.isFocusable(event.target)) {\n                this.hide();\n            }\n\n            this.$emit('item:click', event, item);\n        }\n\n    },\n\n    computed: {\n\n        variantClassPrefix() {\n            return 'btn' + (this.outline ? '-outline' : '');\n        },\n\n        sizeableClassPrefix() {\n            return 'btn';\n        },\n\n        actionClasses() {\n            return [\n                'btn',\n                prefix(this.size, 'btn'),\n                prefix(this.variant, 'btn')\n            ].join(' ');\n        },\n\n        toggleClasses() {\n            return [\n                'btn',\n                'dropdown-toggle',\n                this.variantClass,\n                this.sizeableClass,\n                this.active ? 'active' : '',\n                this.block ? 'btn-block' : '',\n                (this.split ? 'dropdown-toggle-split' : '')\n            ].join(' ');\n        }\n    },\n\n    data() {\n        return {\n            isDropdownShowing: false\n        };\n    },\n\n    mounted() {\n        each(this.$el.querySelectorAll('[type=submit], input, select, textarea, [tabindex]:not([tabindex=\"-1\"]'), el => {\n            if(el && el.addEventListener) {\n                el.addEventListener('blur', event => {\n                    if(!ignoreBlurEvent) {\n                        this.focus();\n                    }\n\n                    ignoreBlurEvent = false;\n                });\n\n                el.addEventListener('focus', event => {\n                    ignoreBlurEvent = false;\n                });\n\n                el.addEventListener('keydown', event => {\n                    const ignore = [\n                        LEFT_ARROW_KEYCODE,\n                        RIGHT_ARROW_KEYCODE,\n                        UP_ARROW_KEYCODE,\n                        DOWN_ARROW_KEYCODE,\n                        TAB_KEYCODE\n                    ];\n\n                    if(ignore.indexOf(event.keyCode) !== -1) {\n                        ignoreBlurEvent = true;\n                    }\n                });\n\n                el.addEventListener('mousedown', event => {\n                    ignoreBlurEvent = true;\n                });\n            }\n        });\n    }\n\n};\n</script>\n","<template>\n\n    <navigation-item class=\"dropdown\">\n\n        <slot name=\"toggle-button\">\n            <navigation-link\n                href=\"#\"\n                class=\"dropdown-toggle\"\n                data-toggle=\"dropdown\"\n                role=\"button\"\n                aria-haspopup=\"true\"\n                :aria-expanded=\"isDropdownShowing\"\n                @click.native.prevent=\"toggle()\"\n                @blur=\"onBlur\">\n                {{label}}\n            </navigation-link>\n        </slot>\n\n        <slot name=\"dropdown-menu\">\n            <dropdown-menu\n                :id=\"$attrs.id\"\n                :items=\"items\"\n                :align=\"align\"\n                :show.sync=\"isDropdownShowing\"\n                @item:click=\"onItemClick\">\n                <slot/>\n            </dropdown-menu>\n        </slot>\n\n    </navigation-item>\n\n</template>\n\n<script>\nimport NavigationItem from './NavigationItem';\nimport NavigationLink from './NavigationLink';\nimport DropdownMenu from '../DropdownMenu';\nimport BtnDropdown from '../BtnDropdown';\n\nexport default {\n\n    name: 'navigation-dropdown',\n\n    extends: BtnDropdown,\n\n    components: {\n        BtnDropdown,\n        DropdownMenu,\n        NavigationItem,\n        NavigationLink\n    }\n\n};\n</script>\n","<template>\n    <ul class=\"navbar-nav\" role=\"nav\">\n        <slot/>\n    </ul>\n</template>\n\n<script>\nimport Navigation from '../Navigation';\n\nexport default {\n\n    name: 'navbar-nav',\n\n    components: {\n        Navigation\n    }\n\n};\n</script>\n","<template>\n    <kbd>\n        <slot>{{ label }}</slot>\n        <icon v-if=\"icon\" :icon=\"icon\" />\n    </kbd>\n</template>\n\n<script>\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\n\nexport default {\n\n    name: 'editor-hotkey',\n\n    components: {\n        Icon\n    },\n\n    props: {\n\n        label: [Number, String],\n\n        icon: [Array, String]\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","<template>\n    <dropdown-menu-item @click=\"$emit('click', $event)\">\n        <span>\n            <slot>{{ label }}</slot>\n        </span>\n        <code v-if=\"hotkeys\">\n            <editor-hotkey v-for=\"(key, i) in hotkeys\" :key=\"i\" :icon=\"key.length > 1 ? key : null\" :label=\"key.length === 1 ? key : null\" />\n        </code>\n    </dropdown-menu-item>\n</template>\n\n<script>\nimport EditorHotkey from './EditorHotkey';\nimport DropdownMenuItem from 'vue-interface/src/Components/DropdownMenu/DropdownMenuItem';\n\nexport default {\n\n    name: 'editor-toolbar-menu-item',\n\n    props: {\n\n        label: String,\n\n        hotkeys: Array\n\n    },\n\n    components: {\n        EditorHotkey,\n        DropdownMenuItem\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar prefix = 'fas';\nvar iconName = 'cog';\nvar width = 512;\nvar height = 512;\nvar ligatures = [];\nvar unicode = 'f013';\nvar svgPathData = 'M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z';\n\nexports.definition = {\n  prefix: prefix,\n  iconName: iconName,\n  icon: [\n    width,\n    height,\n    ligatures,\n    unicode,\n    svgPathData\n  ]};\n\nexports.faCog = exports.definition;\nexports.prefix = prefix;\nexports.iconName = iconName;\nexports.width = width;\nexports.height = height;\nexports.ligatures = ligatures;\nexports.unicode = unicode;\nexports.svgPathData = svgPathData;","<template>\n    <div class=\"activity-indicator\" :class=\"classes\">\n        <div v-for=\"i in nodes\"></div>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    props: {\n        nodes: {\n            type: Number,\n            default: 3\n        },\n        size: {\n            type: String,\n            default: ''\n        },\n        prefix: {\n            type: String,\n            default: 'activity-indicator-'\n        }\n    },\n\n    computed: {\n        classes: function() {\n            const classes = {};\n\n            classes[this.$options.name] = !!this.$options.name;\n            classes[this.prefix + this.size.replace(this.prefix, '')] = !!this.size;\n\n            return classes;\n        }\n    }\n\n};\n</script>\n","<template>\n    <div v-if=\"center\" class=\"center-wrapper\" :class=\"{'position-relative': relative, 'position-fixed': fixed}\" :style=\"style\">\n        <div class=\"center-content d-flex flex-column align-items-center\">\n            <component :is=\"component\" :size=\"size\" :prefix=\"prefix\"/>\n            <div v-if=\"label\" v-html=\"label\" class=\"activity-indicator-label\"/>\n        </div>\n    </div>\n    <div v-else class=\"d-flex flex-column justify-content-center align-items-center\" :style=\"style\">\n        <component :is=\"component\" :size=\"size\" :prefix=\"prefix\"/>\n        <div v-if=\"label\" v-html=\"label\" class=\"activity-indicator-label\"/>\n    </div>\n</template>\n\n<script>\nimport unit from '../../Helpers/Unit';\nimport BaseType from './Types/BaseType';\nimport ActivityIndicatorDots from './Types/Dots';\nimport { kebabCase } from '../../Helpers/Functions';\nimport ActivityIndicatorSpinner from './Types/Spinner';\n\nexport default {\n\n    name: 'activity-indicator',\n\n    extends: BaseType,\n\n    props: {\n\n        center: Boolean,\n\n        fixed: Boolean,\n\n        label: String,\n\n        relative: Boolean,\n\n        type: {\n            type: String,\n            default: 'dots'\n        },\n\n        height: [String, Number],\n\n        maxHeight: [String, Number],\n\n        minHeight: [String, Number],\n\n        width: [String, Number],\n\n        maxWidth: [String, Number],\n\n        minWidth: [String, Number]\n\n    },\n\n    components: {\n        ActivityIndicatorDots,\n        ActivityIndicatorSpinner\n    },\n\n    computed: {\n\n        style() {\n            return {\n                width: unit(this.width),\n                maxWidth: unit(this.maxWidth),\n                minWidth: unit(this.minWidth),\n                height: unit(this.height),\n                maxHeight: unit(this.maxHeight),\n                minHeight: unit(this.minHeight)\n            };\n        },\n\n        component() {\n            return kebabCase(this.prefix + this.type.replace(this.prefix, ''));\n        }\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.center-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n\n    .center-content {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n}\n</style>\n","<template>\n    <button :type=\"type\" class=\"btn\" :class=\"classes\" @click=\"onClick\">\n        <i v-if=\"icon\" :class=\"icon\"/> {{label}}\n        <slot/>\n        <activity-indicator v-bind=\"indicatorProps\" />\n    </button>\n</template>\n\n<script>\nimport { isString } from '../../Helpers/Functions';\nimport ActivityIndicator from '../ActivityIndicator';\n\nconst convertAnimationDelayToInt = function(delay) {\n    const num = parseFloat(delay, 10);\n    const matches = delay.match(/m?s/);\n    const unit = matches ? matches[0] : false;\n\n    let milliseconds;\n\n    switch (unit) {\n    case 's': // seconds\n        milliseconds = num * 1000;\n        break;\n    case 'ms':\n    default:\n        milliseconds = num;\n        break;\n    }\n\n    return milliseconds || 0;\n};\n\nconst animated = function(el, callback) {\n    const defaultView = (el.ownerDocument || document).defaultView;\n\n    setTimeout(() => {\n        callback.apply();\n    }, convertAnimationDelayToInt(defaultView.getComputedStyle(el).animationDuration));\n};\n\nexport default {\n\n    name: 'activity-button',\n\n    components: {\n        ActivityIndicator\n    },\n\n    props: {\n\n        /**\n         * Make the button appear with the active state.\n         *\n         * @property {Boolea}n}\n         */\n        active: Boolean,\n\n        /**\n         * Show the activity indicator inside the button.\n         *\n         * @property {Boolea}n}\n         */\n        activity: Boolean,\n\n        /**\n         * Display the button as block width.\n         *\n         * @property {Boolea}n}\n         */\n        block: Boolean,\n\n        /**\n         * Make the button appear with the disabled state.\n         *\n         * @property {Boolea}n}\n         */\n        disabled: Boolean,\n\n        /**\n         * The button label. If not passed as a property, label must be passed\n         * inside the element's html.\n         *\n         * @property {String}\n         */\n        label: String,\n\n        /**\n         * The button icon\n         *\n         * @property {String}\n         */\n        icon: String,\n\n        /**\n         * The `type` attribute for the button element.\n         *\n         * @property {String}\n         */\n        type: String,\n\n        /**\n         * The size of the button.\n         *\n         * @property {String}\n         */\n        size: {\n            type: String,\n            default: 'md'\n        },\n\n        /**\n         * The variant of the button.\n         *\n         * @property {String}\n         */\n        variant: {\n            type: String,\n            default: 'primary'\n        },\n\n        /**\n         * The type of activity indicator inside the button.\n         *\n         * @property {String}\n         */\n        indicator: {\n            type: [Object, String],\n            default: 'spinner'\n        },\n\n        /**\n         * The orientation of the activity button inside the button.\n         *\n         * @property {String}\n         */\n        orientation: {\n            type: String,\n            default: 'right'\n        }\n    },\n\n    methods: {\n\n        /**\n         * Disable the button.\n         *\n         * @return void\n         */\n        disable() {\n            this.$el.disabled = true;\n        },\n\n        /**\n         * Enable the button.\n         *\n         * @return void\n         */\n        enable() {\n            this.$el.disabled = false;\n        },\n\n        /**\n         * Show the activity indicator inside the button.\n         *\n         * @return void\n         */\n        showActivity() {\n            this.disable();\n\n            animated(this.$el, () => {\n                this.$el.classList.add('btn-activity');\n                this.$emit('activity:show');\n            });\n        },\n\n        /**\n         * Hide the activity indicator inside the button.\n         *\n         * @return void\n         */\n        hideActivity() {\n            this.$el.classList.add('btn-hide-activity');\n\n            animated(this.$el, () => {\n                this.enable();\n                this.$el.classList.remove('btn-activity', 'btn-hide-activity');\n                this.$emit('activity:hide');\n            });\n        },\n\n        /**\n         * The click callback function\n         *\n         * @return void\n         */\n        onClick(event) {\n            this.$emit('click', event);\n        }\n\n    },\n\n    computed: {\n\n        /**\n         * An object of classes to append to the button.\n         *\n         * @return void\n         */\n        classes() {\n            const classes = {\n                'disabled': this.disabled,\n                'active': this.active,\n                'btn-block': this.block,\n                'btn-activity': this.activity\n            };\n\n            classes['btn-' + this.size.replace('btn-', '')] = !!this.size;\n            classes['btn-' + this.variant.replace('btn-', '')] = !!this.variant;\n            classes['btn-activity-' + this.orientation.replace('btn-activity-', '')] = !!this.orientation;\n            classes['btn-activity-indicator-' + this.indicatorProps.type.replace('btn-activity-indicator-', '')] = !!this.indicatorProps.type;\n\n            return classes;\n        },\n\n        indicatorProps() {\n            return Object.assign({\n                type: 'spinner'\n            }, (isString(this.indicator) ? {\n                type: this.indicator\n            } : this.indicator) || {});\n        }\n\n    },\n\n    watch: {\n\n        activity(value) {\n            if(value) {\n                this.showActivity();\n            }\n            else {\n                this.hideActivity();\n            }\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/functions.scss';\n@import './node_modules/bootstrap/scss/variables.scss';\n\n// Activity Indicator variables\n$activity-indicator-animated-delay-in: 333ms;\n$activity-indicator-animated-delay-out: 333ms;\n\n$activity-indicator-spinner-size: $font-size-base * 2.25;\n$activity-indicator-spinner-width: 10%;\n$activity-indicator-spinner-height: 30%;\n$activity-indicator-spinner-delay: 1s;\n\n@keyframes btn-activity-in {\n    0%, 100% {\n        transform: scale(1);\n    } 30% {\n        transform: scale(.98);\n    }\n}\n\n@keyframes btn-activity-out {\n    0%, 100% {\n        transform: scale(1);\n    } 70% {\n        transform: scale(.98);\n    }\n}\n\n// Activity Indicator Button\n.btn-activity-top,\n.btn-activity-bottom,\n.btn-activity-left,\n.btn-activity-right {\n    position: relative;\n    transition: padding ($activity-indicator-animated-delay-in / 2) ease-in;\n\n    & .activity-indicator {\n        opacity: 0;\n        position: absolute;\n        visibility: hidden;\n        transition: opacity $activity-indicator-animated-delay-out ease-in;\n    }\n}\n\n.btn-activity-top .activity-indicator,\n.btn-activity-bottom .activity-indicator {\n    left: 50%;\n    margin-right: -50%;\n    transform: translateX(-50%);\n}\n.btn-activity-left .activity-indicator,\n.btn-activity-right .activity-indicator {\n    top: 50%;\n    margin-bottom: -50%;\n    transform: translateY(-50%);\n}\n\n.btn-activity:not(.btn-link) {\n    animation: btn-activity-in $activity-indicator-animated-delay-in;\n}\n.btn-hide-activity:not(.btn-link) {\n    animation: btn-activity-out $activity-indicator-animated-delay-out;\n}\n\n.btn-activity {\n\n    &.btn-hide-activity .activity-indicator {\n        opacity: 0;\n    }\n\n    & .activity-indicator {\n        opacity: 1;\n        visibility: visible;\n        position: absolute;\n    }\n\n    &.btn-outline-primary.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $primary;\n    }\n    &.btn-outline-secondary.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $success;\n    }\n    &.btn-outline-danger.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $danger;\n    }\n    &.btn-outline-success.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $success;\n    }\n    &.btn-outline-warning.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $warning;\n    }\n    &.btn-outline-info.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $info;\n    }\n    &.btn-outline-link.btn-activity-indicator-spinner .activity-indicator > div:before {\n        background-color: $link-color;\n    }\n\n    &.btn-xs {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 1.25;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 1.25;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 2.33;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 2.33;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 3;\n            height: $font-size-base / 3;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                top: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                left: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 1.66;\n\n            & .activity-indicator {\n                right: $font-size-base * .25;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1;\n            height: $font-size-base * 1;\n\n            & > div:before {\n                //width: $activity-indicator-spinner-width * .63;\n                //height: $activity-indicator-spinner-height * .66;\n                width: $activity-indicator-spinner-width * .84;\n                height: $activity-indicator-spinner-height * 1;\n            }\n        }\n    }\n\n    &.btn-sm {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 1.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 1.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 3;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 3;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 2;\n            height: $font-size-base / 2;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 2;\n\n            & .activity-indicator {\n                top: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 2;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 2.5;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 2.5;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1.5;\n            height: $font-size-base * 1.5;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .56;\n                height: $activity-indicator-spinner-height;\n            }\n        }\n    }\n\n    &:not(.btn-xs):not(.btn-sm):not(.btn-md):not(.btn-lg):not(.btn-xl),\n    &.btn-md {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 2;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 2;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 4;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 4;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base / 1.25;\n            height: $font-size-base / 1.25;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .33;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 1.75;\n            height: $font-size-base * 1.75;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .66;\n                height: $activity-indicator-spinner-height;\n            }\n        }\n    }\n\n    &.btn-lg {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 2.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 5;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 5;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base * 1.1;\n            height: $font-size-base * 1.1;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 3.5;\n\n            & .activity-indicator {\n                top: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 3.5;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 3.25;\n\n            & .activity-indicator {\n                left: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 3.25;\n\n            & .activity-indicator {\n                right: $font-size-base * .5;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 2.15;\n            height: $font-size-base * 2.15;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .75;\n            }\n        }\n    }\n\n    &.btn-xl {\n        &.btn-activity-top.btn-activity-indicator-dots {\n            padding-top: $font-size-base * 3.75;\n\n            & .activity-indicator {\n                top: $font-size-base * 1;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-dots {\n            padding-bottom: $font-size-base * 3.75;\n\n            & .activity-indicator {\n                bottom: $font-size-base * 1;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-dots {\n            padding-left: $font-size-base * 6;\n\n            & .activity-indicator {\n                left: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-dots {\n            padding-right: $font-size-base * 6;\n\n            & .activity-indicator {\n                right: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-indicator-dots .activity-indicator > div,\n        & .activity-indicator-dots > div {\n            width: $font-size-base * 1.25;\n            height: $font-size-base * 1.25;\n        }\n\n        &.btn-activity-top.btn-activity-indicator-spinner {\n            padding-top: $font-size-base * 4.25;\n\n            & .activity-indicator {\n                top: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-bottom.btn-activity-indicator-spinner {\n            padding-bottom: $font-size-base * 4.25;\n\n            & .activity-indicator {\n                bottom: $font-size-base * .66;\n            }\n        }\n\n        &.btn-activity-left.btn-activity-indicator-spinner {\n            padding-left: $font-size-base * 4;\n\n            & .activity-indicator {\n                left: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-right.btn-activity-indicator-spinner {\n            padding-right: $font-size-base * 4;\n\n            & .activity-indicator {\n                right: $font-size-base * .75;\n            }\n        }\n\n        &.btn-activity-indicator-spinner .activity-indicator,\n        & .activity-indicator-spinner {\n            width: $font-size-base * 2.5;\n            height: $font-size-base * 2.5;\n\n            & > div:before {\n                width: $activity-indicator-spinner-width * .75;\n            }\n        }\n    }\n\n}\n</style>\n","<template>\n    <navbar class=\"editor-toolbar\" variant=\"dark\" bg-dark>\n        <btn-activity ref=\"lint\" size=\"sm\" variant=\"light\" class=\"mr-auto\" :disabled=\"isLintingDisabled()\" :activity=\"activity\" @click.prevent=\"onClickLint\">\n            <icon icon=\"bug\" />\n            <badge v-if=\"errors.length\" :label=\"errors.length\" variant=\"danger\" class=\"position-absolute\" pill />\n        </btn-activity>\n        <div class=\"editor-toolbar-title\">\n            <input type=\"text\" placeholder=\"Untitled Document\" :value=\"title\" @input=\"onInput\"/>\n        </div>\n        <btn-dropdown v-if=\"pageControls\" size=\"sm\" variant=\"light\" align=\"right\" class=\"editor-toolbar-actions ml-auto\">\n            <icon icon=\"cog\" slot=\"label\"/>\n            <editor-toolbar-menu-item label=\"New File\" :hotkeys=\"['ctrl', 'N']\" @click.prevent=\"$emit('new')\" />\n            <editor-toolbar-menu-item label=\"Open\" :hotkeys=\"['ctrl', 'O']\" @click.prevent=\"$emit('open')\" />\n            <editor-toolbar-menu-item label=\"Save\" :hotkeys=\"['ctrl', 'S']\" @click.prevent=\"$emit('save')\" />\n            <editor-toolbar-menu-item label=\"Save As...\" :hotkeys=\"['shift', 'ctrl', 'S']\" @click.prevent=\"$emit('save-as')\" />\n            <editor-toolbar-menu-item label=\"Close\" :hotkeys=\"['ctrl', 'Q']\" @click.prevent=\"$emit('close')\" />\n            <template v-if=\"errors.length\">\n                <dropdown-menu-divider/>\n                <editor-toolbar-menu-item label=\"Export Errors\" :hotkeys=\"['ctrl', 'X']\" @click.prevent=\"$emit('export-errors')\" />\n            </template>\n            <template v-else-if=\"!isLintingDisabled() && errors.length === 0\">\n                <dropdown-menu-divider/>\n                <editor-toolbar-menu-item label=\"Convert Document\" :hotkeys=\"['ctrl', 'C']\" @click.prevent=\"$emit('convert')\" />\n            </template>\n        </btn-dropdown>\n    </navbar>\n</template>\n\n<script>\nimport { alt, ctrl, shift } from './Icons';\nimport Badge from 'vue-interface/src/Components/Badge';\nimport Navbar from 'vue-interface/src/Components/Navbar';\nimport EditorToolbarMenuItem from './EditorToolbarMenuItem';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faBug } from '@fortawesome/free-solid-svg-icons/faBug';\nimport { faCog } from '@fortawesome/free-solid-svg-icons/faCog';\nimport BtnActivity from 'vue-interface/src/Components/BtnActivity';\nimport BtnDropdown from 'vue-interface/src/Components/BtnDropdown';\nimport { FontAwesomeIcon as Icon } from '@fortawesome/vue-fontawesome';\nimport DropdownMenuDivider from 'vue-interface/src/Components/DropdownMenu/DropdownMenuDivider';\n\nlibrary.add(faBug);\nlibrary.add(faCog);\nlibrary.add(alt);\nlibrary.add(ctrl);\nlibrary.add(shift);\n\nexport default {\n\n    name: 'editor-toolbar',\n\n    components: {\n        Icon,\n        BtnActivity,\n        Badge,\n        Navbar,\n        BtnDropdown,\n        DropdownMenuDivider,\n        EditorToolbarMenuItem\n    },\n\n    props: {\n\n        activity: Boolean,\n\n        errors: Array,\n\n        pageControls: {\n            type: Boolean,\n            default: true\n        },\n\n        value: String,\n\n        title: {\n            type: String,\n            default: null\n        }\n\n    },\n\n    methods: {\n\n        isLintingDisabled() {\n            return !this.value || this.value === '';\n        },\n\n        onInput(event) {\n            this.$emit('input', event.target.value);\n            this.$emit('update:title', event.target.value);\n        },\n\n        onClickLint(event) {\n            if(!this.isLintingDisabled()) {\n                this.$emit('lint', event);\n            }\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.editor-toolbar {\n    &.bg-dark {\n        background-color: #282a36 !important;\n    }\n\n    &.fixed {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        z-index: 100;\n    }\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .editor-toolbar-title {\n        color: white;\n        font-size: 1em;\n        width: auto;\n        background: transparent;\n        text-align: center;\n        margin: 0 auto;\n        display: flex;\n        flex-grow: 1;\n\n        input {\n            border: 0;\n            margin: 0;\n            color: white;\n            outline: none;\n            background: transparent;\n            text-align: center;\n            flex-grow: 1;\n        }\n    }\n\n    .editor-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n</style>\n","export default {\n\n    props: {\n\n        /**\n         * Should show only for screenreaders\n         *\n         * @property Boolean\n         */\n        srOnly: Boolean,\n\n        /**\n         * Should be focusable for screenreaders\n         *\n         * @property Boolean\n         */\n        srOnlyFocusable: Boolean\n\n    },\n\n    computed: {\n        screenreaderClasses() {\n            return {\n                'sr-only': this.srOnly,\n                'sr-only-focusable': this.srOnlyFocusable\n            };\n        }\n    }\n\n};\n","<template>\n\n    <small class=\"form-text\" :class=\"classes\"><slot /></small>\n\n</template>\n\n<script>\nimport { extend } from '../../Helpers/Functions';\nimport Colorable from '../../Mixins/Colorable/Colorable';\nimport Screenreaders from '../../Mixins/Screenreaders/Screenreaders';\n\nexport default {\n\n    name: 'help-text',\n\n    mixins: [\n        Colorable,\n        Screenreaders\n    ],\n\n    computed: {\n        classes() {\n            return extend({}, this.screenreaderClasses, this.colorableClasses);\n        }\n    }\n\n};\n</script>\n","<template>\n\n    <div :class=\"{'form-group': !!group}\">\n        <slot/>\n    </div>\n\n</template>\n\n<script>\nexport default {\n\n    name: 'form-group',\n\n    props: {\n\n        group: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n.form-group {\n    &, .form-group-inner {\n        position: relative;\n    }\n\n    .activity-indicator {\n        position: absolute;\n        right: 0;\n        top: 50%;\n        transform: translate(-1rem, -50%);\n        transition: all .25s ease-in;\n    }\n}\n</style>\n","<template>\n\n    <label :class=\"classes\"><slot/></label>\n\n</template>\n\n<script>\nimport { extend } from '../../Helpers/Functions';\nimport Colorable from '../../Mixins/Colorable/Colorable';\nimport Screenreaders from '../../Mixins/Screenreaders/Screenreaders';\n\nexport default {\n\n    name: 'form-label',\n\n    mixins: [\n        Colorable,\n        Screenreaders\n    ],\n\n    computed: {\n        classes() {\n            return extend({}, this.screenreaderClasses, this.colorableClasses);\n        }\n    }\n\n};\n</script>\n","<template>\n    <component\n        v-bind=\"$attrs\"\n        :is=\"element\"\n        :aria-label=\"label || name || id\"\n        :aria-describedby=\"id || name\"\n        @input=\"$emit('input', $event.target.value)\">\n        <slot/>\n    </component>\n</div>\n\n</template>\n\n<script>\nimport Colorable from '../../Mixins/Colorable';\nimport FormControl from '../../Mixins/FormControl';\n\nexport default {\n\n    name: 'form-control',\n\n    mixins: [\n        Colorable,\n        FormControl\n    ],\n\n    props: {\n\n        element: {\n            type: String,\n            required: true\n        }\n\n    }\n\n};\n</script>\n","<template>\n\n    <div :class=\"{'invalid-feedback': invalid, 'valid-feedback': valid && !invalid}\">\n        <slot>{{label}}</slot>\n    </div>\n\n</template>\n\n<script>\nimport Colorable from '../../Mixins/Colorable/Colorable';\n\nexport default {\n\n    name: 'form-feedback',\n\n    mixins: [\n        Colorable\n    ],\n\n    props: {\n\n        /**\n         * The value of label element. If no value, no label will appear.\n         *\n         * @property String\n         */\n        label: String,\n\n        /**\n         * Should the feedback marked as invalid\n         *\n         * @property String\n         */\n        invalid: Boolean,\n\n        /**\n         * Should the feedback marked as invalid\n         *\n         * @property String\n         */\n        valid: Boolean\n\n    }\n\n};\n</script>\n","<template>\n    <div class=\"editor\">\n        <editor-toolbar\n            ref=\"toolbar\"\n            :value=\"value\"\n            :activity=\"isLinting\"\n            :errors=\"currentErrors\"\n            :title.sync=\"currentFilename\"\n            :page-controls=\"pageControls\"\n            @input=\"onToolbarInput\"\n            @lint=\"onClickLint\"\n            @new=\"onClickNew\"\n            @save=\"onClickSave\"\n            @open=\"onClickOpen\"\n            @close=\"onClickClose\"\n            @save-as=\"onClickSaveAs\"\n            @convert=\"onClickConvert\"\n            @export-errors=\"onExportErrors\" />\n\n        <div class=\"editor-field-container\">\n            <editor-field ref=\"editor\" v-model=\"value\" v-bind=\"mergedOptions\" @input=\"onEditorInput\" />\n            <input ref=\"file\" type=\"file\" class=\"d-none\" @input=\"onFileSelected\"/>\n        </div>\n    </div>\n</template>\n\n<script>\nimport './LintAddon';\nimport LintState from './LintState';\nimport EditorField from './EditorField';\nimport EditorToolbar from './EditorToolbar';\nimport InputField from 'vue-interface/src/Components/InputField';\nimport { deepExtend } from 'vue-interface/src/Helpers/Functions';\n\nexport default {\n\n    name: 'editor',\n\n    components: {\n        EditorField,\n        EditorToolbar\n    },\n\n    props: {\n\n        errors: Array,\n\n        contents: String,\n\n        extraKeys: Object,\n\n        filename: String,\n\n        gutters: Array,\n\n        lint: Object,\n\n        matchTags: Object,\n\n        options: Object,\n\n        pageControls: {\n            type: Boolean,\n            default: true\n        }\n\n    },\n\n    computed: {\n\n        mergedOptions() {\n            return deepExtend({\n                foldGutter: true,\n                matchTags: Object.assign({\n                    bothTags: true\n                }, this.matchTags),\n                gutters: this.gutters || [\n                    'CodeMirror-linenumbers',\n                    LintState.id,\n                    'CodeMirror-foldgutter'\n                ],\n                extraKeys: Object.assign({\n                    'Ctrl-N': this.onClickNew,\n                    'Ctrl-O': this.onClickOpen,\n                    'Ctrl-S': this.onClickSave,\n                    'Ctrl-Q': this.onClickClose,\n                    'Ctrl-C': this.onClickConvert,\n                    'Shift-Ctrl-S': this.onClickSaveAs,\n                    'Ctrl-J': 'toMatchingTag',\n                    'Ctrl-Space': 'autocomplete',\n                    'Ctrl-V': () => {\n                        this.$refs.toolbar.$refs.lint.$el.click();\n                    }\n                    /*,\n                    'Ctrl-Q': cm => {\n                        cm.foldCode(cm.getCursor());\n                    }\n                    */\n                }, this.extraKeys),\n                lint: Object.assign({\n                    url: 'lint',\n                    errors: this.errors,\n                    data: cm => {\n                        return {\n                            html: cm.getValue()\n                        };\n                    },\n                    onStart: () => {\n                        this.isLinting = true;\n                    },\n                    onComplete: () => {\n                        this.isLinting = false;\n                    },\n                    onSuccess: () => {\n                        this.currentErrors = [];\n                        this.$emit('lint-success');\n                    },\n                    onError: error => {\n                        if(error.response.status === 406) {\n                            this.$emit('lint-error', error, this.currentErrors = error.response.data.errors);\n                        }\n                    }\n                }, this.lint)\n            }, this.options);\n        }\n\n    },\n\n    methods: {\n\n        onClickConvert() {\n            this.$emit('convert', this.value, this.currentFilename);\n        },\n\n        onToolbarInput() {\n            this.onEditorInput();\n        },\n\n        onEditorInput() {\n            this.$nextTick(() => {\n                this.$emit('input', {\n                    contents: this.value,\n                    filename: this.currentFilename\n                });\n            });\n        },\n\n        onExportErrors() {\n            console.log('export errors');\n        },\n\n        onFileSelected(event) {\n            const reader = new FileReader();\n\n            // Closure to capture the file information.\n            reader.onload = e => {\n                this.$refs.editor.cm.setValue(e.target.result);\n                this.$refs.editor.cm.lint();\n            };\n\n            reader.readAsText(event.target.files[0]);\n\n            this.currentFilename = event.target.files[0].name;\n        },\n\n        onClickNew() {\n            this.currentFilename = null;\n            this.$refs.editor.cm.setValue(this.value = '');\n            this.$refs.editor.cm.focus();\n            this.$emit('new');\n        },\n\n        onClickSave() {\n            if(this.currentFilename) {\n                this.$emit('download', this.value, this.currentFilename);\n                this.$emit('save', this.value, this.currentFilename);\n            }\n            else {\n                this.onClickSaveAs();\n            }\n        },\n\n        onClickSaveAs() {\n            this.$prompt('Save File As', InputField, {\n                content: {\n                    on: {\n                        keypress: (e) => {\n                            // \"return\" key code\n                            if(e.keyCode === 13) {\n                                e.target.closest('.modal-dialog').querySelector('.btn-primary').click();\n                                e.preventDefault();\n                            }\n                        }\n                    },\n                    propsData: {\n                        label: 'Enter the name of the file',\n                        value: this.currentFilename\n                    }\n                }\n            }).then(modal => {\n                this.$emit('download', this.value, this.currentFilename);\n                this.$emit('save-as', this.value, this.currentFilename);\n            });\n        },\n\n        onClickOpen(event) {\n            this.$refs.file.click();\n        },\n\n        onClickClose() {\n            this.$emit('close');\n        },\n\n        onClickLint(event) {\n            this.$refs.editor.cm.lint();\n        }\n\n    },\n\n    data() {\n        return {\n            isLinting: false,\n            value: this.contents,\n            currentFilename: this.filename,\n            currentErrors: this.errors || []\n        };\n    },\n\n    mounted() {\n        this.$nextTick(() => {\n            this.$refs.editor.cm.focus();\n            this.$refs.editor.cm.setSize('100%', `calc(100% - ${this.$el.querySelector('.editor-toolbar').clientHeight}px)`);\n\n            if(this.$refs.editor.cm.getValue() && !this.currentErrors.length) {\n                this.$refs.editor.cm.lint();\n            }\n        });\n    }\n\n};\n</script>\n\n<style lang=\"scss\">\n@import './node_modules/bootstrap/scss/_functions.scss';\n@import './node_modules/bootstrap/scss/_variables.scss';\n\n.editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #282a36 !important;\n}\n\n.edit-toolbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 100;\n\n    .btn {\n        position: relative;\n\n        .badge {\n            top: 0;\n            right: 0;\n            z-index: 1;\n            transform: translate(50%, -25%);\n        }\n\n        &.has-error > svg {\n            color: $danger;\n        }\n    }\n\n    .edit-toolbar-actions {\n\n        .dropdown-item {\n            display: flex;\n            align-items: center;\n\n            span {\n                margin-right: 1.5em;\n            }\n\n            code {\n                font-size: 8px;\n                margin-left: auto;\n            }\n\n            kbd {\n                background: rgb(60, 60, 60);\n\n                &:not(:last-child) {\n                    margin-right: .25em;\n                }\n            }\n\n            svg {\n                width: 9px;\n            }\n        }\n    }\n\n}\n\n.editor-field-container {\n    flex: 1;\n}\n</style>\n","<template>\n    <div class=\"modal-body\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-body'\n\n};\n</script>\n","<template>\n    <div class=\"modal-dialog\" role=\"document\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-dialog'\n\n};\n</script>\n","<template>\n    <h5 class=\"modal-title\"><slot/></h5>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-title'\n\n};\n</script>\n","<template>\n    <div class=\"modal-footer\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-footer'\n\n};\n</script>\n","<template>\n    <div class=\"modal-content\"><slot/></div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-content'\n\n};\n</script>\n","<template>\n    <div class=\"modal-backdrop\" :class=\"{'fade': fade, 'show': show}\">\n        <slot/>\n    </div>\n</template>\n\n<script>\nexport default {\n\n    name: 'modal-backdrop',\n\n    props: {\n\n        /**\n         * Show the modal with a fade effect.\n         *\n         * @property Boolean\n         */\n        fade: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the modal showing.\n         *\n         * @property Boolean\n         */\n        show: {\n            type: Boolean,\n            default: true\n        }\n\n    }\n\n};\n</script>\n","import { each, isString } from '../../Helpers/Functions';\nimport transition from '../../Helpers/Transition';\n\nexport default {\n\n    props: {\n\n        /**\n         * Show the triggerable element with a animated fade effect.\n         *\n         * @type {Boolean}\n         */\n        animation: {\n            type: Boolean,\n            default: true\n        },\n\n        /**\n         * Is the triggerable element showing.\n         *\n         * @property Boolean\n         */\n        show: {\n            type: Boolean,\n            defaut: false\n        },\n\n        /**\n         * The target element used to position the popover.\n         *\n         * @type {String|Element|Boolean}\n         */\n        target: {\n            type: [String, Element, Boolean],\n            default: false\n        },\n\n        /**\n         * How the modal is triggered - click | hover | focus | manual. You may\n         * pass multiple triggers; separate them with a space. `manual` cannot\n         * be combined with any other trigger.\n         *\n         * @type {String}\n         */\n        trigger: {\n            type: [String, Array],\n            default: 'click'\n        }\n\n    },\n\n    methods: {\n\n        /**\n         * Initialize the trigger event for the specified elements\n         *\n         * @param  {Element} el\n         * @return {void}\n         */\n        initializeTrigger(el) {\n            each(isString(this.trigger) ? this.trigger.split(' ') : this.trigger, trigger => {\n                el.addEventListener(trigger, event => {\n                    this.toggle();\n                });\n            });\n        },\n\n        /**\n         * Initialize the event triggers\n         *\n         * @return void\n         */\n        initializeTriggers() {\n            if(this.target && this.trigger !== 'manual') {\n                if(this.target instanceof Element) {\n                    this.initializeTrigger(this.target);\n                }\n                else {\n                    document.querySelectorAll(this.target).forEach(el => {\n                        this.initializeTrigger(el);\n                    });\n                }\n            }\n\n            if(this.show || !this.target) {\n                this.$nextTick(() => {\n                    this.isShowing = true;\n                });\n            }\n        },\n\n        /**\n         * Focus on the first field in the modal (if exists).\n         *\n         * @return this\n         */\n        focus() {\n            this.$nextTick(() => {\n                const el = this.$el.querySelector('.form-control, input, select, textarea');\n\n                if(el) {\n                    el.focus();\n                }\n                else {\n                    this.$el.focus();\n                }\n            });\n\n            return this;\n        },\n\n        /**\n         * Open the triggereable element\n         *\n         * @return this\n         */\n        open() {\n            this.isDisplaying = true;\n\n            this.$nextTick(() => {\n                transition(this.$el).then(delay => {\n                    this.isShowing = true;\n                    this.$emit('open');\n                });\n            });\n\n            return this;\n        },\n\n        /**\n         * Close the triggereable element\n         *\n         * @return this\n         */\n        close(event) {\n            transition(this.$el).then(delay => {\n                this.isDisplaying = false;\n                this.$emit('close', event);\n            });\n\n            this.isShowing = false;\n\n            return this;\n        },\n\n        /**\n         * Toggle the triggereable element's open/close method.\n         *\n         * @return this\n         */\n        toggle() {\n            if(!this.isShowing) {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n\n            return this;\n        }\n\n    },\n\n    computed: {\n\n        triggerableClasses() {\n            return {\n                'fade': this.animation,\n                'show': this.isShowing\n            };\n        }\n\n    },\n\n    watch: {\n\n        isShowing(value) {\n            if(value) {\n                this.focus();\n            }\n        },\n\n        show(value) {\n            this.isShowing = value;\n        }\n\n    },\n\n    mounted() {\n        this.initializeTriggers();\n    },\n\n    data() {\n        return {\n            isDisplaying: this.show || !this.target,\n            isShowing: false\n        };\n    }\n\n};\n","import Editor from './Editor';\nimport LintState from './LintState';\nimport EditorField from './EditorField';\nimport EditorHotkey from './EditorHotkey';\nimport EditorToolbar from './EditorToolbar';\nimport 'vue-interface/dist/vue-interface.css';\nimport Modal from 'vue-interface/src/Plugins/Modal';\nimport EditorToolbarMenuItem from './EditorToolbarMenuItem';\n\nif(window && window.Vue) {\n    window.Vue.use(Modal);\n    window.Vue.component('editor', Editor);\n    window.Vue.component('editor-field', EditorField);\n    window.Vue.component('editor-hotkey', EditorHotkey);\n    window.Vue.component('editor-toolbar', EditorToolbar);\n    window.Vue.component('editor-toolbar-menu-item', EditorToolbarMenuItem);\n}\n\nexport {\n    Editor,\n    EditorField,\n    EditorHotkey,\n    EditorToolbar,\n    EditorToolbarMenuItem,\n    LintState\n};\n"],"names":["isBuffer","obj","constructor","isSlowBuffer","readFloatLE","slice","isArray","val","toString","call","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","str","replace","isStandardBrowserEnv","navigator","product","window","document","forEach","fn","i","l","length","key","Object","prototype","hasOwnProperty","merge","assignValue","result","arguments","extend","a","b","thisArg","bind","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","e","this","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","nextTick","args","Array","push","Item","array","noop","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","performanceNow","performance","seconds","Math","floor","nanoseconds","uptime","Date","startTime","encode","encodeURIComponent","E","message","btoa","input","block","charCode","String","output","idx","map","chars","charAt","charCodeAt","setContentTypeIfUnset","headers","value","utils","InterceptorManager","handlers","throwIfCancellationRequested","config","cancelToken","throwIfRequested","Axios","instanceConfig","defaults","interceptors","request","response","Cancel","CancelToken","executor","TypeError","resolvePromise","promise","Promise","resolve","token","reason","createInstance","defaultConfig","context","instance","assign","isNull","deepExtend","target","sources","source","shift","[object Object]","isNumeric","match","parseFloat","each","subject","Function","isBoolean","isEmpty","keys","kebabCase","toLowerCase","mapKeys","object","mapped","update","newConfig","_params$asNewDefault","undefined","asNewDefault","validKeys","config$1","ok","k","indexOf","initialKeys","configKey","auto","autoReplaceSvg","observeMutations","isReserved","RESERVED_CLASSES","insertCss","css","IS_DOM","style","DOCUMENT","createElement","setAttribute","innerHTML","headChildren","head","childNodes","beforeChild","child","tagName","toUpperCase","insertBefore","nextUniqueId","_uniqueId","toArray","classArray","node","classList","getAttribute","split","filter","getIconName","familyPrefix","cls","parts","prefix","iconName","join","htmlEscape","joinAttributes","attributes","reduce","acc","attributeName","joinStyles","styles","styleName","transformIsMeaningful","transform","size","meaninglessTransform","x","y","rotate","flipX","flipY","transformForSvg","_ref","containerWidth","iconWidth","outer","inner","path","transformForCss","_ref2","_ref2$width","width","UNITS_IN_GRID","_ref2$height","height","_ref2$startCentered","startCentered","IS_IE","d","makeInlineSvgAbstract","params","_params$icons","icons","main","mask","symbol","title","extra","_params$watchable","watchable","found","widthClass","ceil","attrClass","replacementClass","classes","content","children","_extends","data-prefix","data-icon","class","role","xmlns","viewBox","DATA_FA_I2SVG","tag","id","makeIconMasking","makeIconStandard","asSymbol","asIcon","makeLayersTextAbstract","_params$watchable2","styleString","byUnicode","unicode","_byUnicode","byLigature","ligature","_byLigature","byOldName","_byOldName","getCanonicalIcon","values","styles$1","shim","rest","emptyCanonicalIcon","iconFromMapping","mapping","icon","toHtml","abstractNodes","_abstractNodes$attrib","_abstractNodes$childr","isWatched","getMutator","mutators","perform","mutations","callback","callbackFunction","noop$1","WINDOW","requestAnimationFrame","op","mutator","mark","perf","begin","disableObservation","operation","disabled","observe","options","MUTATION_OBSERVER","treeCallback","nodeCallback","pseudoElementsCallback","mo","objects","mutationRecord","type","addedNodes","searchPseudoElements","parentNode","ATTRIBUTES_WATCHED_FOR_MUTATION","_getCanonicalIcon","getElementsByTagName","childList","characterData","subtree","disconnect","toHex","parseMeta","_classParser","classParser","extraClasses","extraStyles","styleParser","transformParser","symbolParser","extraAttributes","attributesParser","maskParser","MissingIcon","error","stack","findIcon","missing","fill","showMissingIcons","generateSvgReplacementMutation","nodeMeta","generateLayersText","computedFontSize","parseInt","getComputedStyle","fontSize","boundingClientRect","getBoundingClientRect","autoA11y","generateMutation","LAYERS_TEXT_CLASSNAME","remove","removeChild","root","end","querySelectorAll","pos","fontFamily","getPropertyValue","FONT_FAMILY_PATTERN","pseudoElement","c","DATA_FA_PSEUDO_ELEMENT","nextSibling","textContent","STYLE_TO_PREFIX","innerText","substr","firstChild","appendChild","onTree","htmlClassList","documentElement","hclAdd","suffix","add","HTML_CLASS_I2SVG_BASE_CLASS","hclRemove","prefixes","prefixesDomQuery","p","candidates","mutation","PRODUCTION","console","onNode","define","normalized","namespace","hooks","addPack","prepIcon","ensureCss","autoAddCss","_cssInserted","apiObject","abstractCreator","defineProperty","get","abstract","container","html","findIconDefinition","_params$prefix","library","definitions","bootstrap","IS_BROWSER","FontAwesome","api$1","domready","autoReplace","MutationObserver","build","addShims","shims","_namespace$shims","apply","toConsumableArray","removeExistingErrors","state","errors","lint","cm","clearGutter","open","clear","close","createTooltip","div","className","createIcon","fontawesome","faBug","line","column","code","msg","rule","addErrors","range","getViewport","setGutterMarker","CodeMirror","findMatchingTag","ch","markText","from","to","UNDERLINE_CLASS","scrollIntoView","getScrollInfo","clientHeight","setCursor","onCursorActivity","lintErrorTooltip","findNearbyErrors","getCursor","carry","addWidget","delimeter","prefixer","string","RegExp","addClass","el","vnode","$el","removeClass","addEmptyClass","selectedIndex","emptyClass","normalizeComponent","compiledTemplate","injectStyle","defaultExport","scopeId","isFunctionalTemplate","moduleIdentifier","isShadowMode","createInjector","createInjectorSSR","createInjectorShadow","render","staticRenderFns","_compiled","functional","_scopeId","hook","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","isFinite","uuid","r","random","v","microtaskDebounce","called","then","taskDebounce","scheduled","timeoutDuration","functionToCheck","getType","getStyleComputedProperty","element","property","nodeType","ownerDocument","defaultView","getParentNode","nodeName","host","getScrollParent","body","_getStyleComputedProp","overflow","overflowX","overflowY","test","isIE","version","isIE11","isIE10","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getScroll","upperSide","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","modifier","top","bottom","left","right","getBordersSize","axis","sideA","sideB","getSize","computedStyle","max","getWindowSizes","getClientRect","offsets","sizes","clientWidth","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","isFixed","getFixedPositionOffsetParent","parentElement","getBoundaries","popper","reference","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","computeAutoPlacement","placement","refRect","rects","sortedAreas","area","sort","filteredAreas","computedPlacement","variation","getReferenceOffsets","getOuterSizes","marginBottom","marginRight","getOppositePlacement","hash","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","findIndex","prop","cur","runModifiers","modifiers","data","ends","warn","enabled","isDestroyed","arrowStyles","flipped","positionFixed","flip","originalPlacement","position","isCreated","onUpdate","onCreate","isModifierEnabled","modifierName","some","getSupportedPropertyName","upperProp","toCheck","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","event","scrollParents","isBody","addEventListener","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","removeEventListener","cancelAnimationFrame","n","isNaN","setStyles","unit","setAttributes","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","getRoundedOffsets","shouldRound","_data$offsets","isVertical","isVariation","sameWidthOddness","bothOddWidth","noRound","horizontalToInteger","round","verticalToInteger","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","devicePixelRatio","isFirefox","prefixedProperty","invertTop","invertLeft","x-placement","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","querySelector","sideCapitalized","side","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","min","getOppositeVariation","clockwise","counter","index","validPlacements","reverse","placementOpposite","flipOrder","behavior","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","flipVariations","keepTogether","toValue","parseOffset","offset","basePlacement","useHeight","fragments","frag","divider","search","ops","mergeWithPrevious","index2","preventOverflow","transformProp","popperStyles","priority","primary","escapeWithReference","secondary","shiftvariation","shiftOffsets","hide","bound","subtractLength","_classCallCheck","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","err","getAttrConfig","attr","coerce","idPool","innerTranslate","innerScale","innerRotate","mainWidth","mainPath","maskWidth","maskPath","trans","maskRect","ALL_SPACE","maskInnerGroup","maskOuterGroup","maskId","clipId","defs","maskUnits","maskContentUnits","clip-path","transform-origin","dfp","DEFAULT_FAMILY_PREFIX","drc","DEFAULT_REPLACEMENT_CLASS","fp","rc","s","baseStyles","dPatt","rPatt","styleToObject","pair","humps","camelize","classToObject","combineClassObjects","_len","objs","_key","convert","mixins","attrs","_data$class","dClass","_data$style","dStyle","_data$attrs","dAttrs","remainingData","objectWithoutProperties","log","_console","objectWithKey","_classes","fa-spin","spin","fa-pulse","pulse","fa-fw","fixedWidth","fa-border","border","fa-li","listItem","fa-flip-horizontal","fa-flip-vertical","rotation","pull","normalizeIconArgs","icon$$1","_typeof","duration","transitionDuration","numeric","transition","reject","delay","instantiate","Vue","Component","_v","$modal","modal","Modal","$content","$slots","default","$mount","_vnode","on","$on","$alert","propsData","$confirm","$prompt","predicate","succeed","fail","global","factory","module","classTest","removeChildren","count","removeChildrenAndAdd","elt","cssText","createTextNode","eltP","activeElt","activeElement","current","joinClasses","as","f","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","nextTab","findColumn","goal","col","skipped","spaceStr","spaceStrs","lst","out","insertSorted","score","splice","nothing","createObj","base","inst","create","isWordCharBasic","nonASCIISingleCaseWordChar","isWordChar","helper","isExtendingChar","extendingChars","skipExtendingChars","findFirst","pred","midF","mid","Display","place","doc","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","lines","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","init","getLine","chunk","sz","chunkSize","getBetween","iter","text","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","i$1","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","readOnly","mk","m","j","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","display","iterateBidiSections","part","level","getBidiPartAt","bidiOther","getOrder","direction","bidiOrdering","getHandlers","emitter","_handlers","noHandlers","off","detachEvent","map$$1","signal","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","mac","ctrlKey","zeroWidthElement","zwspSupported","hasBadBidiRects","badBidiRects","txt","r0","r1","hasBadZoomedRects","badZoomedRects","normal","fromRange","abs","defineMode","mode","dependencies","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","info","startState","a1","a2","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","o","overlays","baseTokens","overlay","at","i_end","opaque","baseTokenPos","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","Context","findStartLine","saved","fromSaved","processLine","nextLine","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","takeToken","asArray","tokens","Token","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","after","SavedContext","lookAhead","indented","retreatFrontier","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","cache","styleToClassCacheWithMode","styleToClassCache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","insertLineContent","maps","caches","lastChild","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","exec","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","operationGroup","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","widgetHeight","parentStyle","eventInWidget","paddingTop","offsetTop","paddingVert","paddingH","currentStyle","scrollGap","displayWidth","displayHeight","ensureLineHeights","wrapping","lineWrapping","curWidth","heights","getClientRects","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","chrome","android","pageXOffset","pageScrollY","pageYOffset","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","wrappedLineExtentChar","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","updateSelection","showSelection","prepareSelection","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","range$$1","empty","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","rightSide","drawForLine","fromArg","toArg","wrapX","extent","lineLen","fromPos","toPos","openStart","openEnd","openLeft","docLTR","openRight","leftSide","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","reset","receivedFocus","rmClass","updateHeightsInViewport","prevBottom","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","maybeScrollWindow","doScroll","phantom","scrollNode","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","scrollbarModel","scrollbarStyle","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","borderRightWidth","selectionSnapshot","hasFocus","active","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","editorIsHidden","force","visible","viewportMargin","different","wrapperHeight","toUpdate","selSnapshot","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","currentWheelTarget","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","presto","pixels","wheelSamples","movedX","movedY","sample","normalizeSelection","mayTouch","selectionsMayTouch","prim","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","origin","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","dest","equals","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","events","newGroup","instantiateSel","copy","deepCopy","newChanges","Number","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","sel_dontScroll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markTextShared","TextMarker","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","onDrop","clearDragCursor","lastDrop","files","dataTransfer","isReadOnly","FileReader","File","read","file","allowDropFileTypes","reader","onload","lineSeparator","readAsText","draggingText","text$1","getData","selected","listSelections","replaceSelection","onDragStart","setData","effectAllowed","setDragImage","safari","img","src","_top","onDragOver","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyCode","addModifierNames","noShift","altKey","flipCtrlCmd","metaKey","shiftKey","keyName","altGraphKey","keyMap","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","onKeyDown","handled","lastStoppedKey","hasCopyEvent","showCrossHair","up","onKeyUp","onKeyPress","fromCharCode","clickRepeat","now","lastDoubleClick","compare","lastClick","PastClick","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","captureRightClick","onContextMenu","configureMouse","option","chromeOS","addNew","moveOnDrag","contained","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","extendTo","lastPos","startCol","posCol","leftPos","startSel","ourIndex","oldRange","ourRange","ranges$1","bidiSimplify","sel_mouse","curCount","editorSize","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","guttersChanged","dragDropChanged","Init","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","optionHandlers","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","word","pageX","pageY","inp","getField","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","paste","textLines","splitLinesAuto","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","te","ios","findPosH","findNextLine","moveOnce","boundToLine","origDir","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","recognizeMarker","closing","lineSep","extraLinebreak","addText","walk","cmText","markerID","isBlock","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","fromTextArea","textarea","getValue","tabindex","tabIndex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","getWrapperElement","userAgent","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","vendor","mac_geMountainLion","windows","presto_version","endNode","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","select","selectionStart","selectionEnd","ms","sel_move","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","unshift","attachEvent","nl","rt","hasSelection","compareEndPoints","oncopy","lineOracle","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","pattern","consume","caseInsensitive","cased","hideFirstChars","oracle","baseToken","maxLookAhead","NativeScrollbars","vert","horiz","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","elementFromPoint","NullScrollbars","native","null","here","there","removeInner","insertInner","iterN","oldHeight","remaining","leaf","maybeSpill","me","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","setValue","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","gutterID","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","145","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","openLine","toggleOverwrite","defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","updateFromDOM","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","blur","poll","pollSelection","pollInterval","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","prepareCopyCut","createField","fastPoll","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","scrollTo","mouseup","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","dontDelegate","method","contenteditable","defineExtension","func","defineDocExtension","cmpPos","_isBuffer","self","env","argv","versions","release","addListener","once","removeListener","removeAllListeners","emit","mozNow","msNow","oNow","webkitNow","getTime","browser","normalizedName","enhanceError","validateStatus","status","createError","url","paramsSerializer","serializedParams","toISOString","JSON","stringify","ignoreDuplicateOf","parsed","resolveURL","href","msie","urlParsingNode","protocol","hostname","port","pathname","originURL","location","requestURL","write","expires","domain","secure","cookie","toGMTString","decodeURIComponent","require$$0","requestData","requestHeaders","XMLHttpRequest","loadEvent","xDomain","XDomainRequest","isURLSameOrigin","onprogress","ontimeout","auth","username","password","Authorization","buildURL","readyState","responseURL","responseHeaders","parseHeaders","getAllResponseHeaders","responseType","responseText","statusText","settle","onerror","cookies","require$$1","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","onUploadProgress","upload","abort","send","DEFAULT_CONTENT_TYPE","Content-Type","adapter","process","transformRequest","normalizeHeaderName","transformResponse","parse","maxContentLength","common","Accept","use","fulfilled","rejected","eject","fns","__CANCEL__","baseURL","relativeURL","isAbsoluteURL","combineURLs","transformData","isCancel","chain","dispatchRequest","interceptor","axios","require$$2","all","promises","spread","require$$3","LintState","defaultValue","post","$cm","$response","$errors","_WINDOW","_DOCUMENT","_MUTATION_OBSERVER$1","_PERFORMANCE","_ref$userAgent","PERFORMANCE","oneToTen","oneToTwenty","classCallCheck","createClass","defineProperties","arr2","initial","FontAwesomeConfig","_default","keepOriginalSource","measurePerformance","functions","listener","loaded","noop$2","preamble","bindInternal4","thisContext","initialValue","styles$2","lookup","reducer","ligatures","hasRegular","oldName","newOuterHTML","outerHTML","newNode","nest","forSvg","splitClasses","toSvg","newInnerHTML","existingPrefix","existingIconName","parseTransformString","transformString","FILL","ANIMATION_BASE","attributeType","repeatCount","dur","RING","OPACITY_ANIMATE","cx","cy","opacity","Solid","Regular","Light","Brands","Library","_this","additions","_pullDefinitions","definition","0","_normalized$key","noAuto","dom","i2svg","_params$node","_params$callback","maybeIconDefinition","iconDefinition","_params$transform","_params$symbol","_params$mask","_params$title","_params$classes","_params$attributes","_params$styles","_params$transform2","_params$title2","_params$classes2","_params$attributes2","_params$styles2","layer","assembler","exports","svgPathData","existingErrors","htmlConfig","autoSelfClosers","br","command","embed","frame","hr","keygen","link","meta","param","track","wbr","menuitem","implicitlyClosed","dd","li","optgroup","rp","tbody","td","tfoot","tr","contextGrabbers","dt","address","article","aside","blockquote","dl","fieldset","footer","h1","h2","h3","h4","h5","h6","header","hgroup","menu","nav","ol","section","table","ul","thead","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","inText","parser","tokenize","inBlock","doctype","inTag","baseState","tagStart","inAttribute","stringStartCol","quote","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","setStyle","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","htmlMode","isInText","baseIndent","textAfter","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","blockCommentStart","blockCommentEnd","configuration","skipAttribute","parserConfig","readRegexp","escaped","inSet","ret","tp","cont","tokenBase","tokenString","tokenComment","expressionAllowed","tokenQuasi","isOperatorChar","lexical","wordRE","lastType","keywords","propertyIsEnumerable","kw","jsonldMode","isJsonldKeyword","maybeEnd","findFatArrow","fatArrowAt","isTS","sawSomething","bracket","brackets","JSLexical","inScope","varname","localVars","vars","parseJS","cc","marked","jsonMode","expression","statement","lex","pass","inList","register","newContext","registerVarScoped","Var","globalVars","isModifier","pushcontext","defaultVars","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","atomicTypes","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","continueQuasi","targetNoComma","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","sep","proceed","mayberettype","isKW","afterType","typeprop","typearg","maybeReturnType","functiondecl","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","statementIndent","jsonld","json","typescript","wordCharacters","A","B","C","D","operator","atom","if","while","with","else","do","try","finally","return","break","continue","new","delete","void","throw","debugger","var","const","let","function","catch","for","switch","case","in","typeof","instanceof","true","false","super","yield","export","import","extends","await","number","variable","regexp","jsonld-keyword","basecolumn","firstChar","doubleIndentSwitch","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","keySet","tokenCComment","tokenHooks","tokenParenthesized","pushContext","states","popAndPass","wordAsValue","valueKeywords","colorKeywords","inline","propertyKeywords","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","allowNested","supportsAtComponent","stateArg","maybeprop","propBlock","parens","pseudo","atBlock","atComponentBlock","atBlock_parens","restricted_atBlock_before","restricted_atBlock","keyframes","interpolation","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","/",":","$","#","@","&","maybeBackup","pat","getAttrRegexp","attrRegexpCache","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","defaultTags","script","htmlState","tags","endTagA","endTag","localState","localMode","configTags","configScript","scriptTypes","matches","local","Iter","tagAt","prevLine","toTagEnd","gt","lastSlash","lastIndexOf","selfClose","toTagStart","lt","xmlTagStart","toNextTag","toPrevTag","findMatchingClose","startLine","findMatchingOpen","endLine","nameStartChar","openTag","startPos","endPos","findEnclosingTag","scanForClosingTag","tagHit","tagOther","doMatchTags","failedTagMatch","matchBothTags","hit","maybeUpdateMatch","bothTags","toMatchingTag","conf","ensureBound","handler","handleChar","getConfig","handleBackspace","pairs","around","charsAround","handleEnter","explode","linesep","contractSelection","inverted","triples","identical","opening","curType","stringStartsAfter","doFold","allowFolded","finder","minSize","marks","__isFold","cleared","myWidget","makeWidget","myRange","editorOptions","foldOptions","defaultOptions","newFoldFunction","rangeFinder","toggleFold","foldCode","unfold","foldAll","unfoldAll","minFoldSize","scanUp","State","parseOptions","opts","indicatorOpen","indicatorFolded","isFolded","updateFoldInfo","foldGutter","foldOption","updateInViewport","vp","onGutterClick","folded","onChange","changeUpdate","foldOnChangeTimeSpan","onViewportChange","updateViewportTimeSpan","onFold","findOpening","openCh","lineText","tokenType","startToken","endToken","nextOpen","nextClose","hasImport","semi","has","hasInclude","lineIndent","spaceTo","myIndent","lastLineInFold","isHeader","tokentype","headerLevel","maxDepth","lastLineNo","nextNextLine","Completion","debounce","tick","startLen","activityFunc","editor","hintOptions","getText","completion","buildKeyMap","addBinding","baseMap","ourMap","moveFocus","menuSize","setFocus","pick","custom","customKeys","getHintElement","hintsElement","Widget","picked","parentWindow","hints","selectedHint","completions","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","hintId","alignWithWord","below","winW","winH","overlapY","scrolls","startScroll","overlapX","avoidWrap","changeActive","screenAmount","closeOnUnfocus","closingOnBlur","onScroll","curScroll","point","t","completeOnSingleClick","applicableHelpers","supportsSelection","fetchHints","async","resolveAutoHints","words","resolved","app","fromList","anyword","showHint","getHints","newOpts","selections","completionActive","closeCharacters","disable","myTick","finishUpdate","completeSingle","term","autocomplete","schemaInfo","quoteChar","replaceToken","tagType","curTag","globalAttrs","nm","atValues","atName","populate","htmlHint","xml","langs","targets","charsets","methods","encs","media","ping","hreflang","abbr","acronym","applet","shape","audio","mediagroup","crossorigin","preload","autoplay","loop","controls","basefont","bdi","bdo","big","cite","formaction","formenctype","formmethod","formnovalidate","formtarget","canvas","caption","colgroup","label","radiogroup","checked","datagrid","multiple","datalist","del","datetime","details","dfn","em","eventsource","figcaption","figure","font","action","accept-charset","enctype","novalidate","frameset","manifest","iframe","srcdoc","sandbox","seamless","ismap","usemap","dirname","maxlength","accept","readonly","required","ins","kbd","challenge","keytype","legend","charset","http-equiv","meter","low","high","optimum","noframes","noscript","typemustmatch","reversed","progress","q","ruby","samp","defer","small","strike","strong","scoped","summary","sup","colspan","rowspan","rows","cols","scope","kind","srclang","tt","u","video","poster","muted","accesskey","contextmenu","dropzone","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","translate","onclick","htmlSchema","DiffView","connect","ensureDiff","dv","diffOutOfDate","getDiff","orig","edit","ignoreWhitespace","chunks","getChunks","registerUpdate","updating","updatingFast","svg","copyButtons","clearMarks","showDifferences","updateMarks","DIFF_INSERT","DIFF_DELETE","alignChunks","makeConnections","needsScrollSync","syncScroll","setDealign","fast","dealigned","debounceChange","_cm","trackAlignable","registerScroll","otherDv","toOrig","lockScroll","scrollSetBy","scrollSetAt","sInfo","targetPos","botDist","mix","halfScreen","midY","chunkBoundariesAround","getOffsets","offOther","ratio","otherInfo","setScrollLock","lockButton","locs","classLocation","markChanges","lineNr","markChunk","bfrom","bto","chunkStart","pending","DIFF_EQUAL","cleanFrom","startOfLineClean","moveOver","cleanTo","endOfLineClean","posMax","posMin","posEq","vpEdit","vpOrig","outerTop","sTopEdit","sTopOrig","editFrom","editTo","origFrom","origTo","drawConnectorsForChunk","getMatchingOrigLine","editLine","editStart","origStart","alignableFor","isOrig","tracker","trackI","mergeAlignable","origAlignable","setIndex","rI","origI","chunkI","nextR","nextO","rLine","oLine","record","findAlignedLines","linesToAlign","aligners","ln","alignLines","maxOffset","padAbove","mergeSpacer","topLpx","topRpx","tmp","botLpx","botRpx","createElementNS","svgNS","editOriginals","allowEditingOriginals","topReverse","copyReverse","copyChunk","origEnd","editEnd","revertChunk","buildGap","lock","lockWrap","gapElts","revertButtons","createSVGRect","asString","dmp","diff_match_patch","diff_main","startEdit","startOrig","startOff","cleanFromEdit","cleanFromOrig","endOff","cleanToEdit","cleanToOrig","nInEdit","beforeE","afterE","beforeO","afterO","fromLocal","toLocal","collapseSingle","collapseStretch","unclearNearChunks","collapseIdenticalStretches","onCollapse","TrackAlignable","F_MARKER","_min","hasMarker","F_WIDGET_BELOW","F_WIDGET","hasWidgetBelow","hasWidget","nBefore","nAfter","findPrevDiff","findNextDiff","goNearbyDiff","views","diffViews","pane","chunkClassLocation","registerEvents","setShowDifferences","MergeView","origLeft","origRight","hasLeft","hasRight","panes","leftPane","editPane","rightPane","wrapElt","collapseIdentical","resizeInterval","rightOriginal","leftOriginal","rightChunks","leftChunks","flags","flag","widgetFrom","widgetTo","goNextDiff","goPrevDiff","computed","$attrs","arg","changedClass","inheritAttrs","Colorable","MergeClasses","activity","Boolean","feedback","bindEvents","defaultControlClass","hideLabel","invalid","valid","spacing","validate","helpText","directives","changedValue","$watch","$emit","controlClasses","customControlClass","plaintext","controlClass","mergeClasses","has-activity","is-valid","validFeedback","is-invalid","invalidFeedback","colorableClasses","controlSizeClass","getFieldErrors","variant","variantClassPrefix","sizeableClassPrefix","isBrowser","longerTimeoutBrowsers","MSInputMethodContext","placements","Defaults","onLoad","Popper","jquery","Utils","PopperUtils","commonjsGlobal","_processKeys","_isObject","_isDate","_isRegExp","_isBoolean","_isFunction","_isArray","separateWords","separator","_isNumerical","chr","pascalize","camelized","decamelize","_processor","depascalize","camelizeKeys","decamelizeKeys","pascalizeKeys","depascalizeKeys","FontAwesomeIcon","validator","iconArgs","maskArgs","renderedIcon","srOnly","srOnlyFocusable","sr-only","sr-only-focusable","animation","show","defaut","Element","trigger","initializeTrigger","$nextTick","isShowing","isDisplaying","fade","watch","initializeTriggers","component","Editor","EditorField","EditorHotkey","EditorToolbar","EditorToolbarMenuItem"],"mappings":"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"}